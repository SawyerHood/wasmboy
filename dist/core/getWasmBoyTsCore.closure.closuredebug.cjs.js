'use strict';const wasmboyMemorySize=9109504,wasmByteMemory=new Uint8ClampedArray(wasmboyMemorySize),memory={size:()=>wasmboyMemorySize,grow:()=>{},wasmByteMemory},load=($offset$$)=>wasmByteMemory[$offset$$],store=($offset$$,$value$$)=>{wasmByteMemory[$offset$$]=$value$$},abs=($value$$)=>Math.abs($value$$),ceil=($value$$)=>Math.ceil($value$$);
var ASSEMBLYSCRIPT_MEMORY_LOCATION=0,ASSEMBLYSCRIPT_MEMORY_SIZE=1024,WASMBOY_STATE_LOCATION=ASSEMBLYSCRIPT_MEMORY_LOCATION+ASSEMBLYSCRIPT_MEMORY_SIZE,WASMBOY_STATE_SIZE=1024,VIDEO_RAM_LOCATION=WASMBOY_STATE_LOCATION+WASMBOY_STATE_SIZE,VIDEO_RAM_SIZE=16384,WORK_RAM_LOCATION=VIDEO_RAM_LOCATION+VIDEO_RAM_SIZE,WORK_RAM_SIZE=32768,OTHER_GAMEBOY_INTERNAL_MEMORY_LOCATION=WORK_RAM_LOCATION+WORK_RAM_SIZE,OTHER_GAMEBOY_INTERNAL_MEMORY_SIZE=16384,GAMEBOY_INTERNAL_MEMORY_LOCATION=VIDEO_RAM_LOCATION,GAMEBOY_INTERNAL_MEMORY_SIZE=
OTHER_GAMEBOY_INTERNAL_MEMORY_LOCATION-VIDEO_RAM_LOCATION+OTHER_GAMEBOY_INTERNAL_MEMORY_SIZE,GBC_PALETTE_LOCATION=OTHER_GAMEBOY_INTERNAL_MEMORY_LOCATION+OTHER_GAMEBOY_INTERNAL_MEMORY_SIZE,GBC_PALETTE_SIZE=128,BG_PRIORITY_MAP_LOCATION=GBC_PALETTE_LOCATION+GBC_PALETTE_SIZE,BG_PRIORITY_MAP_SIZE=23552,FRAME_LOCATION=BG_PRIORITY_MAP_LOCATION+BG_PRIORITY_MAP_SIZE,FRAME_SIZE=93184,BACKGROUND_MAP_LOCATION=FRAME_LOCATION+FRAME_SIZE,BACKGROUND_MAP_SIZE=196608,TILE_DATA_LOCATION=BACKGROUND_MAP_LOCATION+BACKGROUND_MAP_SIZE,
TILE_DATA_SIZE=147456,OAM_TILES_LOCATION=TILE_DATA_LOCATION+TILE_DATA_SIZE,OAM_TILES_SIZE=15360,GRAPHICS_OUTPUT_LOCATION=GBC_PALETTE_LOCATION,GRAPHICS_OUTPUT_SIZE=OAM_TILES_LOCATION-GBC_PALETTE_LOCATION+OAM_TILES_SIZE,CHANNEL_1_BUFFER_LOCATION=OAM_TILES_LOCATION+OAM_TILES_SIZE,CHANNEL_1_BUFFER_SIZE=131072,CHANNEL_2_BUFFER_LOCATION=CHANNEL_1_BUFFER_LOCATION+CHANNEL_1_BUFFER_SIZE,CHANNEL_2_BUFFER_SIZE=131072,CHANNEL_3_BUFFER_LOCATION=CHANNEL_2_BUFFER_LOCATION+CHANNEL_2_BUFFER_SIZE,CHANNEL_3_BUFFER_SIZE=
131072,CHANNEL_4_BUFFER_LOCATION=CHANNEL_3_BUFFER_LOCATION+CHANNEL_3_BUFFER_SIZE,CHANNEL_4_BUFFER_SIZE=131072,AUDIO_BUFFER_LOCATION=CHANNEL_4_BUFFER_LOCATION+CHANNEL_4_BUFFER_SIZE,AUDIO_BUFFER_SIZE=131072,CARTRIDGE_RAM_LOCATION=AUDIO_BUFFER_LOCATION+AUDIO_BUFFER_SIZE,CARTRIDGE_RAM_SIZE=131072,CARTRIDGE_ROM_LOCATION=CARTRIDGE_RAM_LOCATION+CARTRIDGE_RAM_SIZE,CARTRIDGE_ROM_SIZE=8258560,DEBUG_GAMEBOY_MEMORY_LOCATION=CARTRIDGE_ROM_LOCATION+CARTRIDGE_ROM_SIZE,DEBUG_GAMEBOY_MEMORY_SIZE=65535,WASMBOY_MEMORY_LOCATION=
0,WASMBOY_MEMORY_SIZE=DEBUG_GAMEBOY_MEMORY_LOCATION+DEBUG_GAMEBOY_MEMORY_SIZE+1,WASMBOY_WASM_PAGES=ceil(WASMBOY_MEMORY_SIZE/1024/64)+1,Config=function(){function $Config$$(){}$Config$$.enableBootRom=!1;$Config$$.useGbcWhenAvailable=!0;$Config$$.audioBatchProcessing=!1;$Config$$.graphicsBatchProcessing=!1;$Config$$.timersBatchProcessing=!1;$Config$$.graphicsDisableScanlineRendering=!1;$Config$$.audioAccumulateSamples=!1;$Config$$.tileRendering=!1;$Config$$.tileCaching=!1;$Config$$.enableAudioDebugging=
!1;return $Config$$}();function u8Portable($param$$){return $param$$&255}function u16Portable($param$$){return $param$$&65535}function i8Portable($param$$){return $param$$<<24>>24}function i32Portable($param$$){return $param$$|0}function setFlagBit($bitwiseOperand_flagBit$$,$flagValue$$){$bitwiseOperand_flagBit$$=u8Portable(1<<$bitwiseOperand_flagBit$$);Cpu.registerF=0<$flagValue$$?Cpu.registerF|$bitwiseOperand_flagBit$$:Cpu.registerF&(255^$bitwiseOperand_flagBit$$);return Cpu.registerF}
function setZeroFlag$$1($value$$){setFlagBit(7,$value$$)}function setSubtractFlag($value$$){setFlagBit(6,$value$$)}function setHalfCarryFlag($value$$){setFlagBit(5,$value$$)}function setCarryFlag($value$$){setFlagBit(4,$value$$)}function getZeroFlag$$1(){return Cpu.registerF>>7&1}function getSubtractFlag(){return Cpu.registerF>>6&1}function getHalfCarryFlag(){return Cpu.registerF>>5&1}function getCarryFlag$$1(){return Cpu.registerF>>4&1}
function checkAndSetEightBitHalfCarryFlag($value$$,$amountToAdd$$){0<=$amountToAdd$$?0!==(u8Portable(($value$$&15)+($amountToAdd$$&15))&16)?setHalfCarryFlag(1):setHalfCarryFlag(0):(abs($amountToAdd$$)&15)>($value$$&15)?setHalfCarryFlag(1):setHalfCarryFlag(0)}
function checkAndSetEightBitCarryFlag($value$$,$amountToAdd$jscomp$1_result$$){0<=$amountToAdd$jscomp$1_result$$?($amountToAdd$jscomp$1_result$$=u8Portable($value$$+$amountToAdd$jscomp$1_result$$),$value$$>$amountToAdd$jscomp$1_result$$?setCarryFlag(1):setCarryFlag(0)):abs($amountToAdd$jscomp$1_result$$)>$value$$?setCarryFlag(1):setCarryFlag(0)}
function checkAndSetSixteenBitFlagsAddOverflow($flagXor_valueOne$$,$valueTwo$$,$result$$){$result$$?($flagXor_valueOne$$=$flagXor_valueOne$$^$valueTwo$$^$flagXor_valueOne$$+$valueTwo$$,0!==($flagXor_valueOne$$&16)?setHalfCarryFlag(1):setHalfCarryFlag(0),0!==($flagXor_valueOne$$&256)?setCarryFlag(1):setCarryFlag(0)):($result$$=u16Portable($flagXor_valueOne$$+$valueTwo$$),$result$$<$flagXor_valueOne$$?setCarryFlag(1):setCarryFlag(0),0!==u16Portable(($flagXor_valueOne$$^$valueTwo$$^$result$$)&4096)?
setHalfCarryFlag(1):setHalfCarryFlag(0))}
var WasmBoyGBColors=function(){function $WasmBoyGBColors$$(){}$WasmBoyGBColors$$.bgWhite=15921906;$WasmBoyGBColors$$.bgLightGrey=10526880;$WasmBoyGBColors$$.bgDarkGrey=5789784;$WasmBoyGBColors$$.bgBlack=526344;$WasmBoyGBColors$$.obj0White=15921906;$WasmBoyGBColors$$.obj0LightGrey=10526880;$WasmBoyGBColors$$.obj0DarkGrey=5789784;$WasmBoyGBColors$$.obj0Black=526344;$WasmBoyGBColors$$.obj1White=15921906;$WasmBoyGBColors$$.obj1LightGrey=10526880;$WasmBoyGBColors$$.obj1DarkGrey=5789784;$WasmBoyGBColors$$.obj1Black=
526344;return $WasmBoyGBColors$$}(),GreenColors=function(){function $GreenColors$$(){}$GreenColors$$.bgWhite=16777215;$GreenColors$$.bgLightGrey=5439232;$GreenColors$$.bgDarkGrey=16728576;$GreenColors$$.bgBlack=0;$GreenColors$$.obj0White=16777215;$GreenColors$$.obj0LightGrey=5439232;$GreenColors$$.obj0DarkGrey=16728576;$GreenColors$$.obj0Black=0;$GreenColors$$.obj1White=16777215;$GreenColors$$.obj1LightGrey=5439232;$GreenColors$$.obj1DarkGrey=16728576;$GreenColors$$.obj1Black=0;return $GreenColors$$}(),
OrangeColors=function(){function $OrangeColors$$(){}$OrangeColors$$.bgWhite=16777215;$OrangeColors$$.bgLightGrey=16776960;$OrangeColors$$.bgDarkGrey=16711680;$OrangeColors$$.bgBlack=0;$OrangeColors$$.obj0White=16777215;$OrangeColors$$.obj0LightGrey=16776960;$OrangeColors$$.obj0DarkGrey=16711680;$OrangeColors$$.obj0Black=0;$OrangeColors$$.obj1White=16777215;$OrangeColors$$.obj1LightGrey=16776960;$OrangeColors$$.obj1DarkGrey=16711680;$OrangeColors$$.obj1Black=0;return $OrangeColors$$}(),BrownColors=
function(){function $BrownColors$$(){}$BrownColors$$.bgWhite=16777215;$BrownColors$$.bgLightGrey=16756067;$BrownColors$$.bgDarkGrey=8663296;$BrownColors$$.bgBlack=0;$BrownColors$$.obj0White=16777215;$BrownColors$$.obj0LightGrey=16756067;$BrownColors$$.obj0DarkGrey=8663296;$BrownColors$$.obj0Black=0;$BrownColors$$.obj1White=16777215;$BrownColors$$.obj1LightGrey=16756067;$BrownColors$$.obj1DarkGrey=8663296;$BrownColors$$.obj1Black=0;return $BrownColors$$}(),InvertedColors=function(){function $InvertedColors$$(){}
$InvertedColors$$.bgWhite=0;$InvertedColors$$.bgLightGrey=33924;$InvertedColors$$.bgDarkGrey=16768512;$InvertedColors$$.bgBlack=16777215;$InvertedColors$$.obj0White=0;$InvertedColors$$.obj0LightGrey=33924;$InvertedColors$$.obj0DarkGrey=16768512;$InvertedColors$$.obj0Black=16777215;$InvertedColors$$.obj1White=0;$InvertedColors$$.obj1LightGrey=33924;$InvertedColors$$.obj1DarkGrey=16768512;$InvertedColors$$.obj1Black=16777215;return $InvertedColors$$}(),GrayscaleColors=function(){function $GrayscaleColors$$(){}
$GrayscaleColors$$.bgWhite=16777215;$GrayscaleColors$$.bgLightGrey=10855845;$GrayscaleColors$$.bgDarkGrey=5395026;$GrayscaleColors$$.bgBlack=0;$GrayscaleColors$$.obj0White=16777215;$GrayscaleColors$$.obj0LightGrey=10855845;$GrayscaleColors$$.obj0DarkGrey=5395026;$GrayscaleColors$$.obj0Black=0;$GrayscaleColors$$.obj1White=16777215;$GrayscaleColors$$.obj1LightGrey=10855845;$GrayscaleColors$$.obj1DarkGrey=5395026;$GrayscaleColors$$.obj1Black=0;return $GrayscaleColors$$}(),PastelMixColors=function(){function $PastelMixColors$$(){}
$PastelMixColors$$.bgWhite=16777125;$PastelMixColors$$.bgLightGrey=16749716;$PastelMixColors$$.bgDarkGrey=9737471;$PastelMixColors$$.bgBlack=0;$PastelMixColors$$.obj0White=16777125;$PastelMixColors$$.obj0LightGrey=16749716;$PastelMixColors$$.obj0DarkGrey=9737471;$PastelMixColors$$.obj0Black=0;$PastelMixColors$$.obj1White=16777125;$PastelMixColors$$.obj1LightGrey=16749716;$PastelMixColors$$.obj1DarkGrey=9737471;$PastelMixColors$$.obj1Black=0;return $PastelMixColors$$}(),DarkBrownColors=function(){function $DarkBrownColors$$(){}
$DarkBrownColors$$.bgWhite=16770757;$DarkBrownColors$$.bgLightGrey=13540484;$DarkBrownColors$$.bgDarkGrey=8678185;$DarkBrownColors$$.bgBlack=5910792;$DarkBrownColors$$.obj0White=16777215;$DarkBrownColors$$.obj0LightGrey=16756067;$DarkBrownColors$$.obj0DarkGrey=8663296;$DarkBrownColors$$.obj0Black=0;$DarkBrownColors$$.obj1White=16777215;$DarkBrownColors$$.obj1LightGrey=16756067;$DarkBrownColors$$.obj1DarkGrey=8663296;$DarkBrownColors$$.obj1Black=0;return $DarkBrownColors$$}(),DarkGreenColors=function(){function $DarkGreenColors$$(){}
$DarkGreenColors$$.bgWhite=16777215;$DarkGreenColors$$.bgLightGrey=8126257;$DarkGreenColors$$.bgDarkGrey=25541;$DarkGreenColors$$.bgBlack=0;$DarkGreenColors$$.obj0White=16777215;$DarkGreenColors$$.obj0LightGrey=16745604;$DarkGreenColors$$.obj0DarkGrey=9714234;$DarkGreenColors$$.obj0Black=0;$DarkGreenColors$$.obj1White=16777215;$DarkGreenColors$$.obj1LightGrey=16745604;$DarkGreenColors$$.obj1DarkGrey=9714234;$DarkGreenColors$$.obj1Black=0;return $DarkGreenColors$$}(),DarkBlueColors=function(){function $DarkBlueColors$$(){}
$DarkBlueColors$$.bgWhite=16777215;$DarkBlueColors$$.bgLightGrey=9211102;$DarkBlueColors$$.bgDarkGrey=5395084;$DarkBlueColors$$.bgBlack=0;$DarkBlueColors$$.obj0White=16777215;$DarkBlueColors$$.obj0LightGrey=16745604;$DarkBlueColors$$.obj0DarkGrey=9714234;$DarkBlueColors$$.obj0Black=0;$DarkBlueColors$$.obj1White=16777215;$DarkBlueColors$$.obj1LightGrey=16756067;$DarkBlueColors$$.obj1DarkGrey=8663296;$DarkBlueColors$$.obj1Black=0;return $DarkBlueColors$$}(),RedColors=function(){function $RedColors$$(){}
$RedColors$$.bgWhite=16777215;$RedColors$$.bgLightGrey=16745604;$RedColors$$.bgDarkGrey=9714234;$RedColors$$.bgBlack=0;$RedColors$$.obj0White=16777215;$RedColors$$.obj0LightGrey=8126257;$RedColors$$.obj0DarkGrey=33792;$RedColors$$.obj0Black=0;$RedColors$$.obj1White=16777215;$RedColors$$.obj1LightGrey=6530559;$RedColors$$.obj1DarkGrey=255;$RedColors$$.obj1Black=0;return $RedColors$$}(),BlueColors=function(){function $BlueColors$$(){}$BlueColors$$.bgWhite=16777215;$BlueColors$$.bgLightGrey=6530559;
$BlueColors$$.bgDarkGrey=255;$BlueColors$$.bgBlack=0;$BlueColors$$.obj0White=16777215;$BlueColors$$.obj0LightGrey=16745604;$BlueColors$$.obj0DarkGrey=9714234;$BlueColors$$.obj0Black=0;$BlueColors$$.obj1White=16777215;$BlueColors$$.obj1LightGrey=8126257;$BlueColors$$.obj1DarkGrey=33792;$BlueColors$$.obj1Black=0;return $BlueColors$$}(),YellowColors=function(){function $YellowColors$$(){}$YellowColors$$.bgWhite=16777215;$YellowColors$$.bgLightGrey=16776960;$YellowColors$$.bgDarkGrey=8079872;$YellowColors$$.bgBlack=
0;$YellowColors$$.obj0White=16777215;$YellowColors$$.obj0LightGrey=6530559;$YellowColors$$.obj0DarkGrey=255;$YellowColors$$.obj0Black=0;$YellowColors$$.obj1White=16777215;$YellowColors$$.obj1LightGrey=8126257;$YellowColors$$.obj1DarkGrey=33792;$YellowColors$$.obj1Black=0;return $YellowColors$$}(),Table00Entry08Colors=function(){function $Table00Entry08Colors$$(){}$Table00Entry08Colors$$.bgWhite=10853631;$Table00Entry08Colors$$.bgLightGrey=16776960;$Table00Entry08Colors$$.bgDarkGrey=25344;$Table00Entry08Colors$$.bgBlack=
0;$Table00Entry08Colors$$.obj0White=10853631;$Table00Entry08Colors$$.obj0LightGrey=16776960;$Table00Entry08Colors$$.obj0DarkGrey=25344;$Table00Entry08Colors$$.obj0Black=0;$Table00Entry08Colors$$.obj1White=10853631;$Table00Entry08Colors$$.obj1LightGrey=16776960;$Table00Entry08Colors$$.obj1DarkGrey=25344;$Table00Entry08Colors$$.obj1Black=0;return $Table00Entry08Colors$$}(),Table01Entry0BColors=function(){function $Table01Entry0BColors$$(){}$Table01Entry0BColors$$.bgWhite=16777215;$Table01Entry0BColors$$.bgLightGrey=
6530559;$Table01Entry0BColors$$.bgDarkGrey=255;$Table01Entry0BColors$$.bgBlack=0;$Table01Entry0BColors$$.obj0White=16777215;$Table01Entry0BColors$$.obj0LightGrey=16745604;$Table01Entry0BColors$$.obj0DarkGrey=9714234;$Table01Entry0BColors$$.obj0Black=0;$Table01Entry0BColors$$.obj1White=16777215;$Table01Entry0BColors$$.obj1LightGrey=6530559;$Table01Entry0BColors$$.obj1DarkGrey=255;$Table01Entry0BColors$$.obj1Black=0;return $Table01Entry0BColors$$}(),Table01Entry10Colors=function(){function $Table01Entry10Colors$$(){}
$Table01Entry10Colors$$.bgWhite=16777215;$Table01Entry10Colors$$.bgLightGrey=16745604;$Table01Entry10Colors$$.bgDarkGrey=9714234;$Table01Entry10Colors$$.bgBlack=0;$Table01Entry10Colors$$.obj0White=16777215;$Table01Entry10Colors$$.obj0LightGrey=8126257;$Table01Entry10Colors$$.obj0DarkGrey=33792;$Table01Entry10Colors$$.obj0Black=0;$Table01Entry10Colors$$.obj1White=16777215;$Table01Entry10Colors$$.obj1LightGrey=16745604;$Table01Entry10Colors$$.obj1DarkGrey=9714234;$Table01Entry10Colors$$.obj1Black=0;
return $Table01Entry10Colors$$}(),Table03Entry0AColors=function(){function $Table03Entry0AColors$$(){}$Table03Entry0AColors$$.bgWhite=11908607;$Table03Entry0AColors$$.bgLightGrey=16777108;$Table03Entry0AColors$$.bgDarkGrey=11360834;$Table03Entry0AColors$$.bgBlack=0;$Table03Entry0AColors$$.obj0White=0;$Table03Entry0AColors$$.obj0LightGrey=16777215;$Table03Entry0AColors$$.obj0DarkGrey=16745604;$Table03Entry0AColors$$.obj0Black=9714234;$Table03Entry0AColors$$.obj1White=0;$Table03Entry0AColors$$.obj1LightGrey=
16777215;$Table03Entry0AColors$$.obj1DarkGrey=16745604;$Table03Entry0AColors$$.obj1Black=9714234;return $Table03Entry0AColors$$}(),Table05Entry00Colors=function(){function $Table05Entry00Colors$$(){}$Table05Entry00Colors$$.bgWhite=16777215;$Table05Entry00Colors$$.bgLightGrey=11382148;$Table05Entry00Colors$$.bgDarkGrey=4354939;$Table05Entry00Colors$$.bgBlack=0;$Table05Entry00Colors$$.obj0White=16777215;$Table05Entry00Colors$$.obj0LightGrey=16741120;$Table05Entry00Colors$$.obj0DarkGrey=9716224;$Table05Entry00Colors$$.obj0Black=
0;$Table05Entry00Colors$$.obj1White=16777215;$Table05Entry00Colors$$.obj1LightGrey=5946879;$Table05Entry00Colors$$.obj1DarkGrey=16711680;$Table05Entry00Colors$$.obj1Black=255;return $Table05Entry00Colors$$}(),Table05Entry01Colors=function(){function $Table05Entry01Colors$$(){}$Table05Entry01Colors$$.bgWhite=16777116;$Table05Entry01Colors$$.bgLightGrey=9745919;$Table05Entry01Colors$$.bgDarkGrey=6526067;$Table05Entry01Colors$$.bgBlack=14906;$Table05Entry01Colors$$.obj0White=16762178;$Table05Entry01Colors$$.obj0LightGrey=
16766464;$Table05Entry01Colors$$.obj0DarkGrey=9714176;$Table05Entry01Colors$$.obj0Black=4849664;$Table05Entry01Colors$$.obj1White=16777215;$Table05Entry01Colors$$.obj1LightGrey=16745604;$Table05Entry01Colors$$.obj1DarkGrey=9714234;$Table05Entry01Colors$$.obj1Black=0;return $Table05Entry01Colors$$}(),Table05Entry02Colors=function(){function $Table05Entry02Colors$$(){}$Table05Entry02Colors$$.bgWhite=7077632;$Table05Entry02Colors$$.bgLightGrey=16777215;$Table05Entry02Colors$$.bgDarkGrey=16732746;$Table05Entry02Colors$$.bgBlack=
0;$Table05Entry02Colors$$.obj0White=16777215;$Table05Entry02Colors$$.obj0LightGrey=16777215;$Table05Entry02Colors$$.obj0DarkGrey=6530559;$Table05Entry02Colors$$.obj0Black=255;$Table05Entry02Colors$$.obj1White=16777215;$Table05Entry02Colors$$.obj1LightGrey=16756067;$Table05Entry02Colors$$.obj1DarkGrey=8663296;$Table05Entry02Colors$$.obj1Black=0;return $Table05Entry02Colors$$}(),Table05Entry08Colors=function(){function $Table05Entry08Colors$$(){}$Table05Entry08Colors$$.bgWhite=10853631;$Table05Entry08Colors$$.bgLightGrey=
16776960;$Table05Entry08Colors$$.bgDarkGrey=25344;$Table05Entry08Colors$$.bgBlack=0;$Table05Entry08Colors$$.obj0White=16737106;$Table05Entry08Colors$$.obj0LightGrey=14024704;$Table05Entry08Colors$$.obj0DarkGrey=6488064;$Table05Entry08Colors$$.obj0Black=0;$Table05Entry08Colors$$.obj1White=255;$Table05Entry08Colors$$.obj1LightGrey=16777215;$Table05Entry08Colors$$.obj1DarkGrey=16777083;$Table05Entry08Colors$$.obj1Black=34047;return $Table05Entry08Colors$$}(),Table05Entry09Colors=function(){function $Table05Entry09Colors$$(){}
$Table05Entry09Colors$$.bgWhite=16777166;$Table05Entry09Colors$$.bgLightGrey=6549487;$Table05Entry09Colors$$.bgDarkGrey=10257457;$Table05Entry09Colors$$.bgBlack=5921370;$Table05Entry09Colors$$.obj0White=16777215;$Table05Entry09Colors$$.obj0LightGrey=16741120;$Table05Entry09Colors$$.obj0DarkGrey=9716224;$Table05Entry09Colors$$.obj0Black=0;$Table05Entry09Colors$$.obj1White=16777215;$Table05Entry09Colors$$.obj1LightGrey=6530559;$Table05Entry09Colors$$.obj1DarkGrey=255;$Table05Entry09Colors$$.obj1Black=
0;return $Table05Entry09Colors$$}(),Table05Entry11Colors=function(){function $Table05Entry11Colors$$(){}$Table05Entry11Colors$$.bgWhite=16777215;$Table05Entry11Colors$$.bgLightGrey=16745604;$Table05Entry11Colors$$.bgDarkGrey=9714234;$Table05Entry11Colors$$.bgBlack=0;$Table05Entry11Colors$$.obj0White=16777215;$Table05Entry11Colors$$.obj0LightGrey=65280;$Table05Entry11Colors$$.obj0DarkGrey=3245056;$Table05Entry11Colors$$.obj0Black=18944;$Table05Entry11Colors$$.obj1White=16777215;$Table05Entry11Colors$$.obj1LightGrey=
6530559;$Table05Entry11Colors$$.obj1DarkGrey=255;$Table05Entry11Colors$$.obj1Black=0;return $Table05Entry11Colors$$}(),Table05Entry14Colors=function(){function $Table05Entry14Colors$$(){}$Table05Entry14Colors$$.bgWhite=16777215;$Table05Entry14Colors$$.bgLightGrey=6530559;$Table05Entry14Colors$$.bgDarkGrey=255;$Table05Entry14Colors$$.bgBlack=0;$Table05Entry14Colors$$.obj0White=16776960;$Table05Entry14Colors$$.obj0LightGrey=16711680;$Table05Entry14Colors$$.obj0DarkGrey=6488064;$Table05Entry14Colors$$.obj0Black=
0;$Table05Entry14Colors$$.obj1White=16777215;$Table05Entry14Colors$$.obj1LightGrey=8126257;$Table05Entry14Colors$$.obj1DarkGrey=33792;$Table05Entry14Colors$$.obj1Black=0;return $Table05Entry14Colors$$}(),Table05Entry15Colors=function(){function $Table05Entry15Colors$$(){}$Table05Entry15Colors$$.bgWhite=16777215;$Table05Entry15Colors$$.bgLightGrey=11382148;$Table05Entry15Colors$$.bgDarkGrey=4354939;$Table05Entry15Colors$$.bgBlack=0;$Table05Entry15Colors$$.obj0White=16777215;$Table05Entry15Colors$$.obj0LightGrey=
16756067;$Table05Entry15Colors$$.obj0DarkGrey=16756067;$Table05Entry15Colors$$.obj0Black=0;$Table05Entry15Colors$$.obj1White=16777215;$Table05Entry15Colors$$.obj1LightGrey=6530559;$Table05Entry15Colors$$.obj1DarkGrey=255;$Table05Entry15Colors$$.obj1Black=0;return $Table05Entry15Colors$$}(),Colors=function(){function $Colors$$(){}$Colors$$.bgWhite=WasmBoyGBColors.bgWhite;$Colors$$.bgLightGrey=WasmBoyGBColors.bgLightGrey;$Colors$$.bgDarkGrey=WasmBoyGBColors.bgDarkGrey;$Colors$$.bgBlack=WasmBoyGBColors.bgBlack;
$Colors$$.obj0White=WasmBoyGBColors.obj0White;$Colors$$.obj0LightGrey=WasmBoyGBColors.obj0LightGrey;$Colors$$.obj0DarkGrey=WasmBoyGBColors.obj0DarkGrey;$Colors$$.obj0Black=WasmBoyGBColors.obj0Black;$Colors$$.obj1White=WasmBoyGBColors.obj1White;$Colors$$.obj1LightGrey=WasmBoyGBColors.obj1LightGrey;$Colors$$.obj1DarkGrey=WasmBoyGBColors.obj1DarkGrey;$Colors$$.obj1Black=WasmBoyGBColors.obj1Black;return $Colors$$}();
function initializeColors(){setManualColorizationPalette(0);for(var $titleChecksum$$=0,$i$$=308;323>=$i$$;$i$$++)$titleChecksum$$+=eightBitLoadFromGBMemory($i$$);setHashColorizationPalette($titleChecksum$$&255)}function getRedFromHexColor($color$$){return($color$$&16711680)>>16}function getGreenFromHexColor($color$$){return($color$$&65280)>>8}function getBlueFromHexColor($color$$){return $color$$&255}
function setManualColorizationPalette($colorizationId$$){switch($colorizationId$$){case 0:Colors.bgWhite=WasmBoyGBColors.bgWhite;Colors.bgLightGrey=WasmBoyGBColors.bgLightGrey;Colors.bgDarkGrey=WasmBoyGBColors.bgDarkGrey;Colors.bgBlack=WasmBoyGBColors.bgBlack;Colors.obj0White=WasmBoyGBColors.obj0White;Colors.obj0LightGrey=WasmBoyGBColors.obj0LightGrey;Colors.obj0DarkGrey=WasmBoyGBColors.obj0DarkGrey;Colors.obj0Black=WasmBoyGBColors.obj0Black;Colors.obj1White=WasmBoyGBColors.obj1White;Colors.obj1LightGrey=
WasmBoyGBColors.obj1LightGrey;Colors.obj1DarkGrey=WasmBoyGBColors.obj1DarkGrey;Colors.obj1Black=WasmBoyGBColors.obj1Black;break;case 1:Colors.bgWhite=BrownColors.bgWhite;Colors.bgLightGrey=BrownColors.bgLightGrey;Colors.bgDarkGrey=BrownColors.bgDarkGrey;Colors.bgBlack=BrownColors.bgBlack;Colors.obj0White=BrownColors.obj0White;Colors.obj0LightGrey=BrownColors.obj0LightGrey;Colors.obj0DarkGrey=BrownColors.obj0DarkGrey;Colors.obj0Black=BrownColors.obj0Black;Colors.obj1White=BrownColors.obj1White;Colors.obj1LightGrey=
BrownColors.obj1LightGrey;Colors.obj1DarkGrey=BrownColors.obj1DarkGrey;Colors.obj1Black=BrownColors.obj1Black;break;case 2:Colors.bgWhite=RedColors.bgWhite;Colors.bgLightGrey=RedColors.bgLightGrey;Colors.bgDarkGrey=RedColors.bgDarkGrey;Colors.bgBlack=RedColors.bgBlack;Colors.obj0White=RedColors.obj0White;Colors.obj0LightGrey=RedColors.obj0LightGrey;Colors.obj0DarkGrey=RedColors.obj0DarkGrey;Colors.obj0Black=RedColors.obj0Black;Colors.obj1White=RedColors.obj1White;Colors.obj1LightGrey=RedColors.obj1LightGrey;
Colors.obj1DarkGrey=RedColors.obj1DarkGrey;Colors.obj1Black=RedColors.obj1Black;break;case 3:Colors.bgWhite=DarkBrownColors.bgWhite;Colors.bgLightGrey=DarkBrownColors.bgLightGrey;Colors.bgDarkGrey=DarkBrownColors.bgDarkGrey;Colors.bgBlack=DarkBrownColors.bgBlack;Colors.obj0White=DarkBrownColors.obj0White;Colors.obj0LightGrey=DarkBrownColors.obj0LightGrey;Colors.obj0DarkGrey=DarkBrownColors.obj0DarkGrey;Colors.obj0Black=DarkBrownColors.obj0Black;Colors.obj1White=DarkBrownColors.obj1White;Colors.obj1LightGrey=
DarkBrownColors.obj1LightGrey;Colors.obj1DarkGrey=DarkBrownColors.obj1DarkGrey;Colors.obj1Black=DarkBrownColors.obj1Black;break;case 4:Colors.bgWhite=GreenColors.bgWhite;Colors.bgLightGrey=GreenColors.bgLightGrey;Colors.bgDarkGrey=GreenColors.bgDarkGrey;Colors.bgBlack=GreenColors.bgBlack;Colors.obj0White=GreenColors.obj0White;Colors.obj0LightGrey=GreenColors.obj0LightGrey;Colors.obj0DarkGrey=GreenColors.obj0DarkGrey;Colors.obj0Black=GreenColors.obj0Black;Colors.obj1White=GreenColors.obj1White;Colors.obj1LightGrey=
GreenColors.obj1LightGrey;Colors.obj1DarkGrey=GreenColors.obj1DarkGrey;Colors.obj1Black=GreenColors.obj1Black;break;case 5:Colors.bgWhite=DarkGreenColors.bgWhite;Colors.bgLightGrey=DarkGreenColors.bgLightGrey;Colors.bgDarkGrey=DarkGreenColors.bgDarkGrey;Colors.bgBlack=DarkGreenColors.bgBlack;Colors.obj0White=DarkGreenColors.obj0White;Colors.obj0LightGrey=DarkGreenColors.obj0LightGrey;Colors.obj0DarkGrey=DarkGreenColors.obj0DarkGrey;Colors.obj0Black=DarkGreenColors.obj0Black;Colors.obj1White=DarkGreenColors.obj1White;
Colors.obj1LightGrey=DarkGreenColors.obj1LightGrey;Colors.obj1DarkGrey=DarkGreenColors.obj1DarkGrey;Colors.obj1Black=DarkGreenColors.obj1Black;break;case 6:Colors.bgWhite=InvertedColors.bgWhite;Colors.bgLightGrey=InvertedColors.bgLightGrey;Colors.bgDarkGrey=InvertedColors.bgDarkGrey;Colors.bgBlack=InvertedColors.bgBlack;Colors.obj0White=InvertedColors.obj0White;Colors.obj0LightGrey=InvertedColors.obj0LightGrey;Colors.obj0DarkGrey=InvertedColors.obj0DarkGrey;Colors.obj0Black=InvertedColors.obj0Black;
Colors.obj1White=InvertedColors.obj1White;Colors.obj1LightGrey=InvertedColors.obj1LightGrey;Colors.obj1DarkGrey=InvertedColors.obj1DarkGrey;Colors.obj1Black=InvertedColors.obj1Black;break;case 7:Colors.bgWhite=PastelMixColors.bgWhite;Colors.bgLightGrey=PastelMixColors.bgLightGrey;Colors.bgDarkGrey=PastelMixColors.bgDarkGrey;Colors.bgBlack=PastelMixColors.bgBlack;Colors.obj0White=PastelMixColors.obj0White;Colors.obj0LightGrey=PastelMixColors.obj0LightGrey;Colors.obj0DarkGrey=PastelMixColors.obj0DarkGrey;
Colors.obj0Black=PastelMixColors.obj0Black;Colors.obj1White=PastelMixColors.obj1White;Colors.obj1LightGrey=PastelMixColors.obj1LightGrey;Colors.obj1DarkGrey=PastelMixColors.obj1DarkGrey;Colors.obj1Black=PastelMixColors.obj1Black;break;case 8:Colors.bgWhite=OrangeColors.bgWhite;Colors.bgLightGrey=OrangeColors.bgLightGrey;Colors.bgDarkGrey=OrangeColors.bgDarkGrey;Colors.bgBlack=OrangeColors.bgBlack;Colors.obj0White=OrangeColors.obj0White;Colors.obj0LightGrey=OrangeColors.obj0LightGrey;Colors.obj0DarkGrey=
OrangeColors.obj0DarkGrey;Colors.obj0Black=OrangeColors.obj0Black;Colors.obj1White=OrangeColors.obj1White;Colors.obj1LightGrey=OrangeColors.obj1LightGrey;Colors.obj1DarkGrey=OrangeColors.obj1DarkGrey;Colors.obj1Black=OrangeColors.obj1Black;break;case 9:Colors.bgWhite=YellowColors.bgWhite;Colors.bgLightGrey=YellowColors.bgLightGrey;Colors.bgDarkGrey=YellowColors.bgDarkGrey;Colors.bgBlack=YellowColors.bgBlack;Colors.obj0White=YellowColors.obj0White;Colors.obj0LightGrey=YellowColors.obj0LightGrey;Colors.obj0DarkGrey=
YellowColors.obj0DarkGrey;Colors.obj0Black=YellowColors.obj0Black;Colors.obj1White=YellowColors.obj1White;Colors.obj1LightGrey=YellowColors.obj1LightGrey;Colors.obj1DarkGrey=YellowColors.obj1DarkGrey;Colors.obj1Black=YellowColors.obj1Black;break;case 10:Colors.bgWhite=BlueColors.bgWhite;Colors.bgLightGrey=BlueColors.bgLightGrey;Colors.bgDarkGrey=BlueColors.bgDarkGrey;Colors.bgBlack=BlueColors.bgBlack;Colors.obj0White=BlueColors.obj0White;Colors.obj0LightGrey=BlueColors.obj0LightGrey;Colors.obj0DarkGrey=
BlueColors.obj0DarkGrey;Colors.obj0Black=BlueColors.obj0Black;Colors.obj1White=BlueColors.obj1White;Colors.obj1LightGrey=BlueColors.obj1LightGrey;Colors.obj1DarkGrey=BlueColors.obj1DarkGrey;Colors.obj1Black=BlueColors.obj1Black;break;case 11:Colors.bgWhite=DarkBlueColors.bgWhite;Colors.bgLightGrey=DarkBlueColors.bgLightGrey;Colors.bgDarkGrey=DarkBlueColors.bgDarkGrey;Colors.bgBlack=DarkBlueColors.bgBlack;Colors.obj0White=DarkBlueColors.obj0White;Colors.obj0LightGrey=DarkBlueColors.obj0LightGrey;Colors.obj0DarkGrey=
DarkBlueColors.obj0DarkGrey;Colors.obj0Black=DarkBlueColors.obj0Black;Colors.obj1White=DarkBlueColors.obj1White;Colors.obj1LightGrey=DarkBlueColors.obj1LightGrey;Colors.obj1DarkGrey=DarkBlueColors.obj1DarkGrey;Colors.obj1Black=DarkBlueColors.obj1Black;break;case 12:Colors.bgWhite=GrayscaleColors.bgWhite,Colors.bgLightGrey=GrayscaleColors.bgLightGrey,Colors.bgDarkGrey=GrayscaleColors.bgDarkGrey,Colors.bgBlack=GrayscaleColors.bgBlack,Colors.obj0White=GrayscaleColors.obj0White,Colors.obj0LightGrey=GrayscaleColors.obj0LightGrey,
Colors.obj0DarkGrey=GrayscaleColors.obj0DarkGrey,Colors.obj0Black=GrayscaleColors.obj0Black,Colors.obj1White=GrayscaleColors.obj1White,Colors.obj1LightGrey=GrayscaleColors.obj1LightGrey,Colors.obj1DarkGrey=GrayscaleColors.obj1DarkGrey,Colors.obj1Black=GrayscaleColors.obj1Black}}
function setHashColorizationPalette($hash$$){switch($hash$$){case 136:Colors.bgWhite=Table00Entry08Colors.bgWhite;Colors.bgLightGrey=Table00Entry08Colors.bgLightGrey;Colors.bgDarkGrey=Table00Entry08Colors.bgDarkGrey;Colors.bgBlack=Table00Entry08Colors.bgBlack;Colors.obj0White=Table00Entry08Colors.obj0White;Colors.obj0LightGrey=Table00Entry08Colors.obj0LightGrey;Colors.obj0DarkGrey=Table00Entry08Colors.obj0DarkGrey;Colors.obj0Black=Table00Entry08Colors.obj0Black;Colors.obj1White=Table00Entry08Colors.obj1White;
Colors.obj1LightGrey=Table00Entry08Colors.obj1LightGrey;Colors.obj1DarkGrey=Table00Entry08Colors.obj1DarkGrey;Colors.obj1Black=Table00Entry08Colors.obj1Black;break;case 97:Colors.bgWhite=Table01Entry0BColors.bgWhite;Colors.bgLightGrey=Table01Entry0BColors.bgLightGrey;Colors.bgDarkGrey=Table01Entry0BColors.bgDarkGrey;Colors.bgBlack=Table01Entry0BColors.bgBlack;Colors.obj0White=Table01Entry0BColors.obj0White;Colors.obj0LightGrey=Table01Entry0BColors.obj0LightGrey;Colors.obj0DarkGrey=Table01Entry0BColors.obj0DarkGrey;
Colors.obj0Black=Table01Entry0BColors.obj0Black;Colors.obj1White=Table01Entry0BColors.obj1White;Colors.obj1LightGrey=Table01Entry0BColors.obj1LightGrey;Colors.obj1DarkGrey=Table01Entry0BColors.obj1DarkGrey;Colors.obj1Black=Table01Entry0BColors.obj1Black;break;case 20:Colors.bgWhite=Table01Entry10Colors.bgWhite;Colors.bgLightGrey=Table01Entry10Colors.bgLightGrey;Colors.bgDarkGrey=Table01Entry10Colors.bgDarkGrey;Colors.bgBlack=Table01Entry10Colors.bgBlack;Colors.obj0White=Table01Entry10Colors.obj0White;
Colors.obj0LightGrey=Table01Entry10Colors.obj0LightGrey;Colors.obj0DarkGrey=Table01Entry10Colors.obj0DarkGrey;Colors.obj0Black=Table01Entry10Colors.obj0Black;Colors.obj1White=Table01Entry10Colors.obj1White;Colors.obj1LightGrey=Table01Entry10Colors.obj1LightGrey;Colors.obj1DarkGrey=Table01Entry10Colors.obj1DarkGrey;Colors.obj1Black=Table01Entry10Colors.obj1Black;break;case 70:Colors.bgWhite=Table03Entry0AColors.bgWhite;Colors.bgLightGrey=Table03Entry0AColors.bgLightGrey;Colors.bgDarkGrey=Table03Entry0AColors.bgDarkGrey;
Colors.bgBlack=Table03Entry0AColors.bgBlack;Colors.obj0White=Table03Entry0AColors.obj0White;Colors.obj0LightGrey=Table03Entry0AColors.obj0LightGrey;Colors.obj0DarkGrey=Table03Entry0AColors.obj0DarkGrey;Colors.obj0Black=Table03Entry0AColors.obj0Black;Colors.obj1White=Table03Entry0AColors.obj1White;Colors.obj1LightGrey=Table03Entry0AColors.obj1LightGrey;Colors.obj1DarkGrey=Table03Entry0AColors.obj1DarkGrey;Colors.obj1Black=Table03Entry0AColors.obj1Black;break;case 89:case 198:Colors.bgWhite=Table05Entry00Colors.bgWhite;
Colors.bgLightGrey=Table05Entry00Colors.bgLightGrey;Colors.bgDarkGrey=Table05Entry00Colors.bgDarkGrey;Colors.bgBlack=Table05Entry00Colors.bgBlack;Colors.obj0White=Table05Entry00Colors.obj0White;Colors.obj0LightGrey=Table05Entry00Colors.obj0LightGrey;Colors.obj0DarkGrey=Table05Entry00Colors.obj0DarkGrey;Colors.obj0Black=Table05Entry00Colors.obj0Black;Colors.obj1White=Table05Entry00Colors.obj1White;Colors.obj1LightGrey=Table05Entry00Colors.obj1LightGrey;Colors.obj1DarkGrey=Table05Entry00Colors.obj1DarkGrey;
Colors.obj1Black=Table05Entry00Colors.obj1Black;break;case 134:case 168:Colors.bgWhite=Table05Entry01Colors.bgWhite;Colors.bgLightGrey=Table05Entry01Colors.bgLightGrey;Colors.bgDarkGrey=Table05Entry01Colors.bgDarkGrey;Colors.bgBlack=Table05Entry01Colors.bgBlack;Colors.obj0White=Table05Entry01Colors.obj0White;Colors.obj0LightGrey=Table05Entry01Colors.obj0LightGrey;Colors.obj0DarkGrey=Table05Entry01Colors.obj0DarkGrey;Colors.obj0Black=Table05Entry01Colors.obj0Black;Colors.obj1White=Table05Entry01Colors.obj1White;
Colors.obj1LightGrey=Table05Entry01Colors.obj1LightGrey;Colors.obj1DarkGrey=Table05Entry01Colors.obj1DarkGrey;Colors.obj1Black=Table05Entry01Colors.obj1Black;break;case 191:case 206:case 209:case 240:Colors.bgWhite=Table05Entry02Colors.bgWhite;Colors.bgLightGrey=Table05Entry02Colors.bgLightGrey;Colors.bgDarkGrey=Table05Entry02Colors.bgDarkGrey;Colors.bgBlack=Table05Entry02Colors.bgBlack;Colors.obj0White=Table05Entry02Colors.obj0White;Colors.obj0LightGrey=Table05Entry02Colors.obj0LightGrey;Colors.obj0DarkGrey=
Table05Entry02Colors.obj0DarkGrey;Colors.obj0Black=Table05Entry02Colors.obj0Black;Colors.obj1White=Table05Entry02Colors.obj1White;Colors.obj1LightGrey=Table05Entry02Colors.obj1LightGrey;Colors.obj1DarkGrey=Table05Entry02Colors.obj1DarkGrey;Colors.obj1Black=Table05Entry02Colors.obj1Black;break;case 39:case 73:case 92:case 179:Colors.bgWhite=Table05Entry08Colors.bgWhite;Colors.bgLightGrey=Table05Entry08Colors.bgLightGrey;Colors.bgDarkGrey=Table05Entry08Colors.bgDarkGrey;Colors.bgBlack=Table05Entry08Colors.bgBlack;
Colors.obj0White=Table05Entry08Colors.obj0White;Colors.obj0LightGrey=Table05Entry08Colors.obj0LightGrey;Colors.obj0DarkGrey=Table05Entry08Colors.obj0DarkGrey;Colors.obj0Black=Table05Entry08Colors.obj0Black;Colors.obj1White=Table05Entry08Colors.obj1White;Colors.obj1LightGrey=Table05Entry08Colors.obj1LightGrey;Colors.obj1DarkGrey=Table05Entry08Colors.obj1DarkGrey;Colors.obj1Black=Table05Entry08Colors.obj1Black;break;case 201:Colors.bgWhite=Table05Entry09Colors.bgWhite;Colors.bgLightGrey=Table05Entry09Colors.bgLightGrey;
Colors.bgDarkGrey=Table05Entry09Colors.bgDarkGrey;Colors.bgBlack=Table05Entry09Colors.bgBlack;Colors.obj0White=Table05Entry09Colors.obj0White;Colors.obj0LightGrey=Table05Entry09Colors.obj0LightGrey;Colors.obj0DarkGrey=Table05Entry09Colors.obj0DarkGrey;Colors.obj0Black=Table05Entry09Colors.obj0Black;Colors.obj1White=Table05Entry09Colors.obj1White;Colors.obj1LightGrey=Table05Entry09Colors.obj1LightGrey;Colors.obj1DarkGrey=Table05Entry09Colors.obj1DarkGrey;Colors.obj1Black=Table05Entry09Colors.obj1Black;
break;case 112:Colors.bgWhite=Table05Entry11Colors.bgWhite;Colors.bgLightGrey=Table05Entry11Colors.bgLightGrey;Colors.bgDarkGrey=Table05Entry11Colors.bgDarkGrey;Colors.bgBlack=Table05Entry11Colors.bgBlack;Colors.obj0White=Table05Entry11Colors.obj0White;Colors.obj0LightGrey=Table05Entry11Colors.obj0LightGrey;Colors.obj0DarkGrey=Table05Entry11Colors.obj0DarkGrey;Colors.obj0Black=Table05Entry11Colors.obj0Black;Colors.obj1White=Table05Entry11Colors.obj1White;Colors.obj1LightGrey=Table05Entry11Colors.obj1LightGrey;
Colors.obj1DarkGrey=Table05Entry11Colors.obj1DarkGrey;Colors.obj1Black=Table05Entry11Colors.obj1Black;break;case 70:Colors.bgWhite=Table05Entry14Colors.bgWhite;Colors.bgLightGrey=Table05Entry14Colors.bgLightGrey;Colors.bgDarkGrey=Table05Entry14Colors.bgDarkGrey;Colors.bgBlack=Table05Entry14Colors.bgBlack;Colors.obj0White=Table05Entry14Colors.obj0White;Colors.obj0LightGrey=Table05Entry14Colors.obj0LightGrey;Colors.obj0DarkGrey=Table05Entry14Colors.obj0DarkGrey;Colors.obj0Black=Table05Entry14Colors.obj0Black;
Colors.obj1White=Table05Entry14Colors.obj1White;Colors.obj1LightGrey=Table05Entry14Colors.obj1LightGrey;Colors.obj1DarkGrey=Table05Entry14Colors.obj1DarkGrey;Colors.obj1Black=Table05Entry14Colors.obj1Black;break;case 211:Colors.bgWhite=Table05Entry15Colors.bgWhite,Colors.bgLightGrey=Table05Entry15Colors.bgLightGrey,Colors.bgDarkGrey=Table05Entry15Colors.bgDarkGrey,Colors.bgBlack=Table05Entry15Colors.bgBlack,Colors.obj0White=Table05Entry15Colors.obj0White,Colors.obj0LightGrey=Table05Entry15Colors.obj0LightGrey,
Colors.obj0DarkGrey=Table05Entry15Colors.obj0DarkGrey,Colors.obj0Black=Table05Entry15Colors.obj0Black,Colors.obj1White=Table05Entry15Colors.obj1White,Colors.obj1LightGrey=Table05Entry15Colors.obj1LightGrey,Colors.obj1DarkGrey=Table05Entry15Colors.obj1DarkGrey,Colors.obj1Black=Table05Entry15Colors.obj1Black}}function concatenateBytes($highByte$$,$lowByte$$){return($highByte$$&255)<<8|$lowByte$$&255}function splitHighByte($groupedByte$$){return($groupedByte$$&65280)>>8}
function splitLowByte($groupedByte$$){return $groupedByte$$&255}function rotateByteLeft($value$$){return u8Portable($value$$<<1|$value$$>>7)}function rotateByteLeftThroughCarry($value$$){return u8Portable($value$$<<1|getCarryFlag$$1())}function rotateByteRight($value$$){return u8Portable($value$$>>1|$value$$<<7)}function rotateByteRightThroughCarry($value$$){return u8Portable($value$$>>1|getCarryFlag$$1()<<7)}function setBitOnByte($bitPosition$$,$byte$$){return $byte$$|1<<$bitPosition$$}
function resetBitOnByte($bitPosition$$,$byte$$){return $byte$$&~(1<<$bitPosition$$)}function checkBitOnByte($bitPosition$$,$byte$$){return 0!=($byte$$&1<<$bitPosition$$)}
var Palette=function(){function $Palette$$(){}$Palette$$.memoryLocationBackgroundPaletteIndex=65384;$Palette$$.memoryLocationBackgroundPaletteData=65385;$Palette$$.memoryLocationSpritePaletteIndex=65386;$Palette$$.memoryLocationSpritePaletteData=65387;$Palette$$.memoryLocationBackgroundPalette=65351;$Palette$$.memoryLocationSpritePaletteOne=65352;$Palette$$.memoryLocationSpritePaletteTwo=65353;return $Palette$$}();
function initializePalette(){Cpu.GBCEnabled?(eightBitStoreIntoGBMemory(65384,192),eightBitStoreIntoGBMemory(65385,255),eightBitStoreIntoGBMemory(65386,193),eightBitStoreIntoGBMemory(65387,13)):(eightBitStoreIntoGBMemory(65384,255),eightBitStoreIntoGBMemory(65385,255),eightBitStoreIntoGBMemory(65386,255),eightBitStoreIntoGBMemory(65387,255))}
function getMonochromeColorFromPalette($colorId_rgbColor$$,$paletteMemoryLocation$$,$shouldRepresentColorByColorId$$){void 0===$shouldRepresentColorByColorId$$&&($shouldRepresentColorByColorId$$=!1);var $color$$=$colorId_rgbColor$$;$shouldRepresentColorByColorId$$||($color$$=eightBitLoadFromGBMemory($paletteMemoryLocation$$)>>2*$colorId_rgbColor$$&3);$colorId_rgbColor$$=242;switch($color$$){case 1:$colorId_rgbColor$$=160;break;case 2:$colorId_rgbColor$$=88;break;case 3:$colorId_rgbColor$$=8}return $colorId_rgbColor$$}
function getColorizedGbHexColorFromPalette($color$jscomp$6_colorId$$,$hexColor_paletteMemoryLocation$$){$color$jscomp$6_colorId$$=eightBitLoadFromGBMemory($hexColor_paletteMemoryLocation$$)>>2*$color$jscomp$6_colorId$$&3;if($hexColor_paletteMemoryLocation$$===Palette.memoryLocationSpritePaletteOne)switch($hexColor_paletteMemoryLocation$$=Colors.obj0White,$color$jscomp$6_colorId$$){case 1:$hexColor_paletteMemoryLocation$$=Colors.obj0LightGrey;break;case 2:$hexColor_paletteMemoryLocation$$=Colors.obj0DarkGrey;
break;case 3:$hexColor_paletteMemoryLocation$$=Colors.obj0Black}else if($hexColor_paletteMemoryLocation$$===Palette.memoryLocationSpritePaletteTwo)switch($hexColor_paletteMemoryLocation$$=Colors.obj1White,$color$jscomp$6_colorId$$){case 1:$hexColor_paletteMemoryLocation$$=Colors.obj1LightGrey;break;case 2:$hexColor_paletteMemoryLocation$$=Colors.obj1DarkGrey;break;case 3:$hexColor_paletteMemoryLocation$$=Colors.obj1Black}else switch($hexColor_paletteMemoryLocation$$=Colors.bgWhite,$color$jscomp$6_colorId$$){case 1:$hexColor_paletteMemoryLocation$$=
Colors.bgLightGrey;break;case 2:$hexColor_paletteMemoryLocation$$=Colors.bgDarkGrey;break;case 3:$hexColor_paletteMemoryLocation$$=Colors.bgBlack}return $hexColor_paletteMemoryLocation$$}
function writeColorPaletteToMemory($offset$$,$value$$){if($offset$$===Palette.memoryLocationBackgroundPaletteData||$offset$$===Palette.memoryLocationSpritePaletteData){var $paletteIndex$$=eightBitLoadFromGBMemory($offset$$-1);$paletteIndex$$=resetBitOnByte(6,$paletteIndex$$);var $isSprite$$=!1;$offset$$===Palette.memoryLocationSpritePaletteData&&($isSprite$$=!0);storePaletteByteInWasmMemory($paletteIndex$$,$value$$,$isSprite$$);incrementPaletteIndexIfSet($paletteIndex$$,$offset$$-1)}}
function incrementPaletteIndexIfSet($paletteIndex$$,$offset$$){checkBitOnByte(7,$paletteIndex$$)&&($paletteIndex$$=setBitOnByte(7,$paletteIndex$$+1),eightBitStoreIntoGBMemory($offset$$,$paletteIndex$$))}
function getRgbColorFromPalette($paletteHighByte_paletteId$$,$colorId$jscomp$2_paletteIndex$$,$isSprite$$){$colorId$jscomp$2_paletteIndex$$=8*$paletteHighByte_paletteId$$+2*$colorId$jscomp$2_paletteIndex$$;$paletteHighByte_paletteId$$=loadPaletteByteFromWasmMemory($colorId$jscomp$2_paletteIndex$$+1,$isSprite$$);$isSprite$$=loadPaletteByteFromWasmMemory($colorId$jscomp$2_paletteIndex$$,$isSprite$$);return concatenateBytes($paletteHighByte_paletteId$$,$isSprite$$)}
function getColorComponentFromRgb($colorId$$,$colorRgb$$){return 8*(($colorRgb$$&31<<5*$colorId$$)>>5*$colorId$$)}function loadPaletteByteFromWasmMemory($paletteIndex$$,$isSprite$$){$paletteIndex$$&=63;$isSprite$$&&($paletteIndex$$+=64);return load(GBC_PALETTE_LOCATION+$paletteIndex$$)}
function storePaletteByteInWasmMemory($paletteIndex$jscomp$4_paletteIndexByte$$,$value$$,$isSprite$$){$paletteIndex$jscomp$4_paletteIndexByte$$&=63;$isSprite$$&&($paletteIndex$jscomp$4_paletteIndexByte$$+=64);store(GBC_PALETTE_LOCATION+$paletteIndex$jscomp$4_paletteIndexByte$$,$value$$)}
function addPriorityforPixel($x$$,$y$$,$bgPriorityByte_colorId$$,$hasGbcBgPriority$$){void 0===$bgPriorityByte_colorId$$&&($bgPriorityByte_colorId$$=0);void 0===$hasGbcBgPriority$$&&($hasGbcBgPriority$$=!1);$bgPriorityByte_colorId$$&=3;$hasGbcBgPriority$$&&($bgPriorityByte_colorId$$=setBitOnByte(2,$bgPriorityByte_colorId$$));store(BG_PRIORITY_MAP_LOCATION+getPixelStart($x$$,$y$$),$bgPriorityByte_colorId$$)}
function getPriorityforPixel($x$$,$y$$){return load(BG_PRIORITY_MAP_LOCATION+getPixelStart($x$$,$y$$))}function clearPriorityMap(){for(var $y$$=0;144>$y$$;$y$$++)for(var $x$$=0;160>$x$$;$x$$++)store(BG_PRIORITY_MAP_LOCATION+getPixelStart($x$$,$y$$),0)}function getPixelStart($x$$,$y$$){return 160*$y$$+$x$$}var TileCache=function(){function $TileCache$$(){}$TileCache$$.tileId=-1;$TileCache$$.horizontalFlip=!1;$TileCache$$.nextXIndexToPerformCacheCheck=-1;return $TileCache$$}();
function resetTileCache(){TileCache.tileId=-1;TileCache.nextXIndexToPerformCacheCheck=-1}
function drawPixelsFromLineOfTile($byteOneForLineOfTilePixels_tileId$$,$iteratedOutputX_tileDataAddress_tileDataMemoryLocation$$,$byteTwoForLineOfTilePixels_vramBankId$$,$tileLineXStart$$,$tileLineXEnd$$,$tileLineY_x$$,$outputLineX$$,$outputLineY$$,$outputWidth$$,$wasmMemoryStart$$,$shouldRepresentMonochromeColorByColorId$$,$paletteLocation$$,$bgMapAttributes$$,$spriteAttributes$$){var $pixelsDrawn$$=0;$iteratedOutputX_tileDataAddress_tileDataMemoryLocation$$=getTileDataAddress($iteratedOutputX_tileDataAddress_tileDataMemoryLocation$$,
$byteOneForLineOfTilePixels_tileId$$);$byteOneForLineOfTilePixels_tileId$$=loadFromVramBank($iteratedOutputX_tileDataAddress_tileDataMemoryLocation$$+2*$tileLineY_x$$,$byteTwoForLineOfTilePixels_vramBankId$$);$byteTwoForLineOfTilePixels_vramBankId$$=loadFromVramBank($iteratedOutputX_tileDataAddress_tileDataMemoryLocation$$+2*$tileLineY_x$$+1,$byteTwoForLineOfTilePixels_vramBankId$$);for($tileLineY_x$$=$tileLineXStart$$;$tileLineY_x$$<=$tileLineXEnd$$;$tileLineY_x$$++)if($iteratedOutputX_tileDataAddress_tileDataMemoryLocation$$=
$outputLineX$$+($tileLineY_x$$-$tileLineXStart$$),$iteratedOutputX_tileDataAddress_tileDataMemoryLocation$$<$outputWidth$$){var $gbcBgPriority_isSprite$jscomp$4_pixelXInTile_red$$=$tileLineY_x$$;if(0>$bgMapAttributes$$||!checkBitOnByte(5,$bgMapAttributes$$))$gbcBgPriority_isSprite$jscomp$4_pixelXInTile_red$$=7-$gbcBgPriority_isSprite$jscomp$4_pixelXInTile_red$$;var $paletteColorId$$=0;checkBitOnByte($gbcBgPriority_isSprite$jscomp$4_pixelXInTile_red$$,$byteTwoForLineOfTilePixels_vramBankId$$)&&($paletteColorId$$+=
1,$paletteColorId$$<<=1);checkBitOnByte($gbcBgPriority_isSprite$jscomp$4_pixelXInTile_red$$,$byteOneForLineOfTilePixels_tileId$$)&&($paletteColorId$$+=1);if(Cpu.GBCEnabled&&(0<=$bgMapAttributes$$||0<=$spriteAttributes$$)){$gbcBgPriority_isSprite$jscomp$4_pixelXInTile_red$$=0<=$spriteAttributes$$;var $bgPalette_green$$=$bgMapAttributes$$&7;$gbcBgPriority_isSprite$jscomp$4_pixelXInTile_red$$&&($bgPalette_green$$=$spriteAttributes$$&7);var $blue$jscomp$3_hexColor$$=getRgbColorFromPalette($bgPalette_green$$,
$paletteColorId$$,$gbcBgPriority_isSprite$jscomp$4_pixelXInTile_red$$);$gbcBgPriority_isSprite$jscomp$4_pixelXInTile_red$$=getColorComponentFromRgb(0,$blue$jscomp$3_hexColor$$);$bgPalette_green$$=getColorComponentFromRgb(1,$blue$jscomp$3_hexColor$$);$blue$jscomp$3_hexColor$$=getColorComponentFromRgb(2,$blue$jscomp$3_hexColor$$)}else 0>=$paletteLocation$$&&($paletteLocation$$=Graphics.memoryLocationBackgroundPalette),$shouldRepresentMonochromeColorByColorId$$?$bgPalette_green$$=$gbcBgPriority_isSprite$jscomp$4_pixelXInTile_red$$=
$blue$jscomp$3_hexColor$$=getMonochromeColorFromPalette($paletteColorId$$,$paletteLocation$$,$shouldRepresentMonochromeColorByColorId$$):($blue$jscomp$3_hexColor$$=getColorizedGbHexColorFromPalette($paletteColorId$$,$paletteLocation$$),$gbcBgPriority_isSprite$jscomp$4_pixelXInTile_red$$=getRedFromHexColor($blue$jscomp$3_hexColor$$),$bgPalette_green$$=getGreenFromHexColor($blue$jscomp$3_hexColor$$),$blue$jscomp$3_hexColor$$=getBlueFromHexColor($blue$jscomp$3_hexColor$$));var $pixelStart$$=getTilePixelStart($iteratedOutputX_tileDataAddress_tileDataMemoryLocation$$,
$outputLineY$$,$outputWidth$$);store($wasmMemoryStart$$+$pixelStart$$,$gbcBgPriority_isSprite$jscomp$4_pixelXInTile_red$$);store($wasmMemoryStart$$+$pixelStart$$+1,$bgPalette_green$$);store($wasmMemoryStart$$+$pixelStart$$+2,$blue$jscomp$3_hexColor$$);$gbcBgPriority_isSprite$jscomp$4_pixelXInTile_red$$=!1;0<=$bgMapAttributes$$&&($gbcBgPriority_isSprite$jscomp$4_pixelXInTile_red$$=checkBitOnByte(7,$bgMapAttributes$$));addPriorityforPixel($iteratedOutputX_tileDataAddress_tileDataMemoryLocation$$,$outputLineY$$,
$paletteColorId$$,$gbcBgPriority_isSprite$jscomp$4_pixelXInTile_red$$);$pixelsDrawn$$++}return $pixelsDrawn$$}function getTilePixelStart($outputLineX$$,$outputLineY$$,$outputWidth$$){return 3*($outputLineY$$*$outputWidth$$+$outputLineX$$)}
function getTileDataAddress($tileDataMemoryLocation$$,$tileIdFromTileMap$$){if($tileDataMemoryLocation$$===Graphics.memoryLocationTileDataSelectZeroStart){var $signedTileId$$=$tileIdFromTileMap$$+128;checkBitOnByte(7,$tileIdFromTileMap$$)&&($signedTileId$$=$tileIdFromTileMap$$-128);return $tileDataMemoryLocation$$+16*$signedTileId$$}return $tileDataMemoryLocation$$+16*$tileIdFromTileMap$$}
function isDutyCycleClockPositiveOrNegativeForWaveform($channelDuty$$,$waveFormPositionOnDuty$$){switch($channelDuty$$){case 1:return checkBitOnByte($waveFormPositionOnDuty$$,129);case 2:return checkBitOnByte($waveFormPositionOnDuty$$,135);case 3:return checkBitOnByte($waveFormPositionOnDuty$$,126);default:return checkBitOnByte($waveFormPositionOnDuty$$,1)}}
var Channel1=function(){function $Channel1$$(){}$Channel1$$.updateNRx0=function $$Channel1$$$updateNRx0$($value$$){$Channel1$$.NRx0SweepPeriod=($value$$&112)>>4;$Channel1$$.NRx0Negate=checkBitOnByte(3,$value$$);$Channel1$$.NRx0SweepShift=$value$$&7};$Channel1$$.updateNRx1=function $$Channel1$$$updateNRx1$($value$$){$Channel1$$.NRx1Duty=$value$$>>6&3;$Channel1$$.NRx1LengthLoad=$value$$&63;$Channel1$$.lengthCounter=64-$Channel1$$.NRx1LengthLoad};$Channel1$$.updateNRx2=function $$Channel1$$$updateNRx2$($value$$){$Channel1$$.NRx2StartingVolume=
$value$$>>4&15;$Channel1$$.NRx2EnvelopeAddMode=checkBitOnByte(3,$value$$);$Channel1$$.NRx2EnvelopePeriod=$value$$&7;$Channel1$$.isDacEnabled=0<($value$$&248)};$Channel1$$.updateNRx3=function $$Channel1$$$updateNRx3$($value$$){$Channel1$$.NRx3FrequencyLSB=$value$$;$Channel1$$.frequency=$Channel1$$.NRx4FrequencyMSB<<8|$Channel1$$.NRx3FrequencyLSB};$Channel1$$.updateNRx4=function $$Channel1$$$updateNRx4$($value$$){$Channel1$$.NRx4LengthEnabled=checkBitOnByte(6,$value$$);$Channel1$$.NRx4FrequencyMSB=
$value$$&7;$Channel1$$.frequency=$Channel1$$.NRx4FrequencyMSB<<8|$Channel1$$.NRx3FrequencyLSB};$Channel1$$.saveState=function $$Channel1$$$saveState$(){storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0,$Channel1$$.saveStateSlot),$Channel1$$.isEnabled);store(getSaveStateMemoryOffset(1,$Channel1$$.saveStateSlot),$Channel1$$.frequencyTimer);store(getSaveStateMemoryOffset(5,$Channel1$$.saveStateSlot),$Channel1$$.envelopeCounter);store(getSaveStateMemoryOffset(9,$Channel1$$.saveStateSlot),$Channel1$$.lengthCounter);
store(getSaveStateMemoryOffset(14,$Channel1$$.saveStateSlot),$Channel1$$.volume);store(getSaveStateMemoryOffset(19,$Channel1$$.saveStateSlot),$Channel1$$.dutyCycle);store(getSaveStateMemoryOffset(20,$Channel1$$.saveStateSlot),$Channel1$$.waveFormPositionOnDuty);storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(25,$Channel1$$.saveStateSlot),$Channel1$$.isSweepEnabled);store(getSaveStateMemoryOffset(26,$Channel1$$.saveStateSlot),$Channel1$$.sweepCounter);store(getSaveStateMemoryOffset(31,$Channel1$$.saveStateSlot),
$Channel1$$.sweepShadowFrequency)};$Channel1$$.loadState=function $$Channel1$$$loadState$(){$Channel1$$.isEnabled=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0,$Channel1$$.saveStateSlot));$Channel1$$.frequencyTimer=load(getSaveStateMemoryOffset(1,$Channel1$$.saveStateSlot));$Channel1$$.envelopeCounter=load(getSaveStateMemoryOffset(5,$Channel1$$.saveStateSlot));$Channel1$$.lengthCounter=load(getSaveStateMemoryOffset(9,$Channel1$$.saveStateSlot));$Channel1$$.volume=load(getSaveStateMemoryOffset(14,
$Channel1$$.saveStateSlot));$Channel1$$.dutyCycle=load(getSaveStateMemoryOffset(19,$Channel1$$.saveStateSlot));$Channel1$$.waveFormPositionOnDuty=load(getSaveStateMemoryOffset(20,$Channel1$$.saveStateSlot));$Channel1$$.isSweepEnabled=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(25,$Channel1$$.saveStateSlot));$Channel1$$.sweepCounter=load(getSaveStateMemoryOffset(26,$Channel1$$.saveStateSlot));$Channel1$$.sweepShadowFrequency=load(getSaveStateMemoryOffset(31,$Channel1$$.saveStateSlot))};
$Channel1$$.initialize=function $$Channel1$$$initialize$(){eightBitStoreIntoGBMemory($Channel1$$.memoryLocationNRx0,128);eightBitStoreIntoGBMemory($Channel1$$.memoryLocationNRx1,191);eightBitStoreIntoGBMemory($Channel1$$.memoryLocationNRx2,243);eightBitStoreIntoGBMemory($Channel1$$.memoryLocationNRx3,193);eightBitStoreIntoGBMemory($Channel1$$.memoryLocationNRx4,191)};$Channel1$$.getSampleFromCycleCounter=function $$Channel1$$$getSampleFromCycleCounter$(){var $accumulatedCycles$$=$Channel1$$.cycleCounter;
$Channel1$$.cycleCounter=0;return $Channel1$$.getSample($accumulatedCycles$$)};$Channel1$$.resetTimer=function $$Channel1$$$resetTimer$(){$Channel1$$.frequencyTimer=4*(2048-$Channel1$$.frequency);Cpu.GBCDoubleSpeed&&($Channel1$$.frequencyTimer*=2)};$Channel1$$.getSample=function $$Channel1$$$getSample$($numberOfCycles_outputVolume_overflowAmount$$){$Channel1$$.frequencyTimer-=$numberOfCycles_outputVolume_overflowAmount$$;0>=$Channel1$$.frequencyTimer&&($numberOfCycles_outputVolume_overflowAmount$$=
abs($Channel1$$.frequencyTimer),$Channel1$$.resetTimer(),$Channel1$$.frequencyTimer-=$numberOfCycles_outputVolume_overflowAmount$$,$Channel1$$.waveFormPositionOnDuty+=1,8<=$Channel1$$.waveFormPositionOnDuty&&($Channel1$$.waveFormPositionOnDuty=0));if($Channel1$$.isEnabled&&$Channel1$$.isDacEnabled)$numberOfCycles_outputVolume_overflowAmount$$=$Channel1$$.volume;else return 15;var $sample$$=1;isDutyCycleClockPositiveOrNegativeForWaveform($Channel1$$.NRx1Duty,$Channel1$$.waveFormPositionOnDuty)||($sample$$*=
-1);return $sample$$*$numberOfCycles_outputVolume_overflowAmount$$+15};$Channel1$$.trigger=function $$Channel1$$$trigger$(){$Channel1$$.isEnabled=!0;0===$Channel1$$.lengthCounter&&($Channel1$$.lengthCounter=64);$Channel1$$.resetTimer();$Channel1$$.envelopeCounter=$Channel1$$.NRx2EnvelopePeriod;$Channel1$$.volume=$Channel1$$.NRx2StartingVolume;$Channel1$$.sweepShadowFrequency=$Channel1$$.frequency;$Channel1$$.sweepCounter=$Channel1$$.NRx0SweepPeriod;$Channel1$$.isSweepEnabled=0<$Channel1$$.NRx0SweepPeriod&&
0<$Channel1$$.NRx0SweepShift?!0:!1;0<$Channel1$$.NRx0SweepShift&&calculateSweepAndCheckOverflow();$Channel1$$.isDacEnabled||($Channel1$$.isEnabled=!1)};$Channel1$$.willChannelUpdate=function $$Channel1$$$willChannelUpdate$($numberOfCycles$$){$Channel1$$.cycleCounter+=$numberOfCycles$$;return 0<$Channel1$$.frequencyTimer-$Channel1$$.cycleCounter?!1:!0};$Channel1$$.updateSweep=function $$Channel1$$$updateSweep$(){--$Channel1$$.sweepCounter;0>=$Channel1$$.sweepCounter&&($Channel1$$.sweepCounter=$Channel1$$.NRx0SweepPeriod,
$Channel1$$.isSweepEnabled&&0<$Channel1$$.NRx0SweepPeriod&&calculateSweepAndCheckOverflow())};$Channel1$$.updateLength=function $$Channel1$$$updateLength$(){0<$Channel1$$.lengthCounter&&$Channel1$$.NRx4LengthEnabled&&--$Channel1$$.lengthCounter;0===$Channel1$$.lengthCounter&&($Channel1$$.isEnabled=!1)};$Channel1$$.updateEnvelope=function $$Channel1$$$updateEnvelope$(){--$Channel1$$.envelopeCounter;0>=$Channel1$$.envelopeCounter&&($Channel1$$.envelopeCounter=$Channel1$$.NRx2EnvelopePeriod,0!==$Channel1$$.envelopeCounter&&
($Channel1$$.NRx2EnvelopeAddMode&&15>$Channel1$$.volume?$Channel1$$.volume+=1:!$Channel1$$.NRx2EnvelopeAddMode&&0<$Channel1$$.volume&&--$Channel1$$.volume))};$Channel1$$.setFrequency=function $$Channel1$$$setFrequency$($frequency$$){var $passedFrequencyHighBits$$=$frequency$$>>8;$frequency$$&=255;var $newRegister4$$=eightBitLoadFromGBMemory($Channel1$$.memoryLocationNRx4)&248|$passedFrequencyHighBits$$;eightBitStoreIntoGBMemory($Channel1$$.memoryLocationNRx3,$frequency$$);eightBitStoreIntoGBMemory($Channel1$$.memoryLocationNRx4,
$newRegister4$$);$Channel1$$.NRx3FrequencyLSB=$frequency$$;$Channel1$$.NRx4FrequencyMSB=$passedFrequencyHighBits$$;$Channel1$$.frequency=$Channel1$$.NRx4FrequencyMSB<<8|$Channel1$$.NRx3FrequencyLSB};$Channel1$$.cycleCounter=0;$Channel1$$.memoryLocationNRx0=65296;$Channel1$$.NRx0SweepPeriod=0;$Channel1$$.NRx0Negate=!1;$Channel1$$.NRx0SweepShift=0;$Channel1$$.memoryLocationNRx1=65297;$Channel1$$.NRx1Duty=0;$Channel1$$.NRx1LengthLoad=0;$Channel1$$.memoryLocationNRx2=65298;$Channel1$$.NRx2StartingVolume=
0;$Channel1$$.NRx2EnvelopeAddMode=!1;$Channel1$$.NRx2EnvelopePeriod=0;$Channel1$$.memoryLocationNRx3=65299;$Channel1$$.NRx3FrequencyLSB=0;$Channel1$$.memoryLocationNRx4=65300;$Channel1$$.NRx4LengthEnabled=!1;$Channel1$$.NRx4FrequencyMSB=0;$Channel1$$.channelNumber=1;$Channel1$$.isEnabled=!1;$Channel1$$.isDacEnabled=!1;$Channel1$$.frequency=0;$Channel1$$.frequencyTimer=0;$Channel1$$.envelopeCounter=0;$Channel1$$.lengthCounter=0;$Channel1$$.volume=0;$Channel1$$.dutyCycle=0;$Channel1$$.waveFormPositionOnDuty=
0;$Channel1$$.isSweepEnabled=!1;$Channel1$$.sweepCounter=0;$Channel1$$.sweepShadowFrequency=0;$Channel1$$.saveStateSlot=7;return $Channel1$$}();function calculateSweepAndCheckOverflow(){var $newFrequency$$=getNewFrequencyFromSweep();2047>=$newFrequency$$&&0<Channel1.NRx0SweepShift&&(Channel1.sweepShadowFrequency=$newFrequency$$,Channel1.setFrequency($newFrequency$$),$newFrequency$$=getNewFrequencyFromSweep());2047<$newFrequency$$&&(Channel1.isEnabled=!1)}
function getNewFrequencyFromSweep(){var $newFrequency$$=Channel1.sweepShadowFrequency;$newFrequency$$>>=Channel1.NRx0SweepShift;return $newFrequency$$=Channel1.NRx0Negate?Channel1.sweepShadowFrequency-$newFrequency$$:Channel1.sweepShadowFrequency+$newFrequency$$}
var Channel2=function(){function $Channel2$$(){}$Channel2$$.updateNRx1=function $$Channel2$$$updateNRx1$($value$$){$Channel2$$.NRx1Duty=$value$$>>6&3;$Channel2$$.NRx1LengthLoad=$value$$&63;$Channel2$$.lengthCounter=64-$Channel2$$.NRx1LengthLoad};$Channel2$$.updateNRx2=function $$Channel2$$$updateNRx2$($value$$){$Channel2$$.NRx2StartingVolume=$value$$>>4&15;$Channel2$$.NRx2EnvelopeAddMode=checkBitOnByte(3,$value$$);$Channel2$$.NRx2EnvelopePeriod=$value$$&7;$Channel2$$.isDacEnabled=0<($value$$&248)};
$Channel2$$.updateNRx3=function $$Channel2$$$updateNRx3$($value$$){$Channel2$$.NRx3FrequencyLSB=$value$$;$Channel2$$.frequency=$Channel2$$.NRx4FrequencyMSB<<8|$Channel2$$.NRx3FrequencyLSB};$Channel2$$.updateNRx4=function $$Channel2$$$updateNRx4$($value$$){$Channel2$$.NRx4LengthEnabled=checkBitOnByte(6,$value$$);$Channel2$$.NRx4FrequencyMSB=$value$$&7;$Channel2$$.frequency=$Channel2$$.NRx4FrequencyMSB<<8|$Channel2$$.NRx3FrequencyLSB};$Channel2$$.saveState=function $$Channel2$$$saveState$(){storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0,
$Channel2$$.saveStateSlot),$Channel2$$.isEnabled);store(getSaveStateMemoryOffset(1,$Channel2$$.saveStateSlot),$Channel2$$.frequencyTimer);store(getSaveStateMemoryOffset(5,$Channel2$$.saveStateSlot),$Channel2$$.envelopeCounter);store(getSaveStateMemoryOffset(9,$Channel2$$.saveStateSlot),$Channel2$$.lengthCounter);store(getSaveStateMemoryOffset(14,$Channel2$$.saveStateSlot),$Channel2$$.volume);store(getSaveStateMemoryOffset(19,$Channel2$$.saveStateSlot),$Channel2$$.dutyCycle);store(getSaveStateMemoryOffset(20,
$Channel2$$.saveStateSlot),$Channel2$$.waveFormPositionOnDuty)};$Channel2$$.loadState=function $$Channel2$$$loadState$(){$Channel2$$.isEnabled=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0,$Channel2$$.saveStateSlot));$Channel2$$.frequencyTimer=load(getSaveStateMemoryOffset(1,$Channel2$$.saveStateSlot));$Channel2$$.envelopeCounter=load(getSaveStateMemoryOffset(5,$Channel2$$.saveStateSlot));$Channel2$$.lengthCounter=load(getSaveStateMemoryOffset(9,$Channel2$$.saveStateSlot));$Channel2$$.volume=
load(getSaveStateMemoryOffset(14,$Channel2$$.saveStateSlot));$Channel2$$.dutyCycle=load(getSaveStateMemoryOffset(19,$Channel2$$.saveStateSlot));$Channel2$$.waveFormPositionOnDuty=load(getSaveStateMemoryOffset(20,$Channel2$$.saveStateSlot))};$Channel2$$.initialize=function $$Channel2$$$initialize$(){eightBitStoreIntoGBMemory($Channel2$$.memoryLocationNRx1-1,255);eightBitStoreIntoGBMemory($Channel2$$.memoryLocationNRx1,63);eightBitStoreIntoGBMemory($Channel2$$.memoryLocationNRx2,0);eightBitStoreIntoGBMemory($Channel2$$.memoryLocationNRx3,
0);eightBitStoreIntoGBMemory($Channel2$$.memoryLocationNRx4,184)};$Channel2$$.getSampleFromCycleCounter=function $$Channel2$$$getSampleFromCycleCounter$(){var $accumulatedCycles$$=$Channel2$$.cycleCounter;$Channel2$$.cycleCounter=0;return $Channel2$$.getSample($accumulatedCycles$$)};$Channel2$$.resetTimer=function $$Channel2$$$resetTimer$(){$Channel2$$.frequencyTimer=4*(2048-$Channel2$$.frequency);Cpu.GBCDoubleSpeed&&($Channel2$$.frequencyTimer*=2)};$Channel2$$.getSample=function $$Channel2$$$getSample$($numberOfCycles$jscomp$2_outputVolume$jscomp$1_overflowAmount$$){$Channel2$$.frequencyTimer-=
$numberOfCycles$jscomp$2_outputVolume$jscomp$1_overflowAmount$$;0>=$Channel2$$.frequencyTimer&&($numberOfCycles$jscomp$2_outputVolume$jscomp$1_overflowAmount$$=abs($Channel2$$.frequencyTimer),$Channel2$$.resetTimer(),$Channel2$$.frequencyTimer-=$numberOfCycles$jscomp$2_outputVolume$jscomp$1_overflowAmount$$,$Channel2$$.waveFormPositionOnDuty+=1,8<=$Channel2$$.waveFormPositionOnDuty&&($Channel2$$.waveFormPositionOnDuty=0));if($Channel2$$.isEnabled&&$Channel2$$.isDacEnabled)$numberOfCycles$jscomp$2_outputVolume$jscomp$1_overflowAmount$$=
$Channel2$$.volume;else return 15;var $sample$$=1;isDutyCycleClockPositiveOrNegativeForWaveform($Channel2$$.NRx1Duty,$Channel2$$.waveFormPositionOnDuty)||($sample$$*=-1);return $sample$$*$numberOfCycles$jscomp$2_outputVolume$jscomp$1_overflowAmount$$+15};$Channel2$$.trigger=function $$Channel2$$$trigger$(){$Channel2$$.isEnabled=!0;0===$Channel2$$.lengthCounter&&($Channel2$$.lengthCounter=64);$Channel2$$.resetTimer();$Channel2$$.envelopeCounter=$Channel2$$.NRx2EnvelopePeriod;$Channel2$$.volume=$Channel2$$.NRx2StartingVolume;
$Channel2$$.isDacEnabled||($Channel2$$.isEnabled=!1)};$Channel2$$.willChannelUpdate=function $$Channel2$$$willChannelUpdate$($numberOfCycles$$){$Channel2$$.cycleCounter+=$numberOfCycles$$;return 0<$Channel2$$.frequencyTimer-$Channel2$$.cycleCounter?!1:!0};$Channel2$$.updateLength=function $$Channel2$$$updateLength$(){0<$Channel2$$.lengthCounter&&$Channel2$$.NRx4LengthEnabled&&--$Channel2$$.lengthCounter;0===$Channel2$$.lengthCounter&&($Channel2$$.isEnabled=!1)};$Channel2$$.updateEnvelope=function $$Channel2$$$updateEnvelope$(){--$Channel2$$.envelopeCounter;
0>=$Channel2$$.envelopeCounter&&($Channel2$$.envelopeCounter=$Channel2$$.NRx2EnvelopePeriod,0!==$Channel2$$.envelopeCounter&&($Channel2$$.NRx2EnvelopeAddMode&&15>$Channel2$$.volume?$Channel2$$.volume+=1:!$Channel2$$.NRx2EnvelopeAddMode&&0<$Channel2$$.volume&&--$Channel2$$.volume))};$Channel2$$.setFrequency=function $$Channel2$$$setFrequency$($frequency$jscomp$5_passedFrequencyLowBits$$){var $passedFrequencyHighBits$$=$frequency$jscomp$5_passedFrequencyLowBits$$>>8;$frequency$jscomp$5_passedFrequencyLowBits$$&=
255;var $newRegister4$$=eightBitLoadFromGBMemory($Channel2$$.memoryLocationNRx4)&248|$passedFrequencyHighBits$$;eightBitStoreIntoGBMemory($Channel2$$.memoryLocationNRx3,$frequency$jscomp$5_passedFrequencyLowBits$$);eightBitStoreIntoGBMemory($Channel2$$.memoryLocationNRx4,$newRegister4$$);$Channel2$$.NRx3FrequencyLSB=$frequency$jscomp$5_passedFrequencyLowBits$$;$Channel2$$.NRx4FrequencyMSB=$passedFrequencyHighBits$$;$Channel2$$.frequency=$Channel2$$.NRx4FrequencyMSB<<8|$Channel2$$.NRx3FrequencyLSB};
$Channel2$$.cycleCounter=0;$Channel2$$.memoryLocationNRx1=65302;$Channel2$$.NRx1Duty=0;$Channel2$$.NRx1LengthLoad=0;$Channel2$$.memoryLocationNRx2=65303;$Channel2$$.NRx2StartingVolume=0;$Channel2$$.NRx2EnvelopeAddMode=!1;$Channel2$$.NRx2EnvelopePeriod=0;$Channel2$$.memoryLocationNRx3=65304;$Channel2$$.NRx3FrequencyLSB=0;$Channel2$$.memoryLocationNRx4=65305;$Channel2$$.NRx4LengthEnabled=!1;$Channel2$$.NRx4FrequencyMSB=0;$Channel2$$.channelNumber=2;$Channel2$$.isEnabled=!1;$Channel2$$.isDacEnabled=
!1;$Channel2$$.frequency=0;$Channel2$$.frequencyTimer=0;$Channel2$$.envelopeCounter=0;$Channel2$$.lengthCounter=0;$Channel2$$.volume=0;$Channel2$$.dutyCycle=0;$Channel2$$.waveFormPositionOnDuty=0;$Channel2$$.saveStateSlot=8;return $Channel2$$}(),Channel3=function(){function $Channel3$$(){}$Channel3$$.updateNRx0=function $$Channel3$$$updateNRx0$($value$$){$Channel3$$.isDacEnabled=checkBitOnByte(7,$value$$)};$Channel3$$.updateNRx1=function $$Channel3$$$updateNRx1$($value$$){$Channel3$$.NRx1LengthLoad=
$value$$;$Channel3$$.lengthCounter=256-$Channel3$$.NRx1LengthLoad};$Channel3$$.updateNRx2=function $$Channel3$$$updateNRx2$($value$$){$Channel3$$.NRx2VolumeCode=$value$$>>5&15};$Channel3$$.updateNRx3=function $$Channel3$$$updateNRx3$($value$$){$Channel3$$.NRx3FrequencyLSB=$value$$;$Channel3$$.frequency=$Channel3$$.NRx4FrequencyMSB<<8|$Channel3$$.NRx3FrequencyLSB};$Channel3$$.updateNRx4=function $$Channel3$$$updateNRx4$($value$$){$Channel3$$.NRx4LengthEnabled=checkBitOnByte(6,$value$$);$Channel3$$.NRx4FrequencyMSB=
$value$$&7;$Channel3$$.frequency=$Channel3$$.NRx4FrequencyMSB<<8|$Channel3$$.NRx3FrequencyLSB};$Channel3$$.saveState=function $$Channel3$$$saveState$(){storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0,$Channel3$$.saveStateSlot),$Channel3$$.isEnabled);store(getSaveStateMemoryOffset(1,$Channel3$$.saveStateSlot),$Channel3$$.frequencyTimer);store(getSaveStateMemoryOffset(5,$Channel3$$.saveStateSlot),$Channel3$$.lengthCounter);store(getSaveStateMemoryOffset(9,$Channel3$$.saveStateSlot),$Channel3$$.waveTablePosition)};
$Channel3$$.loadState=function $$Channel3$$$loadState$(){$Channel3$$.isEnabled=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0,$Channel3$$.saveStateSlot));$Channel3$$.frequencyTimer=load(getSaveStateMemoryOffset(1,$Channel3$$.saveStateSlot));$Channel3$$.lengthCounter=load(getSaveStateMemoryOffset(5,$Channel3$$.saveStateSlot));$Channel3$$.waveTablePosition=load(getSaveStateMemoryOffset(9,$Channel3$$.saveStateSlot))};$Channel3$$.initialize=function $$Channel3$$$initialize$(){eightBitStoreIntoGBMemory($Channel3$$.memoryLocationNRx0,
127);eightBitStoreIntoGBMemory($Channel3$$.memoryLocationNRx1,255);eightBitStoreIntoGBMemory($Channel3$$.memoryLocationNRx2,159);eightBitStoreIntoGBMemory($Channel3$$.memoryLocationNRx3,0);eightBitStoreIntoGBMemory($Channel3$$.memoryLocationNRx4,184);$Channel3$$.volumeCodeChanged=!0};$Channel3$$.getSampleFromCycleCounter=function $$Channel3$$$getSampleFromCycleCounter$(){var $accumulatedCycles$$=$Channel3$$.cycleCounter;$Channel3$$.cycleCounter=0;return $Channel3$$.getSample($accumulatedCycles$$)};
$Channel3$$.resetTimer=function $$Channel3$$$resetTimer$(){$Channel3$$.frequencyTimer=2*(2048-$Channel3$$.frequency);Cpu.GBCDoubleSpeed&&($Channel3$$.frequencyTimer*=2)};$Channel3$$.getSample=function $$Channel3$$$getSample$($numberOfCycles$jscomp$4_outputVolume$jscomp$2_overflowAmount$$){$Channel3$$.frequencyTimer-=$numberOfCycles$jscomp$4_outputVolume$jscomp$2_overflowAmount$$;0>=$Channel3$$.frequencyTimer&&($numberOfCycles$jscomp$4_outputVolume$jscomp$2_overflowAmount$$=abs($Channel3$$.frequencyTimer),
$Channel3$$.resetTimer(),$Channel3$$.frequencyTimer-=$numberOfCycles$jscomp$4_outputVolume$jscomp$2_overflowAmount$$,$Channel3$$.waveTablePosition+=1,32<=$Channel3$$.waveTablePosition&&($Channel3$$.waveTablePosition=0));$numberOfCycles$jscomp$4_outputVolume$jscomp$2_overflowAmount$$=0;var $volumeCode$$=$Channel3$$.volumeCode;if($Channel3$$.isEnabled&&$Channel3$$.isDacEnabled)$Channel3$$.volumeCodeChanged&&($volumeCode$$=eightBitLoadFromGBMemory($Channel3$$.memoryLocationNRx2),$volumeCode$$=$volumeCode$$>>
5&15,$Channel3$$.volumeCode=$volumeCode$$,$Channel3$$.volumeCodeChanged=!1);else return 15;var $positionIndexToAdd_sample$$=i32Portable($Channel3$$.waveTablePosition/2);$positionIndexToAdd_sample$$=eightBitLoadFromGBMemory($Channel3$$.memoryLocationWaveTable+$positionIndexToAdd_sample$$);$positionIndexToAdd_sample$$=0===$Channel3$$.waveTablePosition%2?$positionIndexToAdd_sample$$>>4&15:$positionIndexToAdd_sample$$&15;switch($volumeCode$$){case 0:$positionIndexToAdd_sample$$>>=4;break;case 1:$numberOfCycles$jscomp$4_outputVolume$jscomp$2_overflowAmount$$=
1;break;case 2:$positionIndexToAdd_sample$$>>=1;$numberOfCycles$jscomp$4_outputVolume$jscomp$2_overflowAmount$$=2;break;default:$positionIndexToAdd_sample$$>>=2,$numberOfCycles$jscomp$4_outputVolume$jscomp$2_overflowAmount$$=4}return(0<$numberOfCycles$jscomp$4_outputVolume$jscomp$2_overflowAmount$$?$positionIndexToAdd_sample$$/$numberOfCycles$jscomp$4_outputVolume$jscomp$2_overflowAmount$$:0)+15};$Channel3$$.trigger=function $$Channel3$$$trigger$(){$Channel3$$.isEnabled=!0;0===$Channel3$$.lengthCounter&&
($Channel3$$.lengthCounter=256);$Channel3$$.resetTimer();$Channel3$$.waveTablePosition=0;$Channel3$$.isDacEnabled||($Channel3$$.isEnabled=!1)};$Channel3$$.willChannelUpdate=function $$Channel3$$$willChannelUpdate$($numberOfCycles$$){$Channel3$$.cycleCounter+=$numberOfCycles$$;return 0<$Channel3$$.frequencyTimer-$Channel3$$.cycleCounter&&!$Channel3$$.volumeCodeChanged?!1:!0};$Channel3$$.updateLength=function $$Channel3$$$updateLength$(){0<$Channel3$$.lengthCounter&&$Channel3$$.NRx4LengthEnabled&&--$Channel3$$.lengthCounter;
0===$Channel3$$.lengthCounter&&($Channel3$$.isEnabled=!1)};$Channel3$$.cycleCounter=0;$Channel3$$.memoryLocationNRx0=65306;$Channel3$$.memoryLocationNRx1=65307;$Channel3$$.NRx1LengthLoad=0;$Channel3$$.memoryLocationNRx2=65308;$Channel3$$.NRx2VolumeCode=0;$Channel3$$.memoryLocationNRx3=65309;$Channel3$$.NRx3FrequencyLSB=0;$Channel3$$.memoryLocationNRx4=65310;$Channel3$$.NRx4LengthEnabled=!1;$Channel3$$.NRx4FrequencyMSB=0;$Channel3$$.memoryLocationWaveTable=65328;$Channel3$$.channelNumber=3;$Channel3$$.isEnabled=
!1;$Channel3$$.isDacEnabled=!1;$Channel3$$.frequency=0;$Channel3$$.frequencyTimer=0;$Channel3$$.lengthCounter=0;$Channel3$$.waveTablePosition=0;$Channel3$$.volumeCode=0;$Channel3$$.volumeCodeChanged=!1;$Channel3$$.saveStateSlot=9;return $Channel3$$}(),Channel4=function(){function $Channel4$$(){}$Channel4$$.updateNRx1=function $$Channel4$$$updateNRx1$($value$$){$Channel4$$.NRx1LengthLoad=$value$$&63;$Channel4$$.lengthCounter=64-$Channel4$$.NRx1LengthLoad};$Channel4$$.updateNRx2=function $$Channel4$$$updateNRx2$($value$$){$Channel4$$.NRx2StartingVolume=
$value$$>>4&15;$Channel4$$.NRx2EnvelopeAddMode=checkBitOnByte(3,$value$$);$Channel4$$.NRx2EnvelopePeriod=$value$$&7;$Channel4$$.isDacEnabled=0<($value$$&248)};$Channel4$$.updateNRx3=function $$Channel4$$$updateNRx3$($value$$){$Channel4$$.NRx3ClockShift=$value$$>>4;$Channel4$$.NRx3WidthMode=checkBitOnByte(3,$value$$);$Channel4$$.NRx3DivisorCode=$value$$&7;switch($Channel4$$.NRx3DivisorCode){case 0:$Channel4$$.divisor=8;break;case 1:$Channel4$$.divisor=16;break;case 2:$Channel4$$.divisor=32;break;case 3:$Channel4$$.divisor=
48;break;case 4:$Channel4$$.divisor=64;break;case 5:$Channel4$$.divisor=80;break;case 6:$Channel4$$.divisor=96;break;case 7:$Channel4$$.divisor=112}};$Channel4$$.updateNRx4=function $$Channel4$$$updateNRx4$($value$$){$Channel4$$.NRx4LengthEnabled=checkBitOnByte(6,$value$$)};$Channel4$$.saveState=function $$Channel4$$$saveState$(){storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0,$Channel4$$.saveStateSlot),$Channel4$$.isEnabled);store(getSaveStateMemoryOffset(1,$Channel4$$.saveStateSlot),
$Channel4$$.frequencyTimer);store(getSaveStateMemoryOffset(5,$Channel4$$.saveStateSlot),$Channel4$$.envelopeCounter);store(getSaveStateMemoryOffset(9,$Channel4$$.saveStateSlot),$Channel4$$.lengthCounter);store(getSaveStateMemoryOffset(14,$Channel4$$.saveStateSlot),$Channel4$$.volume);store(getSaveStateMemoryOffset(19,$Channel4$$.saveStateSlot),$Channel4$$.linearFeedbackShiftRegister)};$Channel4$$.loadState=function $$Channel4$$$loadState$(){$Channel4$$.isEnabled=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0,
$Channel4$$.saveStateSlot));$Channel4$$.frequencyTimer=load(getSaveStateMemoryOffset(1,$Channel4$$.saveStateSlot));$Channel4$$.envelopeCounter=load(getSaveStateMemoryOffset(5,$Channel4$$.saveStateSlot));$Channel4$$.lengthCounter=load(getSaveStateMemoryOffset(9,$Channel4$$.saveStateSlot));$Channel4$$.volume=load(getSaveStateMemoryOffset(14,$Channel4$$.saveStateSlot));$Channel4$$.linearFeedbackShiftRegister=load(getSaveStateMemoryOffset(19,$Channel4$$.saveStateSlot))};$Channel4$$.initialize=function $$Channel4$$$initialize$(){eightBitStoreIntoGBMemory($Channel4$$.memoryLocationNRx1-
1,255);eightBitStoreIntoGBMemory($Channel4$$.memoryLocationNRx1,255);eightBitStoreIntoGBMemory($Channel4$$.memoryLocationNRx2,0);eightBitStoreIntoGBMemory($Channel4$$.memoryLocationNRx3,0);eightBitStoreIntoGBMemory($Channel4$$.memoryLocationNRx4,191)};$Channel4$$.getSampleFromCycleCounter=function $$Channel4$$$getSampleFromCycleCounter$(){var $accumulatedCycles$$=$Channel4$$.cycleCounter;$Channel4$$.cycleCounter=0;return $Channel4$$.getSample($accumulatedCycles$$)};$Channel4$$.getSample=function $$Channel4$$$getSample$($numberOfCycles$jscomp$6_outputVolume$jscomp$3_overflowAmount$$){$Channel4$$.frequencyTimer-=
$numberOfCycles$jscomp$6_outputVolume$jscomp$3_overflowAmount$$;0>=$Channel4$$.frequencyTimer&&($numberOfCycles$jscomp$6_outputVolume$jscomp$3_overflowAmount$$=abs($Channel4$$.frequencyTimer),$Channel4$$.frequencyTimer=$Channel4$$.getNoiseChannelFrequencyPeriod(),$Channel4$$.frequencyTimer-=$numberOfCycles$jscomp$6_outputVolume$jscomp$3_overflowAmount$$,$numberOfCycles$jscomp$6_outputVolume$jscomp$3_overflowAmount$$=$Channel4$$.linearFeedbackShiftRegister&1^$Channel4$$.linearFeedbackShiftRegister>>
1&1,$Channel4$$.linearFeedbackShiftRegister>>=1,$Channel4$$.linearFeedbackShiftRegister|=$numberOfCycles$jscomp$6_outputVolume$jscomp$3_overflowAmount$$<<14,$Channel4$$.NRx3WidthMode&&($Channel4$$.linearFeedbackShiftRegister&=-65,$Channel4$$.linearFeedbackShiftRegister|=$numberOfCycles$jscomp$6_outputVolume$jscomp$3_overflowAmount$$<<6));if($Channel4$$.isEnabled&&$Channel4$$.isDacEnabled)$numberOfCycles$jscomp$6_outputVolume$jscomp$3_overflowAmount$$=$Channel4$$.volume;else return 15;var $sample$$=
checkBitOnByte(0,$Channel4$$.linearFeedbackShiftRegister)?-1:1;return $sample$$*$numberOfCycles$jscomp$6_outputVolume$jscomp$3_overflowAmount$$+15};$Channel4$$.trigger=function $$Channel4$$$trigger$(){$Channel4$$.isEnabled=!0;0===$Channel4$$.lengthCounter&&($Channel4$$.lengthCounter=64);$Channel4$$.frequencyTimer=$Channel4$$.getNoiseChannelFrequencyPeriod();$Channel4$$.envelopeCounter=$Channel4$$.NRx2EnvelopePeriod;$Channel4$$.volume=$Channel4$$.NRx2StartingVolume;$Channel4$$.linearFeedbackShiftRegister=
32767;$Channel4$$.isDacEnabled||($Channel4$$.isEnabled=!1)};$Channel4$$.willChannelUpdate=function $$Channel4$$$willChannelUpdate$($numberOfCycles$$){$Channel4$$.cycleCounter+=$numberOfCycles$$;return 0<$Channel4$$.frequencyTimer-$Channel4$$.cycleCounter?!1:!0};$Channel4$$.getNoiseChannelFrequencyPeriod=function $$Channel4$$$getNoiseChannelFrequencyPeriod$(){var $response$$=$Channel4$$.divisor<<$Channel4$$.NRx3ClockShift;Cpu.GBCDoubleSpeed&&($response$$*=2);return $response$$};$Channel4$$.updateLength=
function $$Channel4$$$updateLength$(){0<$Channel4$$.lengthCounter&&$Channel4$$.NRx4LengthEnabled&&--$Channel4$$.lengthCounter;0===$Channel4$$.lengthCounter&&($Channel4$$.isEnabled=!1)};$Channel4$$.updateEnvelope=function $$Channel4$$$updateEnvelope$(){--$Channel4$$.envelopeCounter;0>=$Channel4$$.envelopeCounter&&($Channel4$$.envelopeCounter=$Channel4$$.NRx2EnvelopePeriod,0!==$Channel4$$.envelopeCounter&&($Channel4$$.NRx2EnvelopeAddMode&&15>$Channel4$$.volume?$Channel4$$.volume+=1:!$Channel4$$.NRx2EnvelopeAddMode&&
0<$Channel4$$.volume&&--$Channel4$$.volume))};$Channel4$$.cycleCounter=0;$Channel4$$.memoryLocationNRx1=65312;$Channel4$$.NRx1LengthLoad=0;$Channel4$$.memoryLocationNRx2=65313;$Channel4$$.NRx2StartingVolume=0;$Channel4$$.NRx2EnvelopeAddMode=!1;$Channel4$$.NRx2EnvelopePeriod=0;$Channel4$$.memoryLocationNRx3=65314;$Channel4$$.NRx3ClockShift=0;$Channel4$$.NRx3WidthMode=!1;$Channel4$$.NRx3DivisorCode=0;$Channel4$$.memoryLocationNRx4=65315;$Channel4$$.NRx4LengthEnabled=!1;$Channel4$$.channelNumber=4;$Channel4$$.isEnabled=
!1;$Channel4$$.isDacEnabled=!1;$Channel4$$.frequencyTimer=0;$Channel4$$.envelopeCounter=0;$Channel4$$.lengthCounter=0;$Channel4$$.volume=0;$Channel4$$.divisor=0;$Channel4$$.linearFeedbackShiftRegister=0;$Channel4$$.saveStateSlot=10;return $Channel4$$}(),SoundAccumulator=function(){function $SoundAccumulator$$(){}$SoundAccumulator$$.channel1Sample=15;$SoundAccumulator$$.channel2Sample=15;$SoundAccumulator$$.channel3Sample=15;$SoundAccumulator$$.channel4Sample=15;$SoundAccumulator$$.channel1DacEnabled=
!1;$SoundAccumulator$$.channel2DacEnabled=!1;$SoundAccumulator$$.channel3DacEnabled=!1;$SoundAccumulator$$.channel4DacEnabled=!1;$SoundAccumulator$$.leftChannelSampleUnsignedByte=127;$SoundAccumulator$$.rightChannelSampleUnsignedByte=127;$SoundAccumulator$$.mixerVolumeChanged=!1;$SoundAccumulator$$.mixerEnabledChanged=!1;$SoundAccumulator$$.needToRemixSamples=!1;return $SoundAccumulator$$}();
function initializeSoundAccumulator(){SoundAccumulator.channel1Sample=15;SoundAccumulator.channel2Sample=15;SoundAccumulator.channel3Sample=15;SoundAccumulator.channel4Sample=15;SoundAccumulator.channel1DacEnabled=!1;SoundAccumulator.channel2DacEnabled=!1;SoundAccumulator.channel3DacEnabled=!1;SoundAccumulator.channel4DacEnabled=!1;SoundAccumulator.leftChannelSampleUnsignedByte=127;SoundAccumulator.rightChannelSampleUnsignedByte=127;SoundAccumulator.mixerVolumeChanged=!0;SoundAccumulator.mixerEnabledChanged=
!0;SoundAccumulator.needToRemixSamples=!1}
function accumulateSound($maxIndex_numberOfCycles$$){var $channel1WillUpdate$$=Channel1.willChannelUpdate($maxIndex_numberOfCycles$$)||didChannelDacChange(Channel1.channelNumber),$channel2WillUpdate$$=Channel2.willChannelUpdate($maxIndex_numberOfCycles$$)||didChannelDacChange(Channel2.channelNumber),$channel3WillUpdate$$=Channel3.willChannelUpdate($maxIndex_numberOfCycles$$)||didChannelDacChange(Channel3.channelNumber),$channel4WillUpdate$$=Channel4.willChannelUpdate($maxIndex_numberOfCycles$$)||didChannelDacChange(Channel4.channelNumber);
$channel1WillUpdate$$&&(SoundAccumulator.channel1Sample=Channel1.getSampleFromCycleCounter());$channel2WillUpdate$$&&(SoundAccumulator.channel2Sample=Channel2.getSampleFromCycleCounter());$channel3WillUpdate$$&&(SoundAccumulator.channel3Sample=Channel3.getSampleFromCycleCounter());$channel4WillUpdate$$&&(SoundAccumulator.channel4Sample=Channel4.getSampleFromCycleCounter());if($channel1WillUpdate$$||$channel2WillUpdate$$||$channel3WillUpdate$$||$channel4WillUpdate$$)SoundAccumulator.needToRemixSamples=
!0;Sound.downSampleCycleCounter+=$maxIndex_numberOfCycles$$*Sound.downSampleCycleMultiplier;Sound.downSampleCycleCounter>=Sound.maxDownSampleCycles()&&(Sound.downSampleCycleCounter-=Sound.maxDownSampleCycles(),(SoundAccumulator.needToRemixSamples||SoundAccumulator.mixerVolumeChanged||SoundAccumulator.mixerEnabledChanged)&&mixChannelSamples(SoundAccumulator.channel1Sample,SoundAccumulator.channel2Sample,SoundAccumulator.channel3Sample,SoundAccumulator.channel4Sample),setLeftAndRightOutputForAudioQueue(SoundAccumulator.leftChannelSampleUnsignedByte+
1,SoundAccumulator.rightChannelSampleUnsignedByte+1,AUDIO_BUFFER_LOCATION),Sound.audioQueueIndex+=1,$maxIndex_numberOfCycles$$=i32Portable(Sound.wasmBoyMemoryMaxBufferSize/2)-1,Sound.audioQueueIndex>=$maxIndex_numberOfCycles$$&&--Sound.audioQueueIndex)}
function didChannelDacChange($channelNumber$$){switch($channelNumber$$){case Channel1.channelNumber:if(SoundAccumulator.channel1DacEnabled!==Channel1.isDacEnabled)return SoundAccumulator.channel1DacEnabled=Channel1.isDacEnabled,!0;break;case Channel2.channelNumber:if(SoundAccumulator.channel2DacEnabled!==Channel2.isDacEnabled)return SoundAccumulator.channel2DacEnabled=Channel2.isDacEnabled,!0;break;case Channel3.channelNumber:if(SoundAccumulator.channel3DacEnabled!==Channel3.isDacEnabled)return SoundAccumulator.channel3DacEnabled=
Channel3.isDacEnabled,!0;break;case Channel4.channelNumber:if(SoundAccumulator.channel4DacEnabled!==Channel4.isDacEnabled)return SoundAccumulator.channel4DacEnabled=Channel4.isDacEnabled,!0}return!1}
var Sound=function(){function $Sound$$(){}$Sound$$.batchProcessCycles=function $$Sound$$$batchProcessCycles$(){return Cpu.GBCDoubleSpeed?174:87};$Sound$$.updateNR50=function $$Sound$$$updateNR50$($value$$){$Sound$$.NR50LeftMixerVolume=$value$$>>4&7;$Sound$$.NR50RightMixerVolume=$value$$&7};$Sound$$.updateNR51=function $$Sound$$$updateNR51$($value$$){$Sound$$.NR51IsChannel4EnabledOnLeftOutput=checkBitOnByte(7,$value$$);$Sound$$.NR51IsChannel3EnabledOnLeftOutput=checkBitOnByte(6,$value$$);$Sound$$.NR51IsChannel2EnabledOnLeftOutput=
checkBitOnByte(5,$value$$);$Sound$$.NR51IsChannel1EnabledOnLeftOutput=checkBitOnByte(4,$value$$);$Sound$$.NR51IsChannel4EnabledOnRightOutput=checkBitOnByte(3,$value$$);$Sound$$.NR51IsChannel3EnabledOnRightOutput=checkBitOnByte(2,$value$$);$Sound$$.NR51IsChannel2EnabledOnRightOutput=checkBitOnByte(1,$value$$);$Sound$$.NR51IsChannel1EnabledOnRightOutput=checkBitOnByte(0,$value$$)};$Sound$$.updateNR52=function $$Sound$$$updateNR52$($value$$){$Sound$$.NR52IsSoundEnabled=checkBitOnByte(7,$value$$)};$Sound$$.maxFrameSequenceCycles=
function $$Sound$$$maxFrameSequenceCycles$(){return Cpu.GBCDoubleSpeed?16384:8192};$Sound$$.maxDownSampleCycles=function $$Sound$$$maxDownSampleCycles$(){return Cpu.CLOCK_SPEED()};$Sound$$.saveState=function $$Sound$$$saveState$(){store(getSaveStateMemoryOffset(0,$Sound$$.saveStateSlot),$Sound$$.frameSequenceCycleCounter);store(getSaveStateMemoryOffset(4,$Sound$$.saveStateSlot),$Sound$$.downSampleCycleCounter);store(getSaveStateMemoryOffset(5,$Sound$$.saveStateSlot),$Sound$$.frameSequencer)};$Sound$$.loadState=
function $$Sound$$$loadState$(){$Sound$$.frameSequenceCycleCounter=load(getSaveStateMemoryOffset(0,$Sound$$.saveStateSlot));$Sound$$.downSampleCycleCounter=load(getSaveStateMemoryOffset(4,$Sound$$.saveStateSlot));$Sound$$.frameSequencer=load(getSaveStateMemoryOffset(5,$Sound$$.saveStateSlot));clearAudioBuffer()};$Sound$$.currentCycles=0;$Sound$$.memoryLocationNR50=65316;$Sound$$.NR50LeftMixerVolume=0;$Sound$$.NR50RightMixerVolume=0;$Sound$$.memoryLocationNR51=65317;$Sound$$.NR51IsChannel1EnabledOnLeftOutput=
!0;$Sound$$.NR51IsChannel2EnabledOnLeftOutput=!0;$Sound$$.NR51IsChannel3EnabledOnLeftOutput=!0;$Sound$$.NR51IsChannel4EnabledOnLeftOutput=!0;$Sound$$.NR51IsChannel1EnabledOnRightOutput=!0;$Sound$$.NR51IsChannel2EnabledOnRightOutput=!0;$Sound$$.NR51IsChannel3EnabledOnRightOutput=!0;$Sound$$.NR51IsChannel4EnabledOnRightOutput=!0;$Sound$$.memoryLocationNR52=65318;$Sound$$.NR52IsSoundEnabled=!0;$Sound$$.memoryLocationChannel3LoadRegisterStart=65328;$Sound$$.frameSequenceCycleCounter=0;$Sound$$.downSampleCycleCounter=
0;$Sound$$.downSampleCycleMultiplier=48E3;$Sound$$.frameSequencer=0;$Sound$$.audioQueueIndex=0;$Sound$$.wasmBoyMemoryMaxBufferSize=131072;$Sound$$.saveStateSlot=6;return $Sound$$}();
function initializeSound(){Sound.currentCycles=0;Sound.NR50LeftMixerVolume=0;Sound.NR50RightMixerVolume=0;Sound.NR51IsChannel1EnabledOnLeftOutput=!0;Sound.NR51IsChannel2EnabledOnLeftOutput=!0;Sound.NR51IsChannel3EnabledOnLeftOutput=!0;Sound.NR51IsChannel4EnabledOnLeftOutput=!0;Sound.NR51IsChannel1EnabledOnRightOutput=!0;Sound.NR51IsChannel2EnabledOnRightOutput=!0;Sound.NR51IsChannel3EnabledOnRightOutput=!0;Sound.NR51IsChannel4EnabledOnRightOutput=!0;Sound.NR52IsSoundEnabled=!0;Sound.frameSequenceCycleCounter=
0;Sound.downSampleCycleCounter=0;Sound.frameSequencer=0;Sound.audioQueueIndex=0;Channel1.initialize();Channel2.initialize();Channel3.initialize();Channel4.initialize();eightBitStoreIntoGBMemory(Sound.memoryLocationNR50,119);eightBitStoreIntoGBMemory(Sound.memoryLocationNR51,243);eightBitStoreIntoGBMemory(Sound.memoryLocationNR52,241);initializeSoundAccumulator()}
function batchProcessAudio(){if(!(Sound.currentCycles<Sound.batchProcessCycles()))for(;Sound.currentCycles>=Sound.batchProcessCycles();)updateSound(Sound.batchProcessCycles()),Sound.currentCycles-=Sound.batchProcessCycles()}function updateSound($numberOfCycles$$){var $frameSequencerUpdated$$=updateFrameSequencer($numberOfCycles$$);Config.audioAccumulateSamples&&!$frameSequencerUpdated$$?accumulateSound($numberOfCycles$$):calculateSound($numberOfCycles$$)}
function getNumberOfSamplesInAudioBuffer(){return Sound.audioQueueIndex}function clearAudioBuffer(){Sound.audioQueueIndex=0}
function calculateSound($leftChannelSampleUnsignedByte_numberOfCycles$$){var $channel1Sample_maxIndex$$=i32Portable(Channel1.getSample($leftChannelSampleUnsignedByte_numberOfCycles$$)),$channel2Sample$$=i32Portable(Channel2.getSample($leftChannelSampleUnsignedByte_numberOfCycles$$)),$channel3Sample$$=i32Portable(Channel3.getSample($leftChannelSampleUnsignedByte_numberOfCycles$$)),$channel4Sample$$=i32Portable(Channel4.getSample($leftChannelSampleUnsignedByte_numberOfCycles$$));SoundAccumulator.channel1Sample=
$channel1Sample_maxIndex$$;SoundAccumulator.channel2Sample=$channel2Sample$$;SoundAccumulator.channel3Sample=$channel3Sample$$;SoundAccumulator.channel4Sample=$channel4Sample$$;Sound.downSampleCycleCounter+=$leftChannelSampleUnsignedByte_numberOfCycles$$*Sound.downSampleCycleMultiplier;if(Sound.downSampleCycleCounter>=Sound.maxDownSampleCycles()){Sound.downSampleCycleCounter-=Sound.maxDownSampleCycles();var $mixedSample_rightChannelSampleUnsignedByte$$=mixChannelSamples($channel1Sample_maxIndex$$,
$channel2Sample$$,$channel3Sample$$,$channel4Sample$$);$leftChannelSampleUnsignedByte_numberOfCycles$$=splitHighByte($mixedSample_rightChannelSampleUnsignedByte$$);$mixedSample_rightChannelSampleUnsignedByte$$=splitLowByte($mixedSample_rightChannelSampleUnsignedByte$$);setLeftAndRightOutputForAudioQueue($leftChannelSampleUnsignedByte_numberOfCycles$$+1,$mixedSample_rightChannelSampleUnsignedByte$$+1,AUDIO_BUFFER_LOCATION);Config.enableAudioDebugging&&($mixedSample_rightChannelSampleUnsignedByte$$=
mixChannelSamples($channel1Sample_maxIndex$$,15,15,15),$leftChannelSampleUnsignedByte_numberOfCycles$$=splitHighByte($mixedSample_rightChannelSampleUnsignedByte$$),$mixedSample_rightChannelSampleUnsignedByte$$=splitLowByte($mixedSample_rightChannelSampleUnsignedByte$$),setLeftAndRightOutputForAudioQueue($leftChannelSampleUnsignedByte_numberOfCycles$$+1,$mixedSample_rightChannelSampleUnsignedByte$$+1,CHANNEL_1_BUFFER_LOCATION),$mixedSample_rightChannelSampleUnsignedByte$$=mixChannelSamples(15,$channel2Sample$$,
15,15),$leftChannelSampleUnsignedByte_numberOfCycles$$=splitHighByte($mixedSample_rightChannelSampleUnsignedByte$$),$mixedSample_rightChannelSampleUnsignedByte$$=splitLowByte($mixedSample_rightChannelSampleUnsignedByte$$),setLeftAndRightOutputForAudioQueue($leftChannelSampleUnsignedByte_numberOfCycles$$+1,$mixedSample_rightChannelSampleUnsignedByte$$+1,CHANNEL_2_BUFFER_LOCATION),$mixedSample_rightChannelSampleUnsignedByte$$=mixChannelSamples(15,15,$channel3Sample$$,15),$leftChannelSampleUnsignedByte_numberOfCycles$$=
splitHighByte($mixedSample_rightChannelSampleUnsignedByte$$),$mixedSample_rightChannelSampleUnsignedByte$$=splitLowByte($mixedSample_rightChannelSampleUnsignedByte$$),setLeftAndRightOutputForAudioQueue($leftChannelSampleUnsignedByte_numberOfCycles$$+1,$mixedSample_rightChannelSampleUnsignedByte$$+1,CHANNEL_3_BUFFER_LOCATION),$mixedSample_rightChannelSampleUnsignedByte$$=mixChannelSamples(15,15,15,$channel4Sample$$),$leftChannelSampleUnsignedByte_numberOfCycles$$=splitHighByte($mixedSample_rightChannelSampleUnsignedByte$$),
$mixedSample_rightChannelSampleUnsignedByte$$=splitLowByte($mixedSample_rightChannelSampleUnsignedByte$$),setLeftAndRightOutputForAudioQueue($leftChannelSampleUnsignedByte_numberOfCycles$$+1,$mixedSample_rightChannelSampleUnsignedByte$$+1,CHANNEL_4_BUFFER_LOCATION));Sound.audioQueueIndex+=1;$channel1Sample_maxIndex$$=i32Portable(Sound.wasmBoyMemoryMaxBufferSize/2)-1;Sound.audioQueueIndex>=$channel1Sample_maxIndex$$&&--Sound.audioQueueIndex}}
function updateFrameSequencer($numberOfCycles$$){Sound.frameSequenceCycleCounter+=$numberOfCycles$$;if(Sound.frameSequenceCycleCounter>=Sound.maxFrameSequenceCycles()){Sound.frameSequenceCycleCounter-=Sound.maxFrameSequenceCycles();switch(Sound.frameSequencer){case 0:Channel1.updateLength();Channel2.updateLength();Channel3.updateLength();Channel4.updateLength();break;case 2:Channel1.updateLength();Channel2.updateLength();Channel3.updateLength();Channel4.updateLength();Channel1.updateSweep();break;
case 4:Channel1.updateLength();Channel2.updateLength();Channel3.updateLength();Channel4.updateLength();break;case 6:Channel1.updateLength();Channel2.updateLength();Channel3.updateLength();Channel4.updateLength();Channel1.updateSweep();break;case 7:Channel1.updateEnvelope(),Channel2.updateEnvelope(),Channel4.updateEnvelope()}Sound.frameSequencer+=1;8<=Sound.frameSequencer&&(Sound.frameSequencer=0);return!0}return!1}
function mixChannelSamples($channel1Sample$jscomp$1_leftChannelSampleUnsignedByte$$,$channel2Sample$$,$channel3Sample$$,$channel4Sample$$){void 0===$channel1Sample$jscomp$1_leftChannelSampleUnsignedByte$$&&($channel1Sample$jscomp$1_leftChannelSampleUnsignedByte$$=15);void 0===$channel2Sample$$&&($channel2Sample$$=15);void 0===$channel3Sample$$&&($channel3Sample$$=15);void 0===$channel4Sample$$&&($channel4Sample$$=15);SoundAccumulator.mixerVolumeChanged=!1;var $leftChannelSample$$=0,$rightChannelSample_rightChannelSampleUnsignedByte$$=
0;$leftChannelSample$$=Sound.NR51IsChannel1EnabledOnLeftOutput?$leftChannelSample$$+$channel1Sample$jscomp$1_leftChannelSampleUnsignedByte$$:$leftChannelSample$$+15;$leftChannelSample$$=Sound.NR51IsChannel2EnabledOnLeftOutput?$leftChannelSample$$+$channel2Sample$$:$leftChannelSample$$+15;$leftChannelSample$$=Sound.NR51IsChannel3EnabledOnLeftOutput?$leftChannelSample$$+$channel3Sample$$:$leftChannelSample$$+15;$leftChannelSample$$=Sound.NR51IsChannel4EnabledOnLeftOutput?$leftChannelSample$$+$channel4Sample$$:
$leftChannelSample$$+15;$rightChannelSample_rightChannelSampleUnsignedByte$$=Sound.NR51IsChannel1EnabledOnRightOutput?$rightChannelSample_rightChannelSampleUnsignedByte$$+$channel1Sample$jscomp$1_leftChannelSampleUnsignedByte$$:$rightChannelSample_rightChannelSampleUnsignedByte$$+15;$rightChannelSample_rightChannelSampleUnsignedByte$$=Sound.NR51IsChannel2EnabledOnRightOutput?$rightChannelSample_rightChannelSampleUnsignedByte$$+$channel2Sample$$:$rightChannelSample_rightChannelSampleUnsignedByte$$+
15;$rightChannelSample_rightChannelSampleUnsignedByte$$=Sound.NR51IsChannel3EnabledOnRightOutput?$rightChannelSample_rightChannelSampleUnsignedByte$$+$channel3Sample$$:$rightChannelSample_rightChannelSampleUnsignedByte$$+15;$rightChannelSample_rightChannelSampleUnsignedByte$$=Sound.NR51IsChannel4EnabledOnRightOutput?$rightChannelSample_rightChannelSampleUnsignedByte$$+$channel4Sample$$:$rightChannelSample_rightChannelSampleUnsignedByte$$+15;SoundAccumulator.mixerEnabledChanged=!1;SoundAccumulator.needToRemixSamples=
!1;$channel1Sample$jscomp$1_leftChannelSampleUnsignedByte$$=getSampleAsUnsignedByte($leftChannelSample$$,Sound.NR50LeftMixerVolume+1);$rightChannelSample_rightChannelSampleUnsignedByte$$=getSampleAsUnsignedByte($rightChannelSample_rightChannelSampleUnsignedByte$$,Sound.NR50RightMixerVolume+1);SoundAccumulator.leftChannelSampleUnsignedByte=$channel1Sample$jscomp$1_leftChannelSampleUnsignedByte$$;SoundAccumulator.rightChannelSampleUnsignedByte=$rightChannelSample_rightChannelSampleUnsignedByte$$;return concatenateBytes($channel1Sample$jscomp$1_leftChannelSampleUnsignedByte$$,
$rightChannelSample_rightChannelSampleUnsignedByte$$)}
function getSampleAsUnsignedByte($convertedSample_sample$$,$maxDivider_mixerVolume$$){if(60===$convertedSample_sample$$)return 127;$convertedSample_sample$$=i32Portable(1E5*($convertedSample_sample$$-60)*$maxDivider_mixerVolume$$/8);$convertedSample_sample$$=i32Portable($convertedSample_sample$$/1E5);$convertedSample_sample$$+=60;$maxDivider_mixerVolume$$=i32Portable(12E6/254);$convertedSample_sample$$=i32Portable(1E5*$convertedSample_sample$$/$maxDivider_mixerVolume$$);return $convertedSample_sample$$=
i32Portable($convertedSample_sample$$)}function setLeftAndRightOutputForAudioQueue($leftVolume$$,$rightVolume$$,$audioQueueOffset_bufferLocation$$){$audioQueueOffset_bufferLocation$$+=2*Sound.audioQueueIndex;store($audioQueueOffset_bufferLocation$$,$leftVolume$$+1);store($audioQueueOffset_bufferLocation$$+1,$rightVolume$$+1)}
function SoundRegisterWriteTraps($i$jscomp$4_offset$$,$value$$){if($i$jscomp$4_offset$$!==Sound.memoryLocationNR52&&!Sound.NR52IsSoundEnabled)return!1;switch($i$jscomp$4_offset$$){case Channel1.memoryLocationNRx0:Channel1.updateNRx0($value$$);break;case Channel3.memoryLocationNRx0:Channel3.updateNRx0($value$$);break;case Channel1.memoryLocationNRx1:Channel1.updateNRx1($value$$);break;case Channel2.memoryLocationNRx1:Channel2.updateNRx1($value$$);break;case Channel3.memoryLocationNRx1:Channel3.updateNRx1($value$$);
break;case Channel4.memoryLocationNRx1:Channel4.updateNRx1($value$$);break;case Channel1.memoryLocationNRx2:Channel1.updateNRx2($value$$);break;case Channel2.memoryLocationNRx2:Channel2.updateNRx2($value$$);break;case Channel3.memoryLocationNRx2:Channel3.volumeCodeChanged=!0;Channel3.updateNRx2($value$$);break;case Channel4.memoryLocationNRx2:Channel4.updateNRx2($value$$);break;case Channel1.memoryLocationNRx3:Channel1.updateNRx3($value$$);break;case Channel2.memoryLocationNRx3:Channel2.updateNRx3($value$$);
break;case Channel3.memoryLocationNRx3:Channel3.updateNRx3($value$$);break;case Channel4.memoryLocationNRx3:Channel4.updateNRx3($value$$);break;case Channel1.memoryLocationNRx4:checkBitOnByte(7,$value$$)&&(Channel1.updateNRx4($value$$),Channel1.trigger());break;case Channel2.memoryLocationNRx4:checkBitOnByte(7,$value$$)&&(Channel2.updateNRx4($value$$),Channel2.trigger());break;case Channel3.memoryLocationNRx4:checkBitOnByte(7,$value$$)&&(Channel3.updateNRx4($value$$),Channel3.trigger());break;case Channel4.memoryLocationNRx4:checkBitOnByte(7,
$value$$)&&(Channel4.updateNRx4($value$$),Channel4.trigger());break;case Sound.memoryLocationNR50:Sound.updateNR50($value$$);SoundAccumulator.mixerVolumeChanged=!0;break;case Sound.memoryLocationNR51:Sound.updateNR51($value$$);SoundAccumulator.mixerEnabledChanged=!0;break;case Sound.memoryLocationNR52:if(Sound.updateNR52($value$$),!checkBitOnByte(7,$value$$))for($i$jscomp$4_offset$$=65296;65318>$i$jscomp$4_offset$$;$i$jscomp$4_offset$$++)eightBitStoreIntoGBMemory($i$jscomp$4_offset$$,0)}return!0}
function SoundRegisterReadTraps($offset$$){return $offset$$===Sound.memoryLocationNR52?eightBitLoadFromGBMemory(Sound.memoryLocationNR52)&128|112:-1}
var Interrupts=function(){function $Interrupts$$(){}$Interrupts$$.updateInterruptEnabled=function $$Interrupts$$$updateInterruptEnabled$($value$$){$Interrupts$$.isVBlankInterruptEnabled=checkBitOnByte($Interrupts$$.bitPositionVBlankInterrupt,$value$$);$Interrupts$$.isLcdInterruptEnabled=checkBitOnByte($Interrupts$$.bitPositionLcdInterrupt,$value$$);$Interrupts$$.isTimerInterruptEnabled=checkBitOnByte($Interrupts$$.bitPositionTimerInterrupt,$value$$);$Interrupts$$.isSerialInterruptEnabled=checkBitOnByte($Interrupts$$.bitPositionSerialInterrupt,
$value$$);$Interrupts$$.isJoypadInterruptEnabled=checkBitOnByte($Interrupts$$.bitPositionJoypadInterrupt,$value$$);$Interrupts$$.interruptsEnabledValue=$value$$};$Interrupts$$.updateInterruptRequested=function $$Interrupts$$$updateInterruptRequested$($value$$){$Interrupts$$.isVBlankInterruptRequested=checkBitOnByte($Interrupts$$.bitPositionVBlankInterrupt,$value$$);$Interrupts$$.isLcdInterruptRequested=checkBitOnByte($Interrupts$$.bitPositionLcdInterrupt,$value$$);$Interrupts$$.isTimerInterruptRequested=
checkBitOnByte($Interrupts$$.bitPositionTimerInterrupt,$value$$);$Interrupts$$.isSerialInterruptRequested=checkBitOnByte($Interrupts$$.bitPositionSerialInterrupt,$value$$);$Interrupts$$.isJoypadInterruptRequested=checkBitOnByte($Interrupts$$.bitPositionJoypadInterrupt,$value$$);$Interrupts$$.interruptsRequestedValue=$value$$};$Interrupts$$.areInterruptsPending=function $$Interrupts$$$areInterruptsPending$(){return 0<($Interrupts$$.interruptsRequestedValue&$Interrupts$$.interruptsEnabledValue&31)};
$Interrupts$$.saveState=function $$Interrupts$$$saveState$(){storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0,$Interrupts$$.saveStateSlot),$Interrupts$$.masterInterruptSwitch);storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(1,$Interrupts$$.saveStateSlot),$Interrupts$$.masterInterruptSwitchDelay)};$Interrupts$$.loadState=function $$Interrupts$$$loadState$(){$Interrupts$$.masterInterruptSwitch=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0,$Interrupts$$.saveStateSlot));
$Interrupts$$.masterInterruptSwitchDelay=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(1,$Interrupts$$.saveStateSlot));$Interrupts$$.updateInterruptEnabled(eightBitLoadFromGBMemory($Interrupts$$.memoryLocationInterruptEnabled));$Interrupts$$.updateInterruptRequested(eightBitLoadFromGBMemory($Interrupts$$.memoryLocationInterruptRequest))};$Interrupts$$.masterInterruptSwitch=!1;$Interrupts$$.masterInterruptSwitchDelay=!1;$Interrupts$$.bitPositionVBlankInterrupt=0;$Interrupts$$.bitPositionLcdInterrupt=
1;$Interrupts$$.bitPositionTimerInterrupt=2;$Interrupts$$.bitPositionSerialInterrupt=3;$Interrupts$$.bitPositionJoypadInterrupt=4;$Interrupts$$.memoryLocationInterruptEnabled=65535;$Interrupts$$.interruptsEnabledValue=0;$Interrupts$$.isVBlankInterruptEnabled=!1;$Interrupts$$.isLcdInterruptEnabled=!1;$Interrupts$$.isTimerInterruptEnabled=!1;$Interrupts$$.isSerialInterruptEnabled=!1;$Interrupts$$.isJoypadInterruptEnabled=!1;$Interrupts$$.memoryLocationInterruptRequest=65295;$Interrupts$$.interruptsRequestedValue=
0;$Interrupts$$.isVBlankInterruptRequested=!1;$Interrupts$$.isLcdInterruptRequested=!1;$Interrupts$$.isTimerInterruptRequested=!1;$Interrupts$$.isSerialInterruptRequested=!1;$Interrupts$$.isJoypadInterruptRequested=!1;$Interrupts$$.saveStateSlot=2;return $Interrupts$$}();
function initializeInterrupts(){Interrupts.updateInterruptEnabled(0);eightBitStoreIntoGBMemory(Interrupts.memoryLocationInterruptEnabled,Interrupts.interruptsEnabledValue);Interrupts.updateInterruptRequested(225);eightBitStoreIntoGBMemory(Interrupts.memoryLocationInterruptRequest,Interrupts.interruptsRequestedValue)}
function checkInterrupts(){Interrupts.masterInterruptSwitchDelay&&(Interrupts.masterInterruptSwitch=!0,Interrupts.masterInterruptSwitchDelay=!1);if(0<(Interrupts.interruptsEnabledValue&Interrupts.interruptsRequestedValue&31)){var $wasInterruptHandled$$=!1;Interrupts.masterInterruptSwitch&&!Cpu.isHaltNoJump&&(Interrupts.isVBlankInterruptEnabled&&Interrupts.isVBlankInterruptRequested?(_handleInterrupt(Interrupts.bitPositionVBlankInterrupt),$wasInterruptHandled$$=!0):Interrupts.isLcdInterruptEnabled&&
Interrupts.isLcdInterruptRequested?(_handleInterrupt(Interrupts.bitPositionLcdInterrupt),$wasInterruptHandled$$=!0):Interrupts.isTimerInterruptEnabled&&Interrupts.isTimerInterruptRequested?(_handleInterrupt(Interrupts.bitPositionTimerInterrupt),$wasInterruptHandled$$=!0):Interrupts.isSerialInterruptEnabled&&Interrupts.isSerialInterruptRequested?(_handleInterrupt(Interrupts.bitPositionSerialInterrupt),$wasInterruptHandled$$=!0):Interrupts.isJoypadInterruptEnabled&&Interrupts.isJoypadInterruptRequested&&
(_handleInterrupt(Interrupts.bitPositionJoypadInterrupt),$wasInterruptHandled$$=!0));var $interuptHandlerCycles$$=0;$wasInterruptHandled$$&&($interuptHandlerCycles$$=20,Cpu.isHalted()&&(Cpu.exitHaltAndStop(),$interuptHandlerCycles$$+=4));Cpu.isHalted()&&Cpu.exitHaltAndStop();return $interuptHandlerCycles$$}return 0}
function _handleInterrupt($bitPosition$$){setInterrupts(!1);var $interruptRequest$$=eightBitLoadFromGBMemory(Interrupts.memoryLocationInterruptRequest);$interruptRequest$$=resetBitOnByte($bitPosition$$,$interruptRequest$$);Interrupts.interruptsRequestedValue=$interruptRequest$$;eightBitStoreIntoGBMemory(Interrupts.memoryLocationInterruptRequest,$interruptRequest$$);Cpu.stackPointer-=2;Cpu.isHalted();sixteenBitStoreIntoGBMemory(Cpu.stackPointer,Cpu.programCounter);switch($bitPosition$$){case Interrupts.bitPositionVBlankInterrupt:Interrupts.isVBlankInterruptRequested=
!1;Cpu.programCounter=64;break;case Interrupts.bitPositionLcdInterrupt:Interrupts.isLcdInterruptRequested=!1;Cpu.programCounter=72;break;case Interrupts.bitPositionTimerInterrupt:Interrupts.isTimerInterruptRequested=!1;Cpu.programCounter=80;break;case Interrupts.bitPositionSerialInterrupt:Interrupts.isSerialInterruptRequested=!1;Cpu.programCounter=88;break;case Interrupts.bitPositionJoypadInterrupt:Interrupts.isJoypadInterruptRequested=!1,Cpu.programCounter=96}}
function _requestInterrupt($bitPosition$$){var $interruptRequest$$=eightBitLoadFromGBMemory(Interrupts.memoryLocationInterruptRequest);$interruptRequest$$=setBitOnByte($bitPosition$$,$interruptRequest$$);Interrupts.interruptsRequestedValue=$interruptRequest$$;eightBitStoreIntoGBMemory(Interrupts.memoryLocationInterruptRequest,$interruptRequest$$)}function setInterrupts($value$$){$value$$?Interrupts.masterInterruptSwitchDelay=!0:Interrupts.masterInterruptSwitch=!1}
function requestVBlankInterrupt(){Interrupts.isVBlankInterruptRequested=!0;_requestInterrupt(Interrupts.bitPositionVBlankInterrupt)}function requestLcdInterrupt(){Interrupts.isLcdInterruptRequested=!0;_requestInterrupt(Interrupts.bitPositionLcdInterrupt)}function requestTimerInterrupt(){Interrupts.isTimerInterruptRequested=!0;_requestInterrupt(Interrupts.bitPositionTimerInterrupt)}
function requestJoypadInterrupt(){Interrupts.isJoypadInterruptRequested=!0;_requestInterrupt(Interrupts.bitPositionJoypadInterrupt)}function requestSerialInterrupt(){Interrupts.isSerialInterruptRequested=!0;_requestInterrupt(Interrupts.bitPositionSerialInterrupt)}
var Timers=function(){function $Timers$$(){}$Timers$$.batchProcessCycles=function $$Timers$$$batchProcessCycles$(){return 256};$Timers$$.updateDividerRegister=function $$Timers$$$updateDividerRegister$($oldDividerRegister_value$$){$oldDividerRegister_value$$=$Timers$$.dividerRegister;$Timers$$.dividerRegister=0;eightBitStoreIntoGBMemory($Timers$$.memoryLocationDividerRegister,0);$Timers$$.timerEnabled&&_checkDividerRegisterFallingEdgeDetector($oldDividerRegister_value$$,$Timers$$.dividerRegister)&&
_incrementTimerCounter()};$Timers$$.updateTimerCounter=function $$Timers$$$updateTimerCounter$($value$$){if($Timers$$.timerEnabled){if($Timers$$.timerCounterWasReset)return;$Timers$$.timerCounterOverflowDelay&&($Timers$$.timerCounterOverflowDelay=!1)}$Timers$$.timerCounter=$value$$};$Timers$$.updateTimerModulo=function $$Timers$$$updateTimerModulo$($value$$){$Timers$$.timerModulo=$value$$;$Timers$$.timerEnabled&&$Timers$$.timerCounterWasReset&&($Timers$$.timerCounter=$Timers$$.timerModulo,$Timers$$.timerCounterWasReset=
!1)};$Timers$$.updateTimerControl=function $$Timers$$$updateTimerControl$($newTimerInputClock_value$$){var $oldTimerCounterMaskBit_oldTimerEnabled$$=$Timers$$.timerEnabled;$Timers$$.timerEnabled=checkBitOnByte(2,$newTimerInputClock_value$$);$newTimerInputClock_value$$&=3;if(!$oldTimerCounterMaskBit_oldTimerEnabled$$){$oldTimerCounterMaskBit_oldTimerEnabled$$=_getTimerCounterMaskBit($Timers$$.timerInputClock);var $newTimerCounterMaskBit$$=_getTimerCounterMaskBit($newTimerInputClock_value$$);($Timers$$.timerEnabled?
checkBitOnByte($oldTimerCounterMaskBit_oldTimerEnabled$$,$Timers$$.dividerRegister):checkBitOnByte($oldTimerCounterMaskBit_oldTimerEnabled$$,$Timers$$.dividerRegister)&&checkBitOnByte($newTimerCounterMaskBit$$,$Timers$$.dividerRegister))&&_incrementTimerCounter()}$Timers$$.timerInputClock=$newTimerInputClock_value$$};$Timers$$.saveState=function $$Timers$$$saveState$(){store(getSaveStateMemoryOffset(0,$Timers$$.saveStateSlot),$Timers$$.currentCycles);store(getSaveStateMemoryOffset(4,$Timers$$.saveStateSlot),
$Timers$$.dividerRegister);storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(8,$Timers$$.saveStateSlot),$Timers$$.timerCounterOverflowDelay);storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(11,$Timers$$.saveStateSlot),$Timers$$.timerCounterWasReset);eightBitStoreIntoGBMemory($Timers$$.memoryLocationTimerCounter,$Timers$$.timerCounter)};$Timers$$.loadState=function $$Timers$$$loadState$(){$Timers$$.currentCycles=load(getSaveStateMemoryOffset(0,$Timers$$.saveStateSlot));$Timers$$.dividerRegister=
load(getSaveStateMemoryOffset(4,$Timers$$.saveStateSlot));$Timers$$.timerCounterOverflowDelay=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(8,$Timers$$.saveStateSlot));$Timers$$.timerCounterWasReset=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(11,$Timers$$.saveStateSlot));$Timers$$.timerCounter=eightBitLoadFromGBMemory($Timers$$.memoryLocationTimerCounter);$Timers$$.timerModulo=eightBitLoadFromGBMemory($Timers$$.memoryLocationTimerModulo);$Timers$$.timerInputClock=eightBitLoadFromGBMemory($Timers$$.memoryLocationTimerControl)};
$Timers$$.currentCycles=0;$Timers$$.memoryLocationDividerRegister=65284;$Timers$$.dividerRegister=0;$Timers$$.memoryLocationTimerCounter=65285;$Timers$$.timerCounter=0;$Timers$$.timerCounterOverflowDelay=!1;$Timers$$.timerCounterWasReset=!1;$Timers$$.timerCounterMask=0;$Timers$$.memoryLocationTimerModulo=65286;$Timers$$.timerModulo=0;$Timers$$.memoryLocationTimerControl=65287;$Timers$$.timerEnabled=!1;$Timers$$.timerInputClock=0;$Timers$$.saveStateSlot=5;return $Timers$$}();
function initializeTimers(){Timers.currentCycles=0;Timers.dividerRegister=0;Timers.timerCounter=0;Timers.timerModulo=0;Timers.timerEnabled=!1;Timers.timerInputClock=0;Timers.timerCounterOverflowDelay=!1;Timers.timerCounterWasReset=!1;Cpu.GBCEnabled?(eightBitStoreIntoGBMemory(65284,30),Timers.dividerRegister=7840):(eightBitStoreIntoGBMemory(65284,171),Timers.dividerRegister=43980);eightBitStoreIntoGBMemory(65287,248);Timers.timerInputClock=248}
function batchProcessTimers(){updateTimers(Timers.currentCycles);Timers.currentCycles=0}
function updateTimers($numberOfCycles$$){for(var $cyclesIncreased$$=0;$cyclesIncreased$$<$numberOfCycles$$;){var $oldDividerRegister$$=Timers.dividerRegister;$cyclesIncreased$$+=4;Timers.dividerRegister+=4;65535<Timers.dividerRegister&&(Timers.dividerRegister-=65536);Timers.timerEnabled&&(Timers.timerCounterOverflowDelay?(Timers.timerCounter=Timers.timerModulo,requestTimerInterrupt(),Timers.timerCounterOverflowDelay=!1,Timers.timerCounterWasReset=!0):Timers.timerCounterWasReset&&(Timers.timerCounterWasReset=
!1),_checkDividerRegisterFallingEdgeDetector($oldDividerRegister$$,Timers.dividerRegister)&&_incrementTimerCounter())}}function _incrementTimerCounter(){Timers.timerCounter+=1;255<Timers.timerCounter&&(Timers.timerCounterOverflowDelay=!0,Timers.timerCounter=0)}
function _checkDividerRegisterFallingEdgeDetector($oldDividerRegister$$,$newDividerRegister$$){var $timerCounterMaskBit$$=_getTimerCounterMaskBit(Timers.timerInputClock);return checkBitOnByte($timerCounterMaskBit$$,$oldDividerRegister$$)&&!checkBitOnByte($timerCounterMaskBit$$,$newDividerRegister$$)?!0:!1}function _getTimerCounterMaskBit($timerInputClock$$){switch($timerInputClock$$){case 0:return 9;case 1:return 3;case 2:return 5;case 3:return 7}return 0}
var Serial=function(){function $Serial$$(){}$Serial$$.updateTransferControl=function $$Serial$$$updateTransferControl$($value$$){$Serial$$.isShiftClockInternal=checkBitOnByte(0,$value$$);$Serial$$.isClockSpeedFast=checkBitOnByte(1,$value$$);$Serial$$.transferStartFlag=checkBitOnByte(7,$value$$);return!0};$Serial$$.currentCycles=0;$Serial$$.memoryLocationSerialTransferData=65281;$Serial$$.memoryLocationSerialTransferControl=65282;$Serial$$.numberOfBitsTransferred=0;$Serial$$.isShiftClockInternal=!1;
$Serial$$.isClockSpeedFast=!1;$Serial$$.transferStartFlag=!1;return $Serial$$}();function initializeSerial(){Serial.currentCycles=0;Serial.numberOfBitsTransferred=0;Cpu.GBCEnabled?(eightBitStoreIntoGBMemory(65282,124),Serial.updateTransferControl(124)):(eightBitStoreIntoGBMemory(65282,126),Serial.updateTransferControl(126))}
function updateSerial($numberOfCycles$$){if(Serial.transferStartFlag)for(var $cyclesIncreased$$=0;$cyclesIncreased$$<$numberOfCycles$$;){var $oldCycles_transferControl_transferData$$=Serial.currentCycles;$cyclesIncreased$$+=4;Serial.currentCycles+=4;65535<Serial.currentCycles&&(Serial.currentCycles-=65536);_checkFallingEdgeDetector($oldCycles_transferControl_transferData$$,Serial.currentCycles)&&($oldCycles_transferControl_transferData$$=eightBitLoadFromGBMemory(Serial.memoryLocationSerialTransferData),
$oldCycles_transferControl_transferData$$=($oldCycles_transferControl_transferData$$<<1)+1,$oldCycles_transferControl_transferData$$&=255,eightBitStoreIntoGBMemory(Serial.memoryLocationSerialTransferData,$oldCycles_transferControl_transferData$$),Serial.numberOfBitsTransferred+=1,8===Serial.numberOfBitsTransferred&&(Serial.numberOfBitsTransferred=0,requestSerialInterrupt(),$oldCycles_transferControl_transferData$$=eightBitLoadFromGBMemory(Serial.memoryLocationSerialTransferControl),eightBitStoreIntoGBMemory(Serial.memoryLocationSerialTransferControl,
resetBitOnByte(7,$oldCycles_transferControl_transferData$$)),Serial.transferStartFlag=!1))}}function _checkFallingEdgeDetector($oldCycles$$,$newCycles$$){var $maskBit$$=_getFallingEdgeMaskBit();return checkBitOnByte($maskBit$$,$oldCycles$$)&&!checkBitOnByte($maskBit$$,$newCycles$$)?!0:!1}function _getFallingEdgeMaskBit(){return Serial.isClockSpeedFast?2:7}
var Joypad=function(){function $Joypad$$(){}$Joypad$$.updateJoypad=function $$Joypad$$$updateJoypad$($value$$){$Joypad$$.joypadRegisterFlipped=$value$$^255;$Joypad$$.isDpadType=checkBitOnByte(4,$Joypad$$.joypadRegisterFlipped);$Joypad$$.isButtonType=checkBitOnByte(5,$Joypad$$.joypadRegisterFlipped)};$Joypad$$.saveState=function $$Joypad$$$saveState$(){};$Joypad$$.loadState=function $$Joypad$$$loadState$(){$Joypad$$.updateJoypad(eightBitLoadFromGBMemory($Joypad$$.memoryLocationJoypadRegister))};$Joypad$$.up=
!1;$Joypad$$.down=!1;$Joypad$$.left=!1;$Joypad$$.right=!1;$Joypad$$.a=!1;$Joypad$$.b=!1;$Joypad$$.select=!1;$Joypad$$.start=!1;$Joypad$$.memoryLocationJoypadRegister=65280;$Joypad$$.joypadRegisterFlipped=0;$Joypad$$.isDpadType=!1;$Joypad$$.isButtonType=!1;$Joypad$$.saveStateSlot=3;return $Joypad$$}();
function getJoypadState(){var $joypadRegister$$=Joypad.joypadRegisterFlipped;Joypad.isDpadType?($joypadRegister$$=Joypad.up?resetBitOnByte(2,$joypadRegister$$):setBitOnByte(2,$joypadRegister$$),$joypadRegister$$=Joypad.right?resetBitOnByte(0,$joypadRegister$$):setBitOnByte(0,$joypadRegister$$),$joypadRegister$$=Joypad.down?resetBitOnByte(3,$joypadRegister$$):setBitOnByte(3,$joypadRegister$$),$joypadRegister$$=Joypad.left?resetBitOnByte(1,$joypadRegister$$):setBitOnByte(1,$joypadRegister$$)):Joypad.isButtonType&&
($joypadRegister$$=Joypad.a?resetBitOnByte(0,$joypadRegister$$):setBitOnByte(0,$joypadRegister$$),$joypadRegister$$=Joypad.b?resetBitOnByte(1,$joypadRegister$$):setBitOnByte(1,$joypadRegister$$),$joypadRegister$$=Joypad.select?resetBitOnByte(2,$joypadRegister$$):setBitOnByte(2,$joypadRegister$$),$joypadRegister$$=Joypad.start?resetBitOnByte(3,$joypadRegister$$):setBitOnByte(3,$joypadRegister$$));return $joypadRegister$$|240}
function setJoypadState($up$$,$right$$,$down$$,$left$$,$a$$,$b$$,$select$$,$start$$){0<$up$$?_pressJoypadButton(0):_releaseJoypadButton(0);0<$right$$?_pressJoypadButton(1):_releaseJoypadButton(1);0<$down$$?_pressJoypadButton(2):_releaseJoypadButton(2);0<$left$$?_pressJoypadButton(3):_releaseJoypadButton(3);0<$a$$?_pressJoypadButton(4):_releaseJoypadButton(4);0<$b$$?_pressJoypadButton(5):_releaseJoypadButton(5);0<$select$$?_pressJoypadButton(6):_releaseJoypadButton(6);0<$start$$?_pressJoypadButton(7):
_releaseJoypadButton(7)}
function _pressJoypadButton($buttonId_shouldRequestInterrupt$$){var $isButtonStateChanging_isDpadTypeButton$$=Cpu.isStopped=!1;_getJoypadButtonStateFromButtonId($buttonId_shouldRequestInterrupt$$)||($isButtonStateChanging_isDpadTypeButton$$=!0);_setJoypadButtonStateFromButtonId($buttonId_shouldRequestInterrupt$$,!0);$isButtonStateChanging_isDpadTypeButton$$&&($isButtonStateChanging_isDpadTypeButton$$=!1,3>=$buttonId_shouldRequestInterrupt$$&&($isButtonStateChanging_isDpadTypeButton$$=!0),$buttonId_shouldRequestInterrupt$$=
!1,Joypad.isDpadType&&$isButtonStateChanging_isDpadTypeButton$$&&($buttonId_shouldRequestInterrupt$$=!0),Joypad.isButtonType&&!$isButtonStateChanging_isDpadTypeButton$$&&($buttonId_shouldRequestInterrupt$$=!0),$buttonId_shouldRequestInterrupt$$&&requestJoypadInterrupt())}function _releaseJoypadButton($buttonId$$){_setJoypadButtonStateFromButtonId($buttonId$$,!1)}
function _getJoypadButtonStateFromButtonId($buttonId$$){switch($buttonId$$){case 0:return Joypad.up;case 1:return Joypad.right;case 2:return Joypad.down;case 3:return Joypad.left;case 4:return Joypad.a;case 5:return Joypad.b;case 6:return Joypad.select;case 7:return Joypad.start;default:return!1}}
function _setJoypadButtonStateFromButtonId($buttonId$$,$isPressed$$){switch($buttonId$$){case 0:Joypad.up=$isPressed$$;break;case 1:Joypad.right=$isPressed$$;break;case 2:Joypad.down=$isPressed$$;break;case 3:Joypad.left=$isPressed$$;break;case 4:Joypad.a=$isPressed$$;break;case 5:Joypad.b=$isPressed$$;break;case 6:Joypad.select=$isPressed$$;break;case 7:Joypad.start=$isPressed$$}}
function handleBanking($highByte$jscomp$1_offset$$,$ramBankBits_romBankLowerBits_romEnableByte_value$$){if(!Memory.isRomOnly)if(8191>=$highByte$jscomp$1_offset$$){if(!Memory.isMBC2||checkBitOnByte(4,$ramBankBits_romBankLowerBits_romEnableByte_value$$))$ramBankBits_romBankLowerBits_romEnableByte_value$$&=15,0===$ramBankBits_romBankLowerBits_romEnableByte_value$$?Memory.isRamBankingEnabled=!1:10===$ramBankBits_romBankLowerBits_romEnableByte_value$$&&(Memory.isRamBankingEnabled=!0)}else if(16383>=$highByte$jscomp$1_offset$$)if(!Memory.isMBC5||
12287>=$highByte$jscomp$1_offset$$)Memory.isMBC2&&(Memory.currentRomBank=$ramBankBits_romBankLowerBits_romEnableByte_value$$&15),Memory.isMBC1?($ramBankBits_romBankLowerBits_romEnableByte_value$$&=31,Memory.currentRomBank&=224):Memory.isMBC3?($ramBankBits_romBankLowerBits_romEnableByte_value$$&=127,Memory.currentRomBank&=128):Memory.isMBC5&&(Memory.currentRomBank&=0),Memory.currentRomBank|=$ramBankBits_romBankLowerBits_romEnableByte_value$$;else{$highByte$jscomp$1_offset$$=0;var $lowByte$$=splitLowByte(Memory.currentRomBank);
0<$ramBankBits_romBankLowerBits_romEnableByte_value$$&&($highByte$jscomp$1_offset$$=1);Memory.currentRomBank=concatenateBytes($highByte$jscomp$1_offset$$,$lowByte$$)}else!Memory.isMBC2&&24575>=$highByte$jscomp$1_offset$$?Memory.isMBC1&&Memory.isMBC1RomModeEnabled?(Memory.currentRomBank&=31,Memory.currentRomBank|=$ramBankBits_romBankLowerBits_romEnableByte_value$$&224):($ramBankBits_romBankLowerBits_romEnableByte_value$$=Memory.isMBC5?$ramBankBits_romBankLowerBits_romEnableByte_value$$&15:$ramBankBits_romBankLowerBits_romEnableByte_value$$&
3,Memory.currentRamBank=$ramBankBits_romBankLowerBits_romEnableByte_value$$):!Memory.isMBC2&&32767>=$highByte$jscomp$1_offset$$&&Memory.isMBC1&&(checkBitOnByte(0,$ramBankBits_romBankLowerBits_romEnableByte_value$$)?Memory.isMBC1RomModeEnabled=!0:Memory.isMBC1RomModeEnabled=!1)}
function getRomBankAddress($gameboyOffset$$){var $currentRomBank$$=Memory.currentRomBank;Memory.isMBC5||0!==$currentRomBank$$||($currentRomBank$$=1);return 16384*$currentRomBank$$+($gameboyOffset$$-Memory.switchableCartridgeRomLocation)}function getRamBankAddress($gameboyOffset$$){return 8192*Memory.currentRamBank+($gameboyOffset$$-Memory.cartridgeRamLocation)}
function initializeDma(){eightBitStoreIntoGBMemory(65361,255);eightBitStoreIntoGBMemory(65362,255);eightBitStoreIntoGBMemory(65363,255);eightBitStoreIntoGBMemory(65364,255);eightBitStoreIntoGBMemory(65365,255)}
function startDmaTransfer($sourceAddress_sourceAddressOffset$$){$sourceAddress_sourceAddressOffset$$<<=8;for(var $i$$=0;159>=$i$$;$i$$++){var $spriteInformationByte$$=eightBitLoadFromGBMemory($sourceAddress_sourceAddressOffset$$+$i$$);eightBitStoreIntoGBMemory(Memory.spriteInformationTableLocation+$i$$,$spriteInformationByte$$)}Memory.DMACycles=644}
function startHdmaTransfer($hdmaTriggerByte_hdmaTriggerByteToBeWritten$$){if(Cpu.GBCEnabled)if(Memory.isHblankHdmaActive&&!checkBitOnByte(7,$hdmaTriggerByte_hdmaTriggerByteToBeWritten$$))Memory.isHblankHdmaActive=!1,$hdmaTriggerByte_hdmaTriggerByteToBeWritten$$=eightBitLoadFromGBMemory(Memory.memoryLocationHdmaTrigger),eightBitStoreIntoGBMemory(Memory.memoryLocationHdmaTrigger,setBitOnByte(7,$hdmaTriggerByte_hdmaTriggerByteToBeWritten$$));else{var $hdmaSource$$=getHdmaSourceFromMemory(),$hdmaDestination$$=
getHdmaDestinationFromMemory(),$transferLength$$=resetBitOnByte(7,$hdmaTriggerByte_hdmaTriggerByteToBeWritten$$);$transferLength$$=16*($transferLength$$+1);checkBitOnByte(7,$hdmaTriggerByte_hdmaTriggerByteToBeWritten$$)?(Memory.isHblankHdmaActive=!0,Memory.hblankHdmaTransferLengthRemaining=$transferLength$$,Memory.hblankHdmaSource=$hdmaSource$$,Memory.hblankHdmaDestination=$hdmaDestination$$,eightBitStoreIntoGBMemory(Memory.memoryLocationHdmaTrigger,resetBitOnByte(7,$hdmaTriggerByte_hdmaTriggerByteToBeWritten$$))):
(hdmaTransfer($hdmaSource$$,$hdmaDestination$$,$transferLength$$),eightBitStoreIntoGBMemory(Memory.memoryLocationHdmaTrigger,255))}}
function updateHblankHdma(){if(Memory.isHblankHdmaActive){var $bytesToTransfer$$=16;Memory.hblankHdmaTransferLengthRemaining<$bytesToTransfer$$&&($bytesToTransfer$$=Memory.hblankHdmaTransferLengthRemaining);hdmaTransfer(Memory.hblankHdmaSource,Memory.hblankHdmaDestination,$bytesToTransfer$$);Memory.hblankHdmaSource+=$bytesToTransfer$$;Memory.hblankHdmaDestination+=$bytesToTransfer$$;Memory.hblankHdmaTransferLengthRemaining-=$bytesToTransfer$$;0>=Memory.hblankHdmaTransferLengthRemaining?(Memory.isHblankHdmaActive=
!1,eightBitStoreIntoGBMemory(Memory.memoryLocationHdmaTrigger,255)):eightBitStoreIntoGBMemory(Memory.memoryLocationHdmaTrigger,resetBitOnByte(7,Memory.hblankHdmaTransferLengthRemaining/16-1))}}
function hdmaTransfer($hdmaCycles_hdmaSource$$,$hdmaDestination$$,$transferLength$$){for(var $i$$=0;$i$$<$transferLength$$;$i$$++){for(var $sourceByte$$=eightBitLoadFromGBMemoryWithTraps($hdmaCycles_hdmaSource$$+$i$$),$hdmaDestinationWithWrapping$$=$hdmaDestination$$+$i$$;40959<$hdmaDestinationWithWrapping$$;)$hdmaDestinationWithWrapping$$-=8192;eightBitStoreIntoGBMemoryWithTraps($hdmaDestinationWithWrapping$$,$sourceByte$$)}$hdmaCycles_hdmaSource$$=32;Cpu.GBCDoubleSpeed&&($hdmaCycles_hdmaSource$$=
64);Memory.DMACycles+=$transferLength$$/16*$hdmaCycles_hdmaSource$$}function getHdmaSourceFromMemory(){var $hdmaSourceHigh$$=eightBitLoadFromGBMemory(Memory.memoryLocationHdmaSourceHigh),$hdmaSourceLow$$=eightBitLoadFromGBMemory(Memory.memoryLocationHdmaSourceLow);return concatenateBytes($hdmaSourceHigh$$,$hdmaSourceLow$$)&65520}
function getHdmaDestinationFromMemory(){var $hdmaDestination$$=eightBitLoadFromGBMemory(Memory.memoryLocationHdmaDestinationHigh),$hdmaDestinationLow$$=eightBitLoadFromGBMemory(Memory.memoryLocationHdmaDestinationLow);$hdmaDestination$$=concatenateBytes($hdmaDestination$$,$hdmaDestinationLow$$);return $hdmaDestination$$=($hdmaDestination$$&8176)+Memory.videoRamLocation}
function checkWriteTraps($offset$$,$value$$){if($offset$$===Cpu.memoryLocationSpeedSwitch)return eightBitStoreIntoGBMemory(Cpu.memoryLocationSpeedSwitch,$value$$&1),!1;var $videoRamLocation$$=Memory.videoRamLocation,$spriteInformationTableLocation$$=Memory.spriteInformationTableLocation;if($offset$$<$videoRamLocation$$)return handleBanking($offset$$,$value$$),!1;if($offset$$>=$videoRamLocation$$&&$offset$$<Memory.cartridgeRamLocation)return!0;if($offset$$>=Memory.echoRamLocation&&$offset$$<$spriteInformationTableLocation$$)return eightBitStoreIntoGBMemory($offset$$-
8192,$value$$),!0;if($offset$$>=$spriteInformationTableLocation$$&&$offset$$<=Memory.spriteInformationTableLocationEnd)return 2>Lcd.currentLcdMode?!1:!0;if($offset$$>=Memory.unusableMemoryLocation&&$offset$$<=Memory.unusableMemoryEndLocation)return!1;if($offset$$===Serial.memoryLocationSerialTransferControl)return Serial.updateTransferControl($value$$);if(65296<=$offset$$&&65318>=$offset$$)return batchProcessAudio(),SoundRegisterWriteTraps($offset$$,$value$$);65328<=$offset$$&&65343>=$offset$$&&batchProcessAudio();
if($offset$$>=Lcd.memoryLocationLcdControl&&$offset$$<=Graphics.memoryLocationWindowX){if($offset$$===Lcd.memoryLocationLcdControl)return Lcd.updateLcdControl($value$$),!0;if($offset$$===Lcd.memoryLocationLcdStatus)return Lcd.updateLcdStatus($value$$),!1;if($offset$$===Graphics.memoryLocationScanlineRegister)return Graphics.scanlineRegister=0,eightBitStoreIntoGBMemory($offset$$,0),!1;if($offset$$===Lcd.memoryLocationCoincidenceCompare)return Lcd.coincidenceCompare=$value$$,!0;if($offset$$===Graphics.memoryLocationDmaTransfer)return startDmaTransfer($value$$),
!0;switch($offset$$){case Graphics.memoryLocationScrollX:Graphics.scrollX=$value$$;break;case Graphics.memoryLocationScrollY:Graphics.scrollY=$value$$;break;case Graphics.memoryLocationWindowX:Graphics.windowX=$value$$;break;case Graphics.memoryLocationWindowY:Graphics.windowY=$value$$}return!0}if($offset$$===Memory.memoryLocationHdmaTrigger)return startHdmaTransfer($value$$),!1;if(($offset$$===Memory.memoryLocationGBCWRAMBank||$offset$$===Memory.memoryLocationGBCVRAMBank)&&Memory.isHblankHdmaActive&&
(16384<=Memory.hblankHdmaSource&&32767>=Memory.hblankHdmaSource||53248<=Memory.hblankHdmaSource&&57343>=Memory.hblankHdmaSource))return!1;if($offset$$>=Palette.memoryLocationBackgroundPaletteIndex&&$offset$$<=Palette.memoryLocationSpritePaletteData)return writeColorPaletteToMemory($offset$$,$value$$),!0;if($offset$$>=Timers.memoryLocationDividerRegister&&$offset$$<=Timers.memoryLocationTimerControl){batchProcessTimers();switch($offset$$){case Timers.memoryLocationDividerRegister:return Timers.updateDividerRegister($value$$),
!1;case Timers.memoryLocationTimerCounter:Timers.updateTimerCounter($value$$);break;case Timers.memoryLocationTimerModulo:Timers.updateTimerModulo($value$$);break;case Timers.memoryLocationTimerControl:Timers.updateTimerControl($value$$)}return!0}$offset$$===Joypad.memoryLocationJoypadRegister&&Joypad.updateJoypad($value$$);if($offset$$===Interrupts.memoryLocationInterruptRequest)return Interrupts.updateInterruptRequested($value$$),!0;$offset$$===Interrupts.memoryLocationInterruptEnabled&&Interrupts.updateInterruptEnabled($value$$);
return!0}
function getWasmBoyOffsetFromGameBoyOffset($gameboyOffset$$){switch($gameboyOffset$$>>12){case 0:case 1:case 2:case 3:return $gameboyOffset$$+CARTRIDGE_ROM_LOCATION;case 4:case 5:case 6:case 7:return getRomBankAddress($gameboyOffset$$)+CARTRIDGE_ROM_LOCATION;case 8:case 9:var $vramBankId$$=0;Cpu.GBCEnabled&&($vramBankId$$=eightBitLoadFromGBMemory(Memory.memoryLocationGBCVRAMBank)&1);return $gameboyOffset$$-Memory.videoRamLocation+VIDEO_RAM_LOCATION+8192*$vramBankId$$;case 10:case 11:return getRamBankAddress($gameboyOffset$$)+CARTRIDGE_RAM_LOCATION;
case 12:return $gameboyOffset$$-Memory.internalRamBankZeroLocation+WORK_RAM_LOCATION;case 13:return $vramBankId$$=0,Cpu.GBCEnabled&&($vramBankId$$=eightBitLoadFromGBMemory(Memory.memoryLocationGBCWRAMBank)&7),1>$vramBankId$$&&($vramBankId$$=1),$gameboyOffset$$-Memory.internalRamBankZeroLocation+WORK_RAM_LOCATION+4096*($vramBankId$$-1);default:return $gameboyOffset$$-Memory.echoRamLocation+OTHER_GAMEBOY_INTERNAL_MEMORY_LOCATION}}
var Breakpoints=function(){function $Breakpoints$$(){}$Breakpoints$$.programCounter=-1;$Breakpoints$$.readGbMemory=-1;$Breakpoints$$.writeGbMemory=-1;$Breakpoints$$.reachedBreakpoint=!1;return $Breakpoints$$}();function setProgramCounterBreakpoint($breakpoint$$){Breakpoints.programCounter=$breakpoint$$}function resetProgramCounterBreakpoint(){Breakpoints.programCounter=-1}function setReadGbMemoryBreakpoint($breakpoint$$){Breakpoints.readGbMemory=$breakpoint$$}
function resetReadGbMemoryBreakpoint(){Breakpoints.readGbMemory=-1}function setWriteGbMemoryBreakpoint($breakpoint$$){Breakpoints.writeGbMemory=$breakpoint$$}function resetWriteGbMemoryBreakpoint(){Breakpoints.writeGbMemory=-1}function eightBitStoreIntoGBMemory($gameboyOffset$$,$value$$){store(getWasmBoyOffsetFromGameBoyOffset($gameboyOffset$$),$value$$)}
function eightBitStoreIntoGBMemoryWithTraps($offset$$,$value$$){$offset$$===Breakpoints.writeGbMemory&&(Breakpoints.reachedBreakpoint=!0);checkWriteTraps($offset$$,$value$$)&&eightBitStoreIntoGBMemory($offset$$,$value$$)}
function sixteenBitStoreIntoGBMemoryWithTraps($offset$$,$lowByte$jscomp$2_value$$){var $highByte$$=splitHighByte($lowByte$jscomp$2_value$$);$lowByte$jscomp$2_value$$=splitLowByte($lowByte$jscomp$2_value$$);var $nextOffset$$=$offset$$+1;checkWriteTraps($offset$$,$lowByte$jscomp$2_value$$)&&eightBitStoreIntoGBMemory($offset$$,$lowByte$jscomp$2_value$$);checkWriteTraps($nextOffset$$,$highByte$$)&&eightBitStoreIntoGBMemory($nextOffset$$,$highByte$$)}
function sixteenBitStoreIntoGBMemory($offset$$,$lowByte$jscomp$3_value$$){var $highByte$$=splitHighByte($lowByte$jscomp$3_value$$);$lowByte$jscomp$3_value$$=splitLowByte($lowByte$jscomp$3_value$$);var $nextOffset$$=$offset$$+1;eightBitStoreIntoGBMemory($offset$$,$lowByte$jscomp$3_value$$);eightBitStoreIntoGBMemory($nextOffset$$,$highByte$$)}function storeBooleanDirectlyToWasmMemory($offset$$,$value$$){$value$$?store($offset$$,1):store($offset$$,0)}
var Lcd=function(){function $Lcd$$(){}$Lcd$$.updateLcdStatus=function $$Lcd$$$updateLcdStatus$($value$$){var $currentLcdStatus$$=eightBitLoadFromGBMemory($Lcd$$.memoryLocationLcdStatus);$value$$=setBitOnByte(7,$value$$&248|$currentLcdStatus$$&7);eightBitStoreIntoGBMemory($Lcd$$.memoryLocationLcdStatus,$value$$)};$Lcd$$.updateLcdControl=function $$Lcd$$$updateLcdControl$($value$$){var $wasLcdEnabled$$=$Lcd$$.enabled;$Lcd$$.enabled=checkBitOnByte(7,$value$$);$Lcd$$.windowTileMapDisplaySelect=checkBitOnByte(6,
$value$$);$Lcd$$.windowDisplayEnabled=checkBitOnByte(5,$value$$);$Lcd$$.bgWindowTileDataSelect=checkBitOnByte(4,$value$$);$Lcd$$.bgTileMapDisplaySelect=checkBitOnByte(3,$value$$);$Lcd$$.tallSpriteSize=checkBitOnByte(2,$value$$);$Lcd$$.spriteDisplayEnable=checkBitOnByte(1,$value$$);$Lcd$$.bgDisplayEnabled=checkBitOnByte(0,$value$$);$wasLcdEnabled$$&&!$Lcd$$.enabled&&resetLcd(!0);!$wasLcdEnabled$$&&$Lcd$$.enabled&&resetLcd(!1)};$Lcd$$.memoryLocationLcdStatus=65345;$Lcd$$.currentLcdMode=0;$Lcd$$.memoryLocationCoincidenceCompare=
65349;$Lcd$$.coincidenceCompare=0;$Lcd$$.memoryLocationLcdControl=65344;$Lcd$$.enabled=!0;$Lcd$$.windowTileMapDisplaySelect=!1;$Lcd$$.windowDisplayEnabled=!1;$Lcd$$.bgWindowTileDataSelect=!1;$Lcd$$.bgTileMapDisplaySelect=!1;$Lcd$$.tallSpriteSize=!1;$Lcd$$.spriteDisplayEnable=!1;$Lcd$$.bgDisplayEnabled=!1;return $Lcd$$}();
function resetLcd($i$$){Graphics.scanlineCycleCounter=0;Graphics.scanlineRegister=0;eightBitStoreIntoGBMemory(Graphics.memoryLocationScanlineRegister,0);var $lcdStatus$$=eightBitLoadFromGBMemory(Lcd.memoryLocationLcdStatus);$lcdStatus$$=resetBitOnByte(1,$lcdStatus$$);$lcdStatus$$=resetBitOnByte(0,$lcdStatus$$);Lcd.currentLcdMode=0;eightBitStoreIntoGBMemory(Lcd.memoryLocationLcdStatus,$lcdStatus$$);if($i$$)for($i$$=0;$i$$<GRAPHICS_OUTPUT_SIZE;$i$$++)store(GRAPHICS_OUTPUT_LOCATION+$i$$,255)}
function setLcdStatus(){if(Lcd.enabled){var $lcdStatus$$=Graphics.scanlineRegister,$lcdMode_shouldRequestInterrupt$$=Lcd.currentLcdMode,$newLcdMode$$=0;144<=$lcdStatus$$?$newLcdMode$$=1:Graphics.scanlineCycleCounter>=Graphics.MIN_CYCLES_SPRITES_LCD_MODE()?$newLcdMode$$=2:Graphics.scanlineCycleCounter>=Graphics.MIN_CYCLES_TRANSFER_DATA_LCD_MODE()&&($newLcdMode$$=3);if($lcdMode_shouldRequestInterrupt$$!==$newLcdMode$$){$lcdStatus$$=eightBitLoadFromGBMemory(Lcd.memoryLocationLcdStatus);Lcd.currentLcdMode=
$newLcdMode$$;$lcdMode_shouldRequestInterrupt$$=!1;switch($newLcdMode$$){case 0:$lcdStatus$$=resetBitOnByte(0,$lcdStatus$$);$lcdStatus$$=resetBitOnByte(1,$lcdStatus$$);$lcdMode_shouldRequestInterrupt$$=checkBitOnByte(3,$lcdStatus$$);break;case 1:$lcdStatus$$=resetBitOnByte(1,$lcdStatus$$);$lcdStatus$$=setBitOnByte(0,$lcdStatus$$);$lcdMode_shouldRequestInterrupt$$=checkBitOnByte(4,$lcdStatus$$);break;case 2:$lcdStatus$$=resetBitOnByte(0,$lcdStatus$$);$lcdStatus$$=setBitOnByte(1,$lcdStatus$$);$lcdMode_shouldRequestInterrupt$$=
checkBitOnByte(5,$lcdStatus$$);break;case 3:$lcdStatus$$=setBitOnByte(0,$lcdStatus$$),$lcdStatus$$=setBitOnByte(1,$lcdStatus$$)}$lcdMode_shouldRequestInterrupt$$&&requestLcdInterrupt();0===$newLcdMode$$&&updateHblankHdma();1===$newLcdMode$$&&requestVBlankInterrupt();$lcdStatus$$=checkCoincidence($newLcdMode$$,$lcdStatus$$);eightBitStoreIntoGBMemory(Lcd.memoryLocationLcdStatus,$lcdStatus$$)}else 153===$lcdStatus$$&&($lcdStatus$$=eightBitLoadFromGBMemory(Lcd.memoryLocationLcdStatus),$lcdStatus$$=checkCoincidence($newLcdMode$$,
$lcdStatus$$),eightBitStoreIntoGBMemory(Lcd.memoryLocationLcdStatus,$lcdStatus$$))}}function checkCoincidence($lcdMode$$,$lcdStatus$$){var $coincidenceCompare$$=Lcd.coincidenceCompare;0!==$lcdMode$$&&1!==$lcdMode$$||Graphics.scanlineRegister!==$coincidenceCompare$$?$lcdStatus$$=resetBitOnByte(2,$lcdStatus$$):($lcdStatus$$=setBitOnByte(2,$lcdStatus$$),checkBitOnByte(6,$lcdStatus$$)&&requestLcdInterrupt());return $lcdStatus$$}
function renderBackground($scanlineRegister$$,$tileDataMemoryLocation$$,$tileMapMemoryLocation$$){var $scrollX$$=Graphics.scrollX,$pixelYPositionInMap$$=$scanlineRegister$$+Graphics.scrollY;256<=$pixelYPositionInMap$$&&($pixelYPositionInMap$$-=256);drawBackgroundWindowScanline($scanlineRegister$$,$tileDataMemoryLocation$$,$tileMapMemoryLocation$$,$pixelYPositionInMap$$,0,$scrollX$$)}
function renderWindow($scanlineRegister$$,$tileDataMemoryLocation$$,$tileMapMemoryLocation$$){var $windowX$$=Graphics.windowX,$pixelYPositionInMap$$=Graphics.windowY;if(!($scanlineRegister$$<$pixelYPositionInMap$$)){$windowX$$-=7;$pixelYPositionInMap$$=$scanlineRegister$$-$pixelYPositionInMap$$;var $xOffset$$=i32Portable(-1*$windowX$$);drawBackgroundWindowScanline($scanlineRegister$$,$tileDataMemoryLocation$$,$tileMapMemoryLocation$$,$pixelYPositionInMap$$,$windowX$$,$xOffset$$)}}
function drawBackgroundWindowScanline($scanlineRegister$$,$tileDataMemoryLocation$$,$tileMapMemoryLocation$$,$pixelYPositionInMap$$,$i$$,$xOffset$$){for(var $tileYPositionInMap$$=$pixelYPositionInMap$$>>3;160>$i$$;$i$$++){var $pixelXPositionInMap$$=$i$$+$xOffset$$;256<=$pixelXPositionInMap$$&&($pixelXPositionInMap$$-=256);var $tileMapAddress$$=$tileMapMemoryLocation$$+32*$tileYPositionInMap$$+($pixelXPositionInMap$$>>3),$tileIdFromTileMap$$=loadFromVramBank($tileMapAddress$$,0),$usedTileCache$$=!1;
if(Config.tileCaching){var $pixelsDrawn$$=drawLineOfTileFromTileCache($i$$,$scanlineRegister$$,$pixelXPositionInMap$$,$pixelYPositionInMap$$,$tileMapAddress$$,$tileDataMemoryLocation$$,$tileIdFromTileMap$$);0<$pixelsDrawn$$&&($i$$+=$pixelsDrawn$$-1,$usedTileCache$$=!0)}Config.tileRendering&&!$usedTileCache$$?($pixelsDrawn$$=drawLineOfTileFromTileId($i$$,$scanlineRegister$$,$pixelXPositionInMap$$,$pixelYPositionInMap$$,$tileMapAddress$$,$tileDataMemoryLocation$$,$tileIdFromTileMap$$),0<$pixelsDrawn$$&&
($i$$+=$pixelsDrawn$$-1)):$usedTileCache$$||(Cpu.GBCEnabled?drawColorPixelFromTileId($i$$,$scanlineRegister$$,$pixelXPositionInMap$$,$pixelYPositionInMap$$,$tileMapAddress$$,$tileDataMemoryLocation$$,$tileIdFromTileMap$$):drawMonochromePixelFromTileId($i$$,$scanlineRegister$$,$pixelXPositionInMap$$,$pixelYPositionInMap$$,$tileDataMemoryLocation$$,$tileIdFromTileMap$$))}}
function drawMonochromePixelFromTileId($xPixel$$,$yPixel$$,$paletteColorId$jscomp$1_pixelXPositionInMap$$,$byteOneForLineOfTilePixels$jscomp$1_hexColor$jscomp$2_pixelYPositionInMap$$,$byteTwoForLineOfTilePixels$jscomp$1_tileDataAddress$jscomp$1_tileDataMemoryLocation$$,$pixelXInTile$jscomp$1_pixelYInTile_tileIdFromTileMap$$){$byteTwoForLineOfTilePixels$jscomp$1_tileDataAddress$jscomp$1_tileDataMemoryLocation$$=getTileDataAddress($byteTwoForLineOfTilePixels$jscomp$1_tileDataAddress$jscomp$1_tileDataMemoryLocation$$,
$pixelXInTile$jscomp$1_pixelYInTile_tileIdFromTileMap$$);$pixelXInTile$jscomp$1_pixelYInTile_tileIdFromTileMap$$=i32Portable($byteOneForLineOfTilePixels$jscomp$1_hexColor$jscomp$2_pixelYPositionInMap$$%8);$byteOneForLineOfTilePixels$jscomp$1_hexColor$jscomp$2_pixelYPositionInMap$$=loadFromVramBank($byteTwoForLineOfTilePixels$jscomp$1_tileDataAddress$jscomp$1_tileDataMemoryLocation$$+2*$pixelXInTile$jscomp$1_pixelYInTile_tileIdFromTileMap$$,0);$byteTwoForLineOfTilePixels$jscomp$1_tileDataAddress$jscomp$1_tileDataMemoryLocation$$=
loadFromVramBank($byteTwoForLineOfTilePixels$jscomp$1_tileDataAddress$jscomp$1_tileDataMemoryLocation$$+2*$pixelXInTile$jscomp$1_pixelYInTile_tileIdFromTileMap$$+1,0);$pixelXInTile$jscomp$1_pixelYInTile_tileIdFromTileMap$$=i32Portable($paletteColorId$jscomp$1_pixelXPositionInMap$$%8);$pixelXInTile$jscomp$1_pixelYInTile_tileIdFromTileMap$$=7-$pixelXInTile$jscomp$1_pixelYInTile_tileIdFromTileMap$$;$paletteColorId$jscomp$1_pixelXPositionInMap$$=0;checkBitOnByte($pixelXInTile$jscomp$1_pixelYInTile_tileIdFromTileMap$$,
$byteTwoForLineOfTilePixels$jscomp$1_tileDataAddress$jscomp$1_tileDataMemoryLocation$$)&&($paletteColorId$jscomp$1_pixelXPositionInMap$$=$paletteColorId$jscomp$1_pixelXPositionInMap$$+1<<1);checkBitOnByte($pixelXInTile$jscomp$1_pixelYInTile_tileIdFromTileMap$$,$byteOneForLineOfTilePixels$jscomp$1_hexColor$jscomp$2_pixelYPositionInMap$$)&&($paletteColorId$jscomp$1_pixelXPositionInMap$$+=1);$byteOneForLineOfTilePixels$jscomp$1_hexColor$jscomp$2_pixelYPositionInMap$$=getColorizedGbHexColorFromPalette($paletteColorId$jscomp$1_pixelXPositionInMap$$,
Graphics.memoryLocationBackgroundPalette);setPixelOnFrame($xPixel$$,$yPixel$$,0,getRedFromHexColor($byteOneForLineOfTilePixels$jscomp$1_hexColor$jscomp$2_pixelYPositionInMap$$));setPixelOnFrame($xPixel$$,$yPixel$$,1,getGreenFromHexColor($byteOneForLineOfTilePixels$jscomp$1_hexColor$jscomp$2_pixelYPositionInMap$$));setPixelOnFrame($xPixel$$,$yPixel$$,2,getBlueFromHexColor($byteOneForLineOfTilePixels$jscomp$1_hexColor$jscomp$2_pixelYPositionInMap$$));addPriorityforPixel($xPixel$$,$yPixel$$,$paletteColorId$jscomp$1_pixelXPositionInMap$$)}
function drawColorPixelFromTileId($xPixel$$,$yPixel$$,$paletteColorId$jscomp$2_pixelXPositionInMap$$,$byteOneForLineOfTilePixels$jscomp$2_pixelYPositionInMap$jscomp$4_red$$,$bgMapAttributes$jscomp$1_tileMapAddress$$,$byteTwoForLineOfTilePixels$jscomp$2_green$jscomp$4_tileDataAddress$jscomp$2_tileDataMemoryLocation$$,$blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$){$byteTwoForLineOfTilePixels$jscomp$2_green$jscomp$4_tileDataAddress$jscomp$2_tileDataMemoryLocation$$=
getTileDataAddress($byteTwoForLineOfTilePixels$jscomp$2_green$jscomp$4_tileDataAddress$jscomp$2_tileDataMemoryLocation$$,$blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$);$bgMapAttributes$jscomp$1_tileMapAddress$$=loadFromVramBank($bgMapAttributes$jscomp$1_tileMapAddress$$,1);$blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$=i32Portable($byteOneForLineOfTilePixels$jscomp$2_pixelYPositionInMap$jscomp$4_red$$%
8);checkBitOnByte(6,$bgMapAttributes$jscomp$1_tileMapAddress$$)&&($blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$=7-$blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$);var $vramBankId$$=0;checkBitOnByte(3,$bgMapAttributes$jscomp$1_tileMapAddress$$)&&($vramBankId$$=1);$byteOneForLineOfTilePixels$jscomp$2_pixelYPositionInMap$jscomp$4_red$$=loadFromVramBank($byteTwoForLineOfTilePixels$jscomp$2_green$jscomp$4_tileDataAddress$jscomp$2_tileDataMemoryLocation$$+
2*$blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$,$vramBankId$$);$byteTwoForLineOfTilePixels$jscomp$2_green$jscomp$4_tileDataAddress$jscomp$2_tileDataMemoryLocation$$=loadFromVramBank($byteTwoForLineOfTilePixels$jscomp$2_green$jscomp$4_tileDataAddress$jscomp$2_tileDataMemoryLocation$$+2*$blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$+1,$vramBankId$$);$blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$=
i32Portable($paletteColorId$jscomp$2_pixelXPositionInMap$$%8);checkBitOnByte(5,$bgMapAttributes$jscomp$1_tileMapAddress$$)||($blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$=7-$blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$);$paletteColorId$jscomp$2_pixelXPositionInMap$$=0;checkBitOnByte($blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$,
$byteTwoForLineOfTilePixels$jscomp$2_green$jscomp$4_tileDataAddress$jscomp$2_tileDataMemoryLocation$$)&&($paletteColorId$jscomp$2_pixelXPositionInMap$$=$paletteColorId$jscomp$2_pixelXPositionInMap$$+1<<1);checkBitOnByte($blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$,$byteOneForLineOfTilePixels$jscomp$2_pixelYPositionInMap$jscomp$4_red$$)&&($paletteColorId$jscomp$2_pixelXPositionInMap$$+=1);$blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$=
getRgbColorFromPalette($bgMapAttributes$jscomp$1_tileMapAddress$$&7,$paletteColorId$jscomp$2_pixelXPositionInMap$$,!1);$byteOneForLineOfTilePixels$jscomp$2_pixelYPositionInMap$jscomp$4_red$$=getColorComponentFromRgb(0,$blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$);$byteTwoForLineOfTilePixels$jscomp$2_green$jscomp$4_tileDataAddress$jscomp$2_tileDataMemoryLocation$$=getColorComponentFromRgb(1,$blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$);
$blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$=getColorComponentFromRgb(2,$blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$);setPixelOnFrame($xPixel$$,$yPixel$$,0,$byteOneForLineOfTilePixels$jscomp$2_pixelYPositionInMap$jscomp$4_red$$);setPixelOnFrame($xPixel$$,$yPixel$$,1,$byteTwoForLineOfTilePixels$jscomp$2_green$jscomp$4_tileDataAddress$jscomp$2_tileDataMemoryLocation$$);setPixelOnFrame($xPixel$$,
$yPixel$$,2,$blue$jscomp$4_pixelXInTile$jscomp$2_pixelYInTile$jscomp$1_rgbColorPalette$jscomp$1_tileIdFromTileMap$$);addPriorityforPixel($xPixel$$,$yPixel$$,$paletteColorId$jscomp$2_pixelXPositionInMap$$,checkBitOnByte(7,$bgMapAttributes$jscomp$1_tileMapAddress$$))}
function drawLineOfTileFromTileCache($xPixel$$,$xOffsetTileWidthRemainder_yPixel$$,$pixelXPositionInMap$$,$pixelYPositionInMap$jscomp$5_pixelsDrawn$$,$tileCacheIndex_tileMapAddress$$,$isCurrentTileHorizontallyFlipped_tileDataMemoryLocation$$,$tileIdFromTileMap$$){$pixelYPositionInMap$jscomp$5_pixelsDrawn$$=0;if(0<$xOffsetTileWidthRemainder_yPixel$$&&8<$xPixel$$&&$tileIdFromTileMap$$===TileCache.tileId&&$xPixel$$===TileCache.nextXIndexToPerformCacheCheck)for($isCurrentTileHorizontallyFlipped_tileDataMemoryLocation$$=
$tileIdFromTileMap$$=!1,checkBitOnByte(5,eightBitLoadFromGBMemory($tileCacheIndex_tileMapAddress$$-1))&&($tileIdFromTileMap$$=!0),checkBitOnByte(5,eightBitLoadFromGBMemory($tileCacheIndex_tileMapAddress$$))&&($isCurrentTileHorizontallyFlipped_tileDataMemoryLocation$$=!0),$tileCacheIndex_tileMapAddress$$=0;8>$tileCacheIndex_tileMapAddress$$;$tileCacheIndex_tileMapAddress$$++){if($tileIdFromTileMap$$!==$isCurrentTileHorizontallyFlipped_tileDataMemoryLocation$$&&($tileCacheIndex_tileMapAddress$$=7-$tileCacheIndex_tileMapAddress$$),
160>=$xPixel$$+$tileCacheIndex_tileMapAddress$$){for(var $pixelPriority_previousXPixel$$=$xPixel$$-(8-$tileCacheIndex_tileMapAddress$$),$previousTilePixelLocation$$=FRAME_LOCATION+getRgbPixelStart($xPixel$$+$tileCacheIndex_tileMapAddress$$,$xOffsetTileWidthRemainder_yPixel$$),$tileCacheRgb$$=0;3>$tileCacheRgb$$;$tileCacheRgb$$++)setPixelOnFrame($xPixel$$+$tileCacheIndex_tileMapAddress$$,$xOffsetTileWidthRemainder_yPixel$$,$tileCacheRgb$$,load($previousTilePixelLocation$$+$tileCacheRgb$$));$pixelPriority_previousXPixel$$=
getPriorityforPixel($pixelPriority_previousXPixel$$,$xOffsetTileWidthRemainder_yPixel$$);addPriorityforPixel($xPixel$$+$tileCacheIndex_tileMapAddress$$,$xOffsetTileWidthRemainder_yPixel$$,resetBitOnByte(2,$pixelPriority_previousXPixel$$),checkBitOnByte(2,$pixelPriority_previousXPixel$$));$pixelYPositionInMap$jscomp$5_pixelsDrawn$$++}}else TileCache.tileId=$tileIdFromTileMap$$;$xPixel$$>=TileCache.nextXIndexToPerformCacheCheck&&(TileCache.nextXIndexToPerformCacheCheck=$xPixel$$+8,$xOffsetTileWidthRemainder_yPixel$$=
i32Portable($pixelXPositionInMap$$%8),$xPixel$$<$xOffsetTileWidthRemainder_yPixel$$&&(TileCache.nextXIndexToPerformCacheCheck+=$xOffsetTileWidthRemainder_yPixel$$));return $pixelYPositionInMap$jscomp$5_pixelsDrawn$$}
function drawLineOfTileFromTileId($xPixel$$,$yPixel$$,$pixelXPositionInMap$$,$pixelYPositionInMap$jscomp$6_tileLineY$$,$tileMapAddress$$,$tileDataMemoryLocation$$,$tileIdFromTileMap$$){$pixelYPositionInMap$jscomp$6_tileLineY$$=i32Portable($pixelYPositionInMap$jscomp$6_tileLineY$$%8);var $tileXStart$$=0;0==$xPixel$$&&($tileXStart$$=$pixelXPositionInMap$$-$pixelXPositionInMap$$/8*8);$pixelXPositionInMap$$=7;160<$xPixel$$+8&&($pixelXPositionInMap$$=160-$xPixel$$);var $bgMapAttributes$$=-1,$vramBankId$$=
0;Cpu.GBCEnabled&&($bgMapAttributes$$=loadFromVramBank($tileMapAddress$$,1),checkBitOnByte(3,$bgMapAttributes$$)&&($vramBankId$$=1),checkBitOnByte(6,$bgMapAttributes$$)&&($pixelYPositionInMap$jscomp$6_tileLineY$$=7-$pixelYPositionInMap$jscomp$6_tileLineY$$));return drawPixelsFromLineOfTile($tileIdFromTileMap$$,$tileDataMemoryLocation$$,$vramBankId$$,$tileXStart$$,$pixelXPositionInMap$$,$pixelYPositionInMap$jscomp$6_tileLineY$$,$xPixel$$,$yPixel$$,160,FRAME_LOCATION,!1,0,$bgMapAttributes$$,-1)}
function renderSprites($scanlineRegister$$,$useLargerSprites$$){for(var $i$$=39;0<=$i$$;$i$$--){var $spriteAttributes$$=4*$i$$,$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$=eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable+$spriteAttributes$$),$spriteXPosition$$=eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable+$spriteAttributes$$+1),$spriteDataByteOneForLineOfTilePixels_spriteTileAddressStart_spriteTileId$$=eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable+
$spriteAttributes$$+2);$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$-=16;$spriteXPosition$$-=8;var $spriteDataByteTwoForLineOfTilePixels_spriteHeight_spriteTileAddress$$=8;$useLargerSprites$$&&($spriteDataByteTwoForLineOfTilePixels_spriteHeight_spriteTileAddress$$=16,1===$spriteDataByteOneForLineOfTilePixels_spriteTileAddressStart_spriteTileId$$%2&&--$spriteDataByteOneForLineOfTilePixels_spriteTileAddressStart_spriteTileId$$);if($scanlineRegister$$>=$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$&&
$scanlineRegister$$<$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$+$spriteDataByteTwoForLineOfTilePixels_spriteHeight_spriteTileAddress$$){$spriteAttributes$$=eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable+$spriteAttributes$$+3);var $isSpritePriorityBehindWindowAndBackground$$=checkBitOnByte(7,$spriteAttributes$$),$flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$=checkBitOnByte(6,$spriteAttributes$$),$flipSpriteX$$=checkBitOnByte(5,$spriteAttributes$$);
$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$=$scanlineRegister$$-$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$;$flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$&&($currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$-=$spriteDataByteTwoForLineOfTilePixels_spriteHeight_spriteTileAddress$$,$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$*=-1,--$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$);$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$*=
2;$spriteDataByteOneForLineOfTilePixels_spriteTileAddressStart_spriteTileId$$=getTileDataAddress(Graphics.memoryLocationTileDataSelectOneStart,$spriteDataByteOneForLineOfTilePixels_spriteTileAddressStart_spriteTileId$$);$spriteDataByteTwoForLineOfTilePixels_spriteHeight_spriteTileAddress$$=$spriteDataByteOneForLineOfTilePixels_spriteTileAddressStart_spriteTileId$$+=$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$;$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$=0;Cpu.GBCEnabled&&
checkBitOnByte(3,$spriteAttributes$$)&&($currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$=1);$spriteDataByteOneForLineOfTilePixels_spriteTileAddressStart_spriteTileId$$=loadFromVramBank($spriteDataByteTwoForLineOfTilePixels_spriteHeight_spriteTileAddress$$,$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$);$spriteDataByteTwoForLineOfTilePixels_spriteHeight_spriteTileAddress$$=loadFromVramBank($spriteDataByteTwoForLineOfTilePixels_spriteHeight_spriteTileAddress$$+1,$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$);
for($currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$=7;0<=$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$;$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$--){$flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$=$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$;$flipSpriteX$$&&($flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$-=7,$flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$*=-1);var $hexColor$jscomp$3_red$$=0;
checkBitOnByte($flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$,$spriteDataByteTwoForLineOfTilePixels_spriteHeight_spriteTileAddress$$)&&($hexColor$jscomp$3_red$$+=1,$hexColor$jscomp$3_red$$<<=1);checkBitOnByte($flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$,$spriteDataByteOneForLineOfTilePixels_spriteTileAddressStart_spriteTileId$$)&&($hexColor$jscomp$3_red$$+=1);if(0!==$hexColor$jscomp$3_red$$&&($flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$=
$spriteXPosition$$+(7-$currentSpriteLine_spriteYPosition_tilePixel_vramBankId$$),0<=$flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$&&160>=$flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$)){var $green$$=!1,$blue$jscomp$5_rgbColorPalette$$=!1,$shouldHideFromBgPriority$$=!1;Cpu.GBCEnabled&&!Lcd.bgDisplayEnabled&&($green$$=!0);if(!$green$$){var $bgPriorityByte$$=getPriorityforPixel($flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$,$scanlineRegister$$),
$bgColorFromPriorityByte$$=$bgPriorityByte$$&3;$isSpritePriorityBehindWindowAndBackground$$&&0<$bgColorFromPriorityByte$$?$blue$jscomp$5_rgbColorPalette$$=!0:Cpu.GBCEnabled&&checkBitOnByte(2,$bgPriorityByte$$)&&0<$bgColorFromPriorityByte$$&&($shouldHideFromBgPriority$$=!0)}if($green$$||!$blue$jscomp$5_rgbColorPalette$$&&!$shouldHideFromBgPriority$$)Cpu.GBCEnabled?($blue$jscomp$5_rgbColorPalette$$=getRgbColorFromPalette($spriteAttributes$$&7,$hexColor$jscomp$3_red$$,!0),$hexColor$jscomp$3_red$$=getColorComponentFromRgb(0,
$blue$jscomp$5_rgbColorPalette$$),$green$$=getColorComponentFromRgb(1,$blue$jscomp$5_rgbColorPalette$$),$blue$jscomp$5_rgbColorPalette$$=getColorComponentFromRgb(2,$blue$jscomp$5_rgbColorPalette$$),setPixelOnFrame($flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$,$scanlineRegister$$,0,$hexColor$jscomp$3_red$$),setPixelOnFrame($flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$,$scanlineRegister$$,1,$green$$),setPixelOnFrame($flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$,
$scanlineRegister$$,2,$blue$jscomp$5_rgbColorPalette$$)):($green$$=Graphics.memoryLocationSpritePaletteOne,checkBitOnByte(4,$spriteAttributes$$)&&($green$$=Graphics.memoryLocationSpritePaletteTwo),$hexColor$jscomp$3_red$$=getColorizedGbHexColorFromPalette($hexColor$jscomp$3_red$$,$green$$),setPixelOnFrame($flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$,$scanlineRegister$$,0,getRedFromHexColor($hexColor$jscomp$3_red$$)),setPixelOnFrame($flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$,
$scanlineRegister$$,1,getGreenFromHexColor($hexColor$jscomp$3_red$$)),setPixelOnFrame($flipSpriteY_spritePixelXInTile_spriteXPixelLocationInCameraView$$,$scanlineRegister$$,2,getBlueFromHexColor($hexColor$jscomp$3_red$$)))}}}}}
var Graphics=function(){function $Graphics$$(){}$Graphics$$.batchProcessCycles=function $$Graphics$$$batchProcessCycles$(){return $Graphics$$.MAX_CYCLES_PER_SCANLINE()};$Graphics$$.MAX_CYCLES_PER_SCANLINE=function $$Graphics$$$MAX_CYCLES_PER_SCANLINE$(){return Cpu.GBCDoubleSpeed?153===$Graphics$$.scanlineRegister?8:912:153===$Graphics$$.scanlineRegister?4:456};$Graphics$$.MIN_CYCLES_SPRITES_LCD_MODE=function $$Graphics$$$MIN_CYCLES_SPRITES_LCD_MODE$(){return Cpu.GBCDoubleSpeed?752:376};$Graphics$$.MIN_CYCLES_TRANSFER_DATA_LCD_MODE=
function $$Graphics$$$MIN_CYCLES_TRANSFER_DATA_LCD_MODE$(){return Cpu.GBCDoubleSpeed?498:249};$Graphics$$.saveState=function $$Graphics$$$saveState$(){store(getSaveStateMemoryOffset(0,$Graphics$$.saveStateSlot),$Graphics$$.scanlineCycleCounter);store(getSaveStateMemoryOffset(4,$Graphics$$.saveStateSlot),Lcd.currentLcdMode);eightBitStoreIntoGBMemory($Graphics$$.memoryLocationScanlineRegister,$Graphics$$.scanlineRegister)};$Graphics$$.loadState=function $$Graphics$$$loadState$(){$Graphics$$.scanlineCycleCounter=
load(getSaveStateMemoryOffset(0,$Graphics$$.saveStateSlot));Lcd.currentLcdMode=load(getSaveStateMemoryOffset(4,$Graphics$$.saveStateSlot));$Graphics$$.scanlineRegister=eightBitLoadFromGBMemory($Graphics$$.memoryLocationScanlineRegister);Lcd.updateLcdControl(eightBitLoadFromGBMemory(Lcd.memoryLocationLcdControl))};$Graphics$$.currentCycles=0;$Graphics$$.scanlineCycleCounter=0;$Graphics$$.memoryLocationScanlineRegister=65348;$Graphics$$.scanlineRegister=0;$Graphics$$.memoryLocationDmaTransfer=65350;
$Graphics$$.memoryLocationScrollX=65347;$Graphics$$.scrollX=0;$Graphics$$.memoryLocationScrollY=65346;$Graphics$$.scrollY=0;$Graphics$$.memoryLocationWindowX=65355;$Graphics$$.windowX=0;$Graphics$$.memoryLocationWindowY=65354;$Graphics$$.windowY=0;$Graphics$$.memoryLocationTileMapSelectZeroStart=38912;$Graphics$$.memoryLocationTileMapSelectOneStart=39936;$Graphics$$.memoryLocationTileDataSelectZeroStart=34816;$Graphics$$.memoryLocationTileDataSelectOneStart=32768;$Graphics$$.memoryLocationSpriteAttributesTable=
65024;$Graphics$$.memoryLocationBackgroundPalette=65351;$Graphics$$.memoryLocationSpritePaletteOne=65352;$Graphics$$.memoryLocationSpritePaletteTwo=65353;$Graphics$$.saveStateSlot=1;return $Graphics$$}();function batchProcessGraphics(){if(!(Graphics.currentCycles<Graphics.batchProcessCycles()))for(;Graphics.currentCycles>=Graphics.batchProcessCycles();)updateGraphics(Graphics.batchProcessCycles()),Graphics.currentCycles-=Graphics.batchProcessCycles()}
function initializeGraphics(){Graphics.currentCycles=0;Graphics.scanlineCycleCounter=0;Graphics.scanlineRegister=0;Graphics.scrollX=0;Graphics.scrollY=0;Graphics.windowX=0;Graphics.windowY=0;Cpu.GBCEnabled?(Graphics.scanlineRegister=144,eightBitStoreIntoGBMemory(65344,145),eightBitStoreIntoGBMemory(65345,129),eightBitStoreIntoGBMemory(65348,144),eightBitStoreIntoGBMemory(65351,252)):(Graphics.scanlineRegister=144,eightBitStoreIntoGBMemory(65344,145),eightBitStoreIntoGBMemory(65345,133),eightBitStoreIntoGBMemory(65350,
255),eightBitStoreIntoGBMemory(65351,252),eightBitStoreIntoGBMemory(65352,255),eightBitStoreIntoGBMemory(65353,255));eightBitStoreIntoGBMemory(65359,0);eightBitStoreIntoGBMemory(65392,1);initializeColors()}
function updateGraphics($numberOfCycles$jscomp$14_scanlineRegister$$){if(Lcd.enabled)for(Graphics.scanlineCycleCounter+=$numberOfCycles$jscomp$14_scanlineRegister$$;Graphics.scanlineCycleCounter>=Graphics.MAX_CYCLES_PER_SCANLINE();)Graphics.scanlineCycleCounter-=Graphics.MAX_CYCLES_PER_SCANLINE(),$numberOfCycles$jscomp$14_scanlineRegister$$=Graphics.scanlineRegister,144===$numberOfCycles$jscomp$14_scanlineRegister$$?(Config.graphicsDisableScanlineRendering?_renderEntireFrame():_drawScanline($numberOfCycles$jscomp$14_scanlineRegister$$),
clearPriorityMap(),resetTileCache()):144>$numberOfCycles$jscomp$14_scanlineRegister$$&&(Config.graphicsDisableScanlineRendering||_drawScanline($numberOfCycles$jscomp$14_scanlineRegister$$)),$numberOfCycles$jscomp$14_scanlineRegister$$=153<$numberOfCycles$jscomp$14_scanlineRegister$$?0:$numberOfCycles$jscomp$14_scanlineRegister$$+1,Graphics.scanlineRegister=$numberOfCycles$jscomp$14_scanlineRegister$$;setLcdStatus()}
function _drawScanline($scanlineRegister$$){var $tileDataMemoryLocation$$=Graphics.memoryLocationTileDataSelectZeroStart;Lcd.bgWindowTileDataSelect&&($tileDataMemoryLocation$$=Graphics.memoryLocationTileDataSelectOneStart);if(Cpu.GBCEnabled||Lcd.bgDisplayEnabled){var $tileMapMemoryLocation$$=Graphics.memoryLocationTileMapSelectZeroStart;Lcd.bgTileMapDisplaySelect&&($tileMapMemoryLocation$$=Graphics.memoryLocationTileMapSelectOneStart);renderBackground($scanlineRegister$$,$tileDataMemoryLocation$$,
$tileMapMemoryLocation$$)}Lcd.windowDisplayEnabled&&($tileMapMemoryLocation$$=Graphics.memoryLocationTileMapSelectZeroStart,Lcd.windowTileMapDisplaySelect&&($tileMapMemoryLocation$$=Graphics.memoryLocationTileMapSelectOneStart),renderWindow($scanlineRegister$$,$tileDataMemoryLocation$$,$tileMapMemoryLocation$$));Lcd.spriteDisplayEnable&&renderSprites($scanlineRegister$$,Lcd.tallSpriteSize)}function _renderEntireFrame(){for(var $i$$=0;144>=$i$$;$i$$++)_drawScanline($i$$)}
function getRgbPixelStart($x$$,$y$$){return 3*(160*$y$$+$x$$)}function setPixelOnFrame($x$$,$y$$,$colorId$$,$color$$){store(FRAME_LOCATION+getRgbPixelStart($x$$,$y$$)+$colorId$$,$color$$)}function loadFromVramBank($gameboyOffset$$,$vramBankId$$){return load($gameboyOffset$$-Memory.videoRamLocation+GAMEBOY_INTERNAL_MEMORY_LOCATION+8192*($vramBankId$$&1))}
function checkReadTraps($offset$jscomp$31_response$$){var $currentSpeedSwitchRegister_upperDividerRegisterBits_videoRamLocation$$=Memory.videoRamLocation;return $offset$jscomp$31_response$$<$currentSpeedSwitchRegister_upperDividerRegisterBits_videoRamLocation$$||$offset$jscomp$31_response$$>=$currentSpeedSwitchRegister_upperDividerRegisterBits_videoRamLocation$$&&$offset$jscomp$31_response$$<Memory.cartridgeRamLocation?-1:$offset$jscomp$31_response$$>=Memory.echoRamLocation&&$offset$jscomp$31_response$$<
Memory.spriteInformationTableLocation?eightBitLoadFromGBMemory($offset$jscomp$31_response$$-8192):$offset$jscomp$31_response$$>=Memory.spriteInformationTableLocation&&$offset$jscomp$31_response$$<=Memory.spriteInformationTableLocationEnd?2>Lcd.currentLcdMode?255:-1:$offset$jscomp$31_response$$===Cpu.memoryLocationSpeedSwitch?($offset$jscomp$31_response$$=255,$currentSpeedSwitchRegister_upperDividerRegisterBits_videoRamLocation$$=eightBitLoadFromGBMemory(Cpu.memoryLocationSpeedSwitch),checkBitOnByte(0,
$currentSpeedSwitchRegister_upperDividerRegisterBits_videoRamLocation$$)||($offset$jscomp$31_response$$=resetBitOnByte(0,$offset$jscomp$31_response$$)),Cpu.GBCDoubleSpeed||($offset$jscomp$31_response$$=resetBitOnByte(7,$offset$jscomp$31_response$$)),$offset$jscomp$31_response$$):$offset$jscomp$31_response$$===Graphics.memoryLocationScanlineRegister?(eightBitStoreIntoGBMemory($offset$jscomp$31_response$$,Graphics.scanlineRegister),Graphics.scanlineRegister):65296<=$offset$jscomp$31_response$$&&65318>=
$offset$jscomp$31_response$$?(batchProcessAudio(),SoundRegisterReadTraps($offset$jscomp$31_response$$)):65328<=$offset$jscomp$31_response$$&&65343>=$offset$jscomp$31_response$$?(batchProcessAudio(),-1):$offset$jscomp$31_response$$===Timers.memoryLocationDividerRegister?($currentSpeedSwitchRegister_upperDividerRegisterBits_videoRamLocation$$=splitHighByte(Timers.dividerRegister),eightBitStoreIntoGBMemory($offset$jscomp$31_response$$,$currentSpeedSwitchRegister_upperDividerRegisterBits_videoRamLocation$$),
$currentSpeedSwitchRegister_upperDividerRegisterBits_videoRamLocation$$):$offset$jscomp$31_response$$===Timers.memoryLocationTimerCounter?(eightBitStoreIntoGBMemory($offset$jscomp$31_response$$,Timers.timerCounter),Timers.timerCounter):$offset$jscomp$31_response$$===Interrupts.memoryLocationInterruptRequest?224|Interrupts.interruptsRequestedValue:$offset$jscomp$31_response$$===Joypad.memoryLocationJoypadRegister?getJoypadState():-1}
function eightBitLoadFromGBMemory($gameboyOffset$$){return load(getWasmBoyOffsetFromGameBoyOffset($gameboyOffset$$))}function eightBitLoadFromGBMemoryWithTraps($offset$$){$offset$$===Breakpoints.readGbMemory&&(Breakpoints.reachedBreakpoint=!0);var $readTrapResult$$=checkReadTraps($offset$$);switch($readTrapResult$$){case -1:return eightBitLoadFromGBMemory($offset$$);default:return $readTrapResult$$}}
function sixteenBitLoadFromGBMemory($highByte$jscomp$4_nextOffset$jscomp$2_offset$$){var $lowByte$$=checkReadTraps($highByte$jscomp$4_nextOffset$jscomp$2_offset$$);switch($lowByte$$){case -1:$lowByte$$=eightBitLoadFromGBMemory($highByte$jscomp$4_nextOffset$jscomp$2_offset$$)}$highByte$jscomp$4_nextOffset$jscomp$2_offset$$+=1;var $highByteReadTrapResult$$=checkReadTraps($highByte$jscomp$4_nextOffset$jscomp$2_offset$$);switch($highByteReadTrapResult$$){case -1:$highByte$jscomp$4_nextOffset$jscomp$2_offset$$=
eightBitLoadFromGBMemory($highByte$jscomp$4_nextOffset$jscomp$2_offset$$);break;default:$highByte$jscomp$4_nextOffset$jscomp$2_offset$$=$highByteReadTrapResult$$}return concatenateBytes($highByte$jscomp$4_nextOffset$jscomp$2_offset$$,$lowByte$$)}function loadBooleanDirectlyFromWasmMemory($offset$$){return 0<load($offset$$)?!0:!1}
var Memory=function(){function $Memory$$(){}$Memory$$.saveState=function $$Memory$$$saveState$(){store(getSaveStateMemoryOffset(0,$Memory$$.saveStateSlot),$Memory$$.currentRomBank);store(getSaveStateMemoryOffset(2,$Memory$$.saveStateSlot),$Memory$$.currentRamBank);storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(4,$Memory$$.saveStateSlot),$Memory$$.isRamBankingEnabled);storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(5,$Memory$$.saveStateSlot),$Memory$$.isMBC1RomModeEnabled);storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(6,
$Memory$$.saveStateSlot),$Memory$$.isRomOnly);storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(7,$Memory$$.saveStateSlot),$Memory$$.isMBC1);storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(8,$Memory$$.saveStateSlot),$Memory$$.isMBC2);storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(9,$Memory$$.saveStateSlot),$Memory$$.isMBC3);storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(10,$Memory$$.saveStateSlot),$Memory$$.isMBC5)};$Memory$$.loadState=function $$Memory$$$loadState$(){$Memory$$.currentRomBank=
load(getSaveStateMemoryOffset(0,$Memory$$.saveStateSlot));$Memory$$.currentRamBank=load(getSaveStateMemoryOffset(2,$Memory$$.saveStateSlot));$Memory$$.isRamBankingEnabled=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(4,$Memory$$.saveStateSlot));$Memory$$.isMBC1RomModeEnabled=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(5,$Memory$$.saveStateSlot));$Memory$$.isRomOnly=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(6,$Memory$$.saveStateSlot));$Memory$$.isMBC1=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(7,
$Memory$$.saveStateSlot));$Memory$$.isMBC2=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(8,$Memory$$.saveStateSlot));$Memory$$.isMBC3=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(9,$Memory$$.saveStateSlot));$Memory$$.isMBC5=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(10,$Memory$$.saveStateSlot))};$Memory$$.cartridgeRomLocation=0;$Memory$$.switchableCartridgeRomLocation=16384;$Memory$$.videoRamLocation=32768;$Memory$$.cartridgeRamLocation=40960;$Memory$$.internalRamBankZeroLocation=
49152;$Memory$$.internalRamBankOneLocation=53248;$Memory$$.echoRamLocation=57344;$Memory$$.spriteInformationTableLocation=65024;$Memory$$.spriteInformationTableLocationEnd=65183;$Memory$$.unusableMemoryLocation=65184;$Memory$$.unusableMemoryEndLocation=65279;$Memory$$.currentRomBank=0;$Memory$$.currentRamBank=0;$Memory$$.isRamBankingEnabled=!1;$Memory$$.isMBC1RomModeEnabled=!0;$Memory$$.isRomOnly=!0;$Memory$$.isMBC1=!1;$Memory$$.isMBC2=!1;$Memory$$.isMBC3=!1;$Memory$$.isMBC5=!1;$Memory$$.memoryLocationHdmaSourceHigh=
65361;$Memory$$.memoryLocationHdmaSourceLow=65362;$Memory$$.memoryLocationHdmaDestinationHigh=65363;$Memory$$.memoryLocationHdmaDestinationLow=65364;$Memory$$.memoryLocationHdmaTrigger=65365;$Memory$$.DMACycles=0;$Memory$$.isHblankHdmaActive=!1;$Memory$$.hblankHdmaTransferLengthRemaining=0;$Memory$$.hblankHdmaSource=0;$Memory$$.hblankHdmaDestination=0;$Memory$$.memoryLocationGBCVRAMBank=65359;$Memory$$.memoryLocationGBCWRAMBank=65392;$Memory$$.saveStateSlot=4;return $Memory$$}();
function initializeCartridge(){Memory.isRamBankingEnabled=!1;Memory.isMBC1RomModeEnabled=!0;var $cartridgeType$$=eightBitLoadFromGBMemory(327);Memory.isRomOnly=!1;Memory.isMBC1=!1;Memory.isMBC2=!1;Memory.isMBC3=!1;Memory.isMBC5=!1;0===$cartridgeType$$?Memory.isRomOnly=!0:1<=$cartridgeType$$&&3>=$cartridgeType$$?Memory.isMBC1=!0:5<=$cartridgeType$$&&6>=$cartridgeType$$?Memory.isMBC2=!0:15<=$cartridgeType$$&&19>=$cartridgeType$$?Memory.isMBC3=!0:25<=$cartridgeType$$&&30>=$cartridgeType$$&&(Memory.isMBC5=
!0);Memory.currentRomBank=1;Memory.currentRamBank=0}
var Cpu=function(){function $Cpu$$(){}$Cpu$$.CLOCK_SPEED=function $$Cpu$$$CLOCK_SPEED$(){return $Cpu$$.GBCDoubleSpeed?8388608:4194304};$Cpu$$.MAX_CYCLES_PER_FRAME=function $$Cpu$$$MAX_CYCLES_PER_FRAME$(){return $Cpu$$.GBCDoubleSpeed?140448:70224};$Cpu$$.enableHalt=function $$Cpu$$$enableHalt$(){Interrupts.masterInterruptSwitch?$Cpu$$.isHaltNormal=!0:0===(Interrupts.interruptsEnabledValue&Interrupts.interruptsRequestedValue&31)?$Cpu$$.isHaltNoJump=!0:$Cpu$$.isHaltBug=!0};$Cpu$$.exitHaltAndStop=function $$Cpu$$$exitHaltAndStop$(){$Cpu$$.isHaltNoJump=
!1;$Cpu$$.isHaltNormal=!1;$Cpu$$.isHaltBug=!1;$Cpu$$.isStopped=!1};$Cpu$$.isHalted=function $$Cpu$$$isHalted$(){return $Cpu$$.isHaltNormal||$Cpu$$.isHaltNoJump?!0:!1};$Cpu$$.saveState=function $$Cpu$$$saveState$(){store(getSaveStateMemoryOffset(0,$Cpu$$.saveStateSlot),$Cpu$$.registerA);store(getSaveStateMemoryOffset(1,$Cpu$$.saveStateSlot),$Cpu$$.registerB);store(getSaveStateMemoryOffset(2,$Cpu$$.saveStateSlot),$Cpu$$.registerC);store(getSaveStateMemoryOffset(3,$Cpu$$.saveStateSlot),$Cpu$$.registerD);
store(getSaveStateMemoryOffset(4,$Cpu$$.saveStateSlot),$Cpu$$.registerE);store(getSaveStateMemoryOffset(5,$Cpu$$.saveStateSlot),$Cpu$$.registerH);store(getSaveStateMemoryOffset(6,$Cpu$$.saveStateSlot),$Cpu$$.registerL);store(getSaveStateMemoryOffset(7,$Cpu$$.saveStateSlot),$Cpu$$.registerF);store(getSaveStateMemoryOffset(8,$Cpu$$.saveStateSlot),$Cpu$$.stackPointer);store(getSaveStateMemoryOffset(10,$Cpu$$.saveStateSlot),$Cpu$$.programCounter);store(getSaveStateMemoryOffset(12,$Cpu$$.saveStateSlot),
$Cpu$$.currentCycles);storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(17,$Cpu$$.saveStateSlot),$Cpu$$.isHaltNormal);storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(18,$Cpu$$.saveStateSlot),$Cpu$$.isHaltNoJump);storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(19,$Cpu$$.saveStateSlot),$Cpu$$.isHaltBug);storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(20,$Cpu$$.saveStateSlot),$Cpu$$.isStopped)};$Cpu$$.loadState=function $$Cpu$$$loadState$(){$Cpu$$.registerA=load(getSaveStateMemoryOffset(0,
$Cpu$$.saveStateSlot));$Cpu$$.registerB=load(getSaveStateMemoryOffset(1,$Cpu$$.saveStateSlot));$Cpu$$.registerC=load(getSaveStateMemoryOffset(2,$Cpu$$.saveStateSlot));$Cpu$$.registerD=load(getSaveStateMemoryOffset(3,$Cpu$$.saveStateSlot));$Cpu$$.registerE=load(getSaveStateMemoryOffset(4,$Cpu$$.saveStateSlot));$Cpu$$.registerH=load(getSaveStateMemoryOffset(5,$Cpu$$.saveStateSlot));$Cpu$$.registerL=load(getSaveStateMemoryOffset(6,$Cpu$$.saveStateSlot));$Cpu$$.registerF=load(getSaveStateMemoryOffset(7,
$Cpu$$.saveStateSlot));$Cpu$$.stackPointer=load(getSaveStateMemoryOffset(8,$Cpu$$.saveStateSlot));$Cpu$$.programCounter=load(getSaveStateMemoryOffset(10,$Cpu$$.saveStateSlot));$Cpu$$.currentCycles=load(getSaveStateMemoryOffset(12,$Cpu$$.saveStateSlot));$Cpu$$.isHaltNormal=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(17,$Cpu$$.saveStateSlot));$Cpu$$.isHaltNoJump=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(18,$Cpu$$.saveStateSlot));$Cpu$$.isHaltBug=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(19,
$Cpu$$.saveStateSlot));$Cpu$$.isStopped=loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(20,$Cpu$$.saveStateSlot))};$Cpu$$.GBCEnabled=!1;$Cpu$$.memoryLocationSpeedSwitch=65357;$Cpu$$.GBCDoubleSpeed=!1;$Cpu$$.registerA=0;$Cpu$$.registerB=0;$Cpu$$.registerC=0;$Cpu$$.registerD=0;$Cpu$$.registerE=0;$Cpu$$.registerH=0;$Cpu$$.registerL=0;$Cpu$$.registerF=0;$Cpu$$.stackPointer=0;$Cpu$$.programCounter=0;$Cpu$$.currentCycles=0;$Cpu$$.isHaltNormal=!1;$Cpu$$.isHaltNoJump=!1;$Cpu$$.isHaltBug=!1;$Cpu$$.isStopped=
!1;$Cpu$$.saveStateSlot=0;return $Cpu$$}();
function initializeCpu(){Cpu.GBCDoubleSpeed=!1;Cpu.registerA=0;Cpu.registerB=0;Cpu.registerC=0;Cpu.registerD=0;Cpu.registerE=0;Cpu.registerH=0;Cpu.registerL=0;Cpu.registerF=0;Cpu.stackPointer=0;Cpu.programCounter=0;Cpu.currentCycles=0;Cpu.isHaltNormal=!1;Cpu.isHaltNoJump=!1;Cpu.isHaltBug=!1;Cpu.isStopped=!1;Cpu.GBCEnabled?(Cpu.registerA=17,Cpu.registerF=128,Cpu.registerB=0,Cpu.registerC=0,Cpu.registerD=255,Cpu.registerE=86,Cpu.registerH=0,Cpu.registerL=13):(Cpu.registerA=1,Cpu.registerF=176,Cpu.registerB=
0,Cpu.registerC=19,Cpu.registerD=0,Cpu.registerE=216,Cpu.registerH=1,Cpu.registerL=77);Cpu.programCounter=256;Cpu.stackPointer=65534}function addARegister($register$$){checkAndSetEightBitHalfCarryFlag(Cpu.registerA,$register$$);checkAndSetEightBitCarryFlag(Cpu.registerA,$register$$);Cpu.registerA=u8Portable(Cpu.registerA+$register$$);0===Cpu.registerA?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(0)}
function addAThroughCarryRegister($register$$){var $result$$=u8Portable(Cpu.registerA+$register$$+getCarryFlag$$1());0!=(u8Portable(Cpu.registerA^$register$$^$result$$)&16)?setHalfCarryFlag(1):setHalfCarryFlag(0);0<(u16Portable(Cpu.registerA+$register$$+getCarryFlag$$1())&256)?setCarryFlag(1):setCarryFlag(0);Cpu.registerA=$result$$;0===Cpu.registerA?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(0)}
function subARegister($register$$){var $negativeRegister$$=-1*$register$$;checkAndSetEightBitHalfCarryFlag(Cpu.registerA,$negativeRegister$$);checkAndSetEightBitCarryFlag(Cpu.registerA,$negativeRegister$$);Cpu.registerA=u8Portable(Cpu.registerA-$register$$);0===Cpu.registerA?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(1)}
function subAThroughCarryRegister($register$$){var $result$$=u8Portable(Cpu.registerA-$register$$-getCarryFlag$$1());0!=u8Portable((Cpu.registerA^$register$$^$result$$)&16)?setHalfCarryFlag(1):setHalfCarryFlag(0);0<(u16Portable(Cpu.registerA-$register$$-getCarryFlag$$1())&256)?setCarryFlag(1):setCarryFlag(0);Cpu.registerA=$result$$;0===Cpu.registerA?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(1)}
function andARegister($register$$){Cpu.registerA&=$register$$;0===Cpu.registerA?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(0);setHalfCarryFlag(1);setCarryFlag(0)}function xorARegister($register$$){Cpu.registerA=u8Portable(Cpu.registerA^$register$$);0===Cpu.registerA?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(0);setHalfCarryFlag(0);setCarryFlag(0)}
function orARegister($register$$){Cpu.registerA|=$register$$;0===Cpu.registerA?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(0);setHalfCarryFlag(0);setCarryFlag(0)}
function cpARegister($negativeRegister$jscomp$1_register$$){$negativeRegister$jscomp$1_register$$*=-1;checkAndSetEightBitHalfCarryFlag(Cpu.registerA,$negativeRegister$jscomp$1_register$$);checkAndSetEightBitCarryFlag(Cpu.registerA,$negativeRegister$jscomp$1_register$$);0===Cpu.registerA+$negativeRegister$jscomp$1_register$$?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(1)}
function rotateRegisterLeft($register$$){128===($register$$&128)?setCarryFlag(1):setCarryFlag(0);$register$$=rotateByteLeft($register$$);0===$register$$?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(0);setHalfCarryFlag(0);return $register$$}function rotateRegisterRight($register$$){0<($register$$&1)?setCarryFlag(1):setCarryFlag(0);$register$$=rotateByteRight($register$$);0===$register$$?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(0);setHalfCarryFlag(0);return $register$$}
function rotateRegisterLeftThroughCarry($register$$){var $hasHighbit$$=!1;128===($register$$&128)&&($hasHighbit$$=!0);$register$$=rotateByteLeftThroughCarry($register$$);$hasHighbit$$?setCarryFlag(1):setCarryFlag(0);0===$register$$?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(0);setHalfCarryFlag(0);return $register$$}
function rotateRegisterRightThroughCarry($register$$){var $hasLowBit$$=!1;1===($register$$&1)&&($hasLowBit$$=!0);$register$$=rotateByteRightThroughCarry($register$$);$hasLowBit$$?setCarryFlag(1):setCarryFlag(0);0===$register$$?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(0);setHalfCarryFlag(0);return $register$$}
function shiftLeftRegister($register$$){var $hasHighbit$$=!1;128===($register$$&128)&&($hasHighbit$$=!0);$register$$=u8Portable($register$$<<1);$hasHighbit$$?setCarryFlag(1):setCarryFlag(0);0===$register$$?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(0);setHalfCarryFlag(0);return $register$$}
function shiftRightArithmeticRegister($register$$){var $hasHighbit$$=!1;128===($register$$&128)&&($hasHighbit$$=!0);var $hasLowbit$$=!1;1===($register$$&1)&&($hasLowbit$$=!0);$register$$=u8Portable($register$$>>1);$hasHighbit$$&&($register$$|=128);0===$register$$?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(0);setHalfCarryFlag(0);$hasLowbit$$?setCarryFlag(1):setCarryFlag(0);return $register$$}
function swapNibblesOnRegister($register$$){$register$$=u8Portable(($register$$&15)<<4|($register$$&240)>>4);0===$register$$?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(0);setHalfCarryFlag(0);setCarryFlag(0);return $register$$}
function shiftRightLogicalRegister($register$$){var $hasLowbit$$=!1;1===($register$$&1)&&($hasLowbit$$=!0);$register$$=u8Portable($register$$>>1);0===$register$$?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(0);setHalfCarryFlag(0);$hasLowbit$$?setCarryFlag(1):setCarryFlag(0);return $register$$}function testBitOnRegister($bitPosition$$,$register$$){0===($register$$&1<<$bitPosition$$)?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(0);setHalfCarryFlag(1);return $register$$}
function setBitOnRegister($bitPosition$$,$bitValue$$,$register$$){return 0<$bitValue$$?$register$$|1<<$bitPosition$$:$register$$&~(1<<$bitPosition$$)}function relativeJump($relativeJumpOffset_value$$){$relativeJumpOffset_value$$=i8Portable($relativeJumpOffset_value$$);Cpu.programCounter=u16Portable(Cpu.programCounter+$relativeJumpOffset_value$$);Cpu.programCounter=u16Portable(Cpu.programCounter+1)}
function handleCbOpcode($cbOpcode$$){var $numberOfCycles$$=-1,$handledOpcode$$=!1,$instructionRegisterValue$$=0,$instructionRegisterResult$$=0,$registerNumber$$=$cbOpcode$$%8;switch($registerNumber$$){case 0:$instructionRegisterValue$$=Cpu.registerB;break;case 1:$instructionRegisterValue$$=Cpu.registerC;break;case 2:$instructionRegisterValue$$=Cpu.registerD;break;case 3:$instructionRegisterValue$$=Cpu.registerE;break;case 4:$instructionRegisterValue$$=Cpu.registerH;break;case 5:$instructionRegisterValue$$=
Cpu.registerL;break;case 6:$instructionRegisterValue$$=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL));break;case 7:$instructionRegisterValue$$=Cpu.registerA}var $opcodeHighNibble$$=($cbOpcode$$&240)>>4;switch($opcodeHighNibble$$){case 0:7>=$cbOpcode$$?($instructionRegisterResult$$=rotateRegisterLeft($instructionRegisterValue$$),$handledOpcode$$=!0):15>=$cbOpcode$$&&($instructionRegisterResult$$=rotateRegisterRight($instructionRegisterValue$$),$handledOpcode$$=!0);break;case 1:23>=
$cbOpcode$$?($instructionRegisterResult$$=rotateRegisterLeftThroughCarry($instructionRegisterValue$$),$handledOpcode$$=!0):31>=$cbOpcode$$&&($instructionRegisterResult$$=rotateRegisterRightThroughCarry($instructionRegisterValue$$),$handledOpcode$$=!0);break;case 2:39>=$cbOpcode$$?($instructionRegisterResult$$=shiftLeftRegister($instructionRegisterValue$$),$handledOpcode$$=!0):47>=$cbOpcode$$&&($instructionRegisterResult$$=shiftRightArithmeticRegister($instructionRegisterValue$$),$handledOpcode$$=
!0);break;case 3:55>=$cbOpcode$$?($instructionRegisterResult$$=swapNibblesOnRegister($instructionRegisterValue$$),$handledOpcode$$=!0):63>=$cbOpcode$$&&($instructionRegisterResult$$=shiftRightLogicalRegister($instructionRegisterValue$$),$handledOpcode$$=!0);break;case 4:71>=$cbOpcode$$?($instructionRegisterResult$$=testBitOnRegister(0,$instructionRegisterValue$$),$handledOpcode$$=!0):79>=$cbOpcode$$&&($instructionRegisterResult$$=testBitOnRegister(1,$instructionRegisterValue$$),$handledOpcode$$=!0);
break;case 5:87>=$cbOpcode$$?($instructionRegisterResult$$=testBitOnRegister(2,$instructionRegisterValue$$),$handledOpcode$$=!0):95>=$cbOpcode$$&&($instructionRegisterResult$$=testBitOnRegister(3,$instructionRegisterValue$$),$handledOpcode$$=!0);break;case 6:103>=$cbOpcode$$?($instructionRegisterResult$$=testBitOnRegister(4,$instructionRegisterValue$$),$handledOpcode$$=!0):111>=$cbOpcode$$&&($instructionRegisterResult$$=testBitOnRegister(5,$instructionRegisterValue$$),$handledOpcode$$=!0);break;case 7:119>=
$cbOpcode$$?($instructionRegisterResult$$=testBitOnRegister(6,$instructionRegisterValue$$),$handledOpcode$$=!0):127>=$cbOpcode$$&&($instructionRegisterResult$$=testBitOnRegister(7,$instructionRegisterValue$$),$handledOpcode$$=!0);break;case 8:135>=$cbOpcode$$?($instructionRegisterResult$$=setBitOnRegister(0,0,$instructionRegisterValue$$),$handledOpcode$$=!0):143>=$cbOpcode$$&&($instructionRegisterResult$$=setBitOnRegister(1,0,$instructionRegisterValue$$),$handledOpcode$$=!0);break;case 9:151>=$cbOpcode$$?
($instructionRegisterResult$$=setBitOnRegister(2,0,$instructionRegisterValue$$),$handledOpcode$$=!0):159>=$cbOpcode$$&&($instructionRegisterResult$$=setBitOnRegister(3,0,$instructionRegisterValue$$),$handledOpcode$$=!0);break;case 10:167>=$cbOpcode$$?($instructionRegisterResult$$=setBitOnRegister(4,0,$instructionRegisterValue$$),$handledOpcode$$=!0):175>=$cbOpcode$$&&($instructionRegisterResult$$=setBitOnRegister(5,0,$instructionRegisterValue$$),$handledOpcode$$=!0);break;case 11:183>=$cbOpcode$$?
($instructionRegisterResult$$=setBitOnRegister(6,0,$instructionRegisterValue$$),$handledOpcode$$=!0):191>=$cbOpcode$$&&($instructionRegisterResult$$=setBitOnRegister(7,0,$instructionRegisterValue$$),$handledOpcode$$=!0);break;case 12:199>=$cbOpcode$$?($instructionRegisterResult$$=setBitOnRegister(0,1,$instructionRegisterValue$$),$handledOpcode$$=!0):207>=$cbOpcode$$&&($instructionRegisterResult$$=setBitOnRegister(1,1,$instructionRegisterValue$$),$handledOpcode$$=!0);break;case 13:215>=$cbOpcode$$?
($instructionRegisterResult$$=setBitOnRegister(2,1,$instructionRegisterValue$$),$handledOpcode$$=!0):223>=$cbOpcode$$&&($instructionRegisterResult$$=setBitOnRegister(3,1,$instructionRegisterValue$$),$handledOpcode$$=!0);break;case 14:231>=$cbOpcode$$?($instructionRegisterResult$$=setBitOnRegister(4,1,$instructionRegisterValue$$),$handledOpcode$$=!0):239>=$cbOpcode$$&&($instructionRegisterResult$$=setBitOnRegister(5,1,$instructionRegisterValue$$),$handledOpcode$$=!0);break;case 15:247>=$cbOpcode$$?
($instructionRegisterResult$$=setBitOnRegister(6,1,$instructionRegisterValue$$),$handledOpcode$$=!0):255>=$cbOpcode$$&&($instructionRegisterResult$$=setBitOnRegister(7,1,$instructionRegisterValue$$),$handledOpcode$$=!0)}switch($registerNumber$$){case 0:Cpu.registerB=$instructionRegisterResult$$;break;case 1:Cpu.registerC=$instructionRegisterResult$$;break;case 2:Cpu.registerD=$instructionRegisterResult$$;break;case 3:Cpu.registerE=$instructionRegisterResult$$;break;case 4:Cpu.registerH=$instructionRegisterResult$$;
break;case 5:Cpu.registerL=$instructionRegisterResult$$;break;case 6:(4>$opcodeHighNibble$$||7<$opcodeHighNibble$$)&&eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL),$instructionRegisterResult$$);break;case 7:Cpu.registerA=$instructionRegisterResult$$}$handledOpcode$$&&($numberOfCycles$$=4);return $numberOfCycles$$}
function executeOpcode$$1($opcode$$){Cpu.programCounter=u16Portable(Cpu.programCounter+1);Cpu.isHaltBug&&(Cpu.programCounter=u16Portable(Cpu.programCounter-1));switch(($opcode$$&240)>>4){case 0:return handleOpcode0x($opcode$$);case 1:return handleOpcode1x($opcode$$);case 2:return handleOpcode2x($opcode$$);case 3:return handleOpcode3x($opcode$$);case 4:return handleOpcode4x($opcode$$);case 5:return handleOpcode5x($opcode$$);case 6:return handleOpcode6x($opcode$$);case 7:return handleOpcode7x($opcode$$);
case 8:return handleOpcode8x($opcode$$);case 9:return handleOpcode9x($opcode$$);case 10:return handleOpcodeAx($opcode$$);case 11:return handleOpcodeBx($opcode$$);case 12:return handleOpcodeCx($opcode$$);case 13:return handleOpcodeDx($opcode$$);case 14:return handleOpcodeEx($opcode$$);default:return handleOpcodeFx($opcode$$)}}function eightBitLoadSyncCycles($gameboyOffset$$){syncCycles(4);return eightBitLoadFromGBMemoryWithTraps($gameboyOffset$$)}
function eightBitStoreSyncCycles($gameboyOffset$$,$value$$){syncCycles(4);eightBitStoreIntoGBMemoryWithTraps($gameboyOffset$$,$value$$)}function sixteenBitLoadSyncCycles($gameboyOffset$$){syncCycles(8);return sixteenBitLoadFromGBMemory($gameboyOffset$$)}function sixteenBitStoreSyncCycles($gameboyOffset$$,$value$$){syncCycles(8);sixteenBitStoreIntoGBMemoryWithTraps($gameboyOffset$$,$value$$)}function getDataByteOne(){syncCycles(4);return eightBitLoadFromGBMemory(Cpu.programCounter)}
function getDataByteTwo(){syncCycles(4);return eightBitLoadFromGBMemory(u16Portable(Cpu.programCounter+1))}function getConcatenatedDataByte(){return concatenateBytes(getDataByteTwo(),getDataByteOne())}
function handleOpcode0x($concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$){switch($concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$){case 0:return 4;case 1:return $concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$=getConcatenatedDataByte(),Cpu.registerB=splitHighByte($concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$),Cpu.registerC=splitLowByte($concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$),
Cpu.programCounter=u16Portable(Cpu.programCounter+2),4;case 2:return eightBitStoreSyncCycles(concatenateBytes(Cpu.registerB,Cpu.registerC),Cpu.registerA),4;case 3:return $concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$=concatenateBytes(Cpu.registerB,Cpu.registerC),$concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$++,Cpu.registerB=splitHighByte($concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$),Cpu.registerC=
splitLowByte($concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$),8;case 4:return checkAndSetEightBitHalfCarryFlag(Cpu.registerB,1),Cpu.registerB=u8Portable(Cpu.registerB+1),0===Cpu.registerB?setZeroFlag$$1(1):setZeroFlag$$1(0),setSubtractFlag(0),4;case 5:return checkAndSetEightBitHalfCarryFlag(Cpu.registerB,-1),Cpu.registerB=u8Portable(Cpu.registerB-1),0===Cpu.registerB?setZeroFlag$$1(1):setZeroFlag$$1(0),setSubtractFlag(1),4;case 6:return Cpu.registerB=getDataByteOne(),
Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 7:return 128===(Cpu.registerA&128)?setCarryFlag(1):setCarryFlag(0),Cpu.registerA=rotateByteLeft(Cpu.registerA),setZeroFlag$$1(0),setSubtractFlag(0),setHalfCarryFlag(0),4;case 8:return sixteenBitStoreSyncCycles(getConcatenatedDataByte(),Cpu.stackPointer),Cpu.programCounter=u16Portable(Cpu.programCounter+2),4;case 9:$concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$=concatenateBytes(Cpu.registerH,Cpu.registerL);
var $registerBC9$$=concatenateBytes(Cpu.registerB,Cpu.registerC);checkAndSetSixteenBitFlagsAddOverflow($concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$,$registerBC9$$,!1);$concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$=u16Portable($concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$+$registerBC9$$);Cpu.registerH=splitHighByte($concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$);
Cpu.registerL=splitLowByte($concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$);setSubtractFlag(0);return 8;case 10:return Cpu.registerA=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerB,Cpu.registerC)),4;case 11:return $concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$=concatenateBytes(Cpu.registerB,Cpu.registerC),$concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$=u16Portable($concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$-
1),Cpu.registerB=splitHighByte($concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$),Cpu.registerC=splitLowByte($concatenatedDataByte_opcode$jscomp$1_registerBC3_registerBCB_registerHL_result$$),8;case 12:return checkAndSetEightBitHalfCarryFlag(Cpu.registerC,1),Cpu.registerC=u8Portable(Cpu.registerC+1),0===Cpu.registerC?setZeroFlag$$1(1):setZeroFlag$$1(0),setSubtractFlag(0),4;case 13:return checkAndSetEightBitHalfCarryFlag(Cpu.registerC,-1),Cpu.registerC=u8Portable(Cpu.registerC-
1),0===Cpu.registerC?setZeroFlag$$1(1):setZeroFlag$$1(0),setSubtractFlag(1),4;case 14:return Cpu.registerC=getDataByteOne(),Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 15:return 0<(Cpu.registerA&1)?setCarryFlag(1):setCarryFlag(0),Cpu.registerA=rotateByteRight(Cpu.registerA),setZeroFlag$$1(0),setSubtractFlag(0),setHalfCarryFlag(0),4}return-1}
function handleOpcode1x($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$){switch($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$){case 16:if(Cpu.GBCEnabled&&($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=
eightBitLoadSyncCycles(Cpu.memoryLocationSpeedSwitch),checkBitOnByte(0,$concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$)))return $concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=resetBitOnByte(0,$concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$),
checkBitOnByte(7,$concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$)?(Cpu.GBCDoubleSpeed=!1,$concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=resetBitOnByte(7,$concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$)):
(Cpu.GBCDoubleSpeed=!0,$concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=setBitOnByte(7,$concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$)),eightBitStoreSyncCycles(Cpu.memoryLocationSpeedSwitch,$concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$),
68;Cpu.isStopped=!0;Cpu.programCounter=u16Portable(Cpu.programCounter+1);return 4;case 17:return $concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=getConcatenatedDataByte(),Cpu.registerD=splitHighByte($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$),Cpu.registerE=splitLowByte($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$),
Cpu.programCounter=u16Portable(Cpu.programCounter+2),4;case 18:return eightBitStoreSyncCycles(concatenateBytes(Cpu.registerD,Cpu.registerE),Cpu.registerA),4;case 19:return $concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=concatenateBytes(Cpu.registerD,Cpu.registerE),$concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=
u16Portable($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$+1),Cpu.registerD=splitHighByte($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$),Cpu.registerE=splitLowByte($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$),
8;case 20:return checkAndSetEightBitHalfCarryFlag(Cpu.registerD,1),Cpu.registerD=u8Portable(Cpu.registerD+1),0===Cpu.registerD?setZeroFlag$$1(1):setZeroFlag$$1(0),setSubtractFlag(0),4;case 21:return checkAndSetEightBitHalfCarryFlag(Cpu.registerD,-1),Cpu.registerD=u8Portable(Cpu.registerD-1),0===Cpu.registerD?setZeroFlag$$1(1):setZeroFlag$$1(0),setSubtractFlag(1),4;case 22:return Cpu.registerD=getDataByteOne(),Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 23:return $concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=
!1,128===(Cpu.registerA&128)&&($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=!0),Cpu.registerA=rotateByteLeftThroughCarry(Cpu.registerA),$concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$?setCarryFlag(1):setCarryFlag(0),setZeroFlag$$1(0),setSubtractFlag(0),setHalfCarryFlag(0),4;case 24:return relativeJump(getDataByteOne()),
8;case 25:$concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=concatenateBytes(Cpu.registerH,Cpu.registerL);var $registerDE9$$=concatenateBytes(Cpu.registerD,Cpu.registerE);checkAndSetSixteenBitFlagsAddOverflow($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$,$registerDE9$$,!1);$concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=
u16Portable($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$+$registerDE9$$);Cpu.registerH=splitHighByte($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$);Cpu.registerL=splitLowByte($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$);
setSubtractFlag(0);return 8;case 26:return $concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=concatenateBytes(Cpu.registerD,Cpu.registerE),Cpu.registerA=eightBitLoadSyncCycles($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$),4;case 27:return $concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=
concatenateBytes(Cpu.registerD,Cpu.registerE),$concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=u16Portable($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$-1),Cpu.registerD=splitHighByte($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$),
Cpu.registerE=splitLowByte($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$),8;case 28:return checkAndSetEightBitHalfCarryFlag(Cpu.registerE,1),Cpu.registerE=u8Portable(Cpu.registerE+1),0===Cpu.registerE?setZeroFlag$$1(1):setZeroFlag$$1(0),setSubtractFlag(0),4;case 29:return checkAndSetEightBitHalfCarryFlag(Cpu.registerE,-1),Cpu.registerE=u8Portable(Cpu.registerE-1),0===Cpu.registerE?setZeroFlag$$1(1):
setZeroFlag$$1(0),setSubtractFlag(1),4;case 30:return Cpu.registerE=getDataByteOne(),Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 31:return $concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=!1,1===(Cpu.registerA&1)&&($concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$=!0),Cpu.registerA=
rotateByteRightThroughCarry(Cpu.registerA),$concatenatedDataByte$jscomp$1_hasHighbit$jscomp$3_hasLowBit$jscomp$1_opcode$jscomp$2_registerDE3_registerDEA_registerDEB_registerHL$jscomp$1_result$$?setCarryFlag(1):setCarryFlag(0),setZeroFlag$$1(0),setSubtractFlag(0),setHalfCarryFlag(0),4}return-1}
function handleOpcode2x($adjustedRegister_opcode$$){switch($adjustedRegister_opcode$$){case 32:return 0===getZeroFlag$$1()?relativeJump(getDataByteOne()):Cpu.programCounter=u16Portable(Cpu.programCounter+1),8;case 33:return $adjustedRegister_opcode$$=getConcatenatedDataByte(),Cpu.registerH=splitHighByte($adjustedRegister_opcode$$),Cpu.registerL=splitLowByte($adjustedRegister_opcode$$),Cpu.programCounter=u16Portable(Cpu.programCounter+2),4;case 34:return $adjustedRegister_opcode$$=concatenateBytes(Cpu.registerH,
Cpu.registerL),eightBitStoreSyncCycles($adjustedRegister_opcode$$,Cpu.registerA),$adjustedRegister_opcode$$=u16Portable($adjustedRegister_opcode$$+1),Cpu.registerH=splitHighByte($adjustedRegister_opcode$$),Cpu.registerL=splitLowByte($adjustedRegister_opcode$$),4;case 35:return $adjustedRegister_opcode$$=concatenateBytes(Cpu.registerH,Cpu.registerL),$adjustedRegister_opcode$$=u16Portable($adjustedRegister_opcode$$+1),Cpu.registerH=splitHighByte($adjustedRegister_opcode$$),Cpu.registerL=splitLowByte($adjustedRegister_opcode$$),
8;case 36:return checkAndSetEightBitHalfCarryFlag(Cpu.registerH,1),Cpu.registerH=u8Portable(Cpu.registerH+1),0===Cpu.registerH?setZeroFlag$$1(1):setZeroFlag$$1(0),setSubtractFlag(0),4;case 37:return checkAndSetEightBitHalfCarryFlag(Cpu.registerH,-1),Cpu.registerH=u8Portable(Cpu.registerH-1),0===Cpu.registerH?setZeroFlag$$1(1):setZeroFlag$$1(0),setSubtractFlag(1),4;case 38:return Cpu.registerH=getDataByteOne(),Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 39:var $adjustment$$=0;0<getHalfCarryFlag()&&
($adjustment$$|=6);0<getCarryFlag$$1()&&($adjustment$$|=96);0<getSubtractFlag()?$adjustedRegister_opcode$$=u8Portable(Cpu.registerA-$adjustment$$):(9<(Cpu.registerA&15)&&($adjustment$$|=6),153<Cpu.registerA&&($adjustment$$|=96),$adjustedRegister_opcode$$=u8Portable(Cpu.registerA+$adjustment$$));0===$adjustedRegister_opcode$$?setZeroFlag$$1(1):setZeroFlag$$1(0);0!==($adjustment$$&96)?setCarryFlag(1):setCarryFlag(0);setHalfCarryFlag(0);Cpu.registerA=$adjustedRegister_opcode$$;return 4;case 40:return 0<
getZeroFlag$$1()?relativeJump(getDataByteOne()):Cpu.programCounter=u16Portable(Cpu.programCounter+1),8;case 41:return $adjustedRegister_opcode$$=concatenateBytes(Cpu.registerH,Cpu.registerL),checkAndSetSixteenBitFlagsAddOverflow($adjustedRegister_opcode$$,$adjustedRegister_opcode$$,!1),$adjustedRegister_opcode$$=u16Portable(2*$adjustedRegister_opcode$$),Cpu.registerH=splitHighByte($adjustedRegister_opcode$$),Cpu.registerL=splitLowByte($adjustedRegister_opcode$$),setSubtractFlag(0),8;case 42:return $adjustedRegister_opcode$$=
concatenateBytes(Cpu.registerH,Cpu.registerL),Cpu.registerA=eightBitLoadSyncCycles($adjustedRegister_opcode$$),$adjustedRegister_opcode$$=u16Portable($adjustedRegister_opcode$$+1),Cpu.registerH=splitHighByte($adjustedRegister_opcode$$),Cpu.registerL=splitLowByte($adjustedRegister_opcode$$),4;case 43:return $adjustedRegister_opcode$$=concatenateBytes(Cpu.registerH,Cpu.registerL),$adjustedRegister_opcode$$=u16Portable($adjustedRegister_opcode$$-1),Cpu.registerH=splitHighByte($adjustedRegister_opcode$$),
Cpu.registerL=splitLowByte($adjustedRegister_opcode$$),8;case 44:return checkAndSetEightBitHalfCarryFlag(Cpu.registerL,1),Cpu.registerL=u8Portable(Cpu.registerL+1),0===Cpu.registerL?setZeroFlag$$1(1):setZeroFlag$$1(0),setSubtractFlag(0),4;case 45:return checkAndSetEightBitHalfCarryFlag(Cpu.registerL,-1),Cpu.registerL=u8Portable(Cpu.registerL-1),0===Cpu.registerL?setZeroFlag$$1(1):setZeroFlag$$1(0),setSubtractFlag(1),4;case 46:return Cpu.registerL=getDataByteOne(),Cpu.programCounter=u16Portable(Cpu.programCounter+
1),4;case 47:return Cpu.registerA=~Cpu.registerA,setSubtractFlag(1),setHalfCarryFlag(1),4}return-1}
function handleOpcode3x($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$){switch($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$){case 48:return 0===getCarryFlag$$1()?relativeJump(getDataByteOne()):Cpu.programCounter=u16Portable(Cpu.programCounter+1),8;case 49:return Cpu.stackPointer=getConcatenatedDataByte(),Cpu.programCounter=u16Portable(Cpu.programCounter+2),4;case 50:return $opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$=
concatenateBytes(Cpu.registerH,Cpu.registerL),eightBitStoreSyncCycles($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$,Cpu.registerA),$opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$=u16Portable($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$-1),Cpu.registerH=splitHighByte($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$),
Cpu.registerL=splitLowByte($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$),4;case 51:return Cpu.stackPointer=u16Portable(Cpu.stackPointer+1),8;case 52:$opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$=concatenateBytes(Cpu.registerH,Cpu.registerL);var $valueAtHL4_valueAtHL5$$=eightBitLoadSyncCycles($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$);
checkAndSetEightBitHalfCarryFlag($valueAtHL4_valueAtHL5$$,1);$valueAtHL4_valueAtHL5$$=u8Portable($valueAtHL4_valueAtHL5$$+1);0===$valueAtHL4_valueAtHL5$$?setZeroFlag$$1(1):setZeroFlag$$1(0);setSubtractFlag(0);eightBitStoreSyncCycles($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$,$valueAtHL4_valueAtHL5$$);return 4;case 53:return $opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$=
concatenateBytes(Cpu.registerH,Cpu.registerL),$valueAtHL4_valueAtHL5$$=eightBitLoadSyncCycles($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$),checkAndSetEightBitHalfCarryFlag($valueAtHL4_valueAtHL5$$,-1),$valueAtHL4_valueAtHL5$$=u8Portable($valueAtHL4_valueAtHL5$$-1),0===$valueAtHL4_valueAtHL5$$?setZeroFlag$$1(1):setZeroFlag$$1(0),setSubtractFlag(1),eightBitStoreSyncCycles($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$,
$valueAtHL4_valueAtHL5$$),4;case 54:return eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL),getDataByteOne()),Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 55:return setSubtractFlag(0),setHalfCarryFlag(0),setCarryFlag(1),4;case 56:return 1===getCarryFlag$$1()?relativeJump(getDataByteOne()):Cpu.programCounter=u16Portable(Cpu.programCounter+1),8;case 57:return $opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$=
concatenateBytes(Cpu.registerH,Cpu.registerL),checkAndSetSixteenBitFlagsAddOverflow($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$,Cpu.stackPointer,!1),$opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$=u16Portable($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$+Cpu.stackPointer),Cpu.registerH=splitHighByte($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$),
Cpu.registerL=splitLowByte($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$),setSubtractFlag(0),8;case 58:return $opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$=concatenateBytes(Cpu.registerH,Cpu.registerL),Cpu.registerA=eightBitLoadSyncCycles($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$),$opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$=
u16Portable($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$-1),Cpu.registerH=splitHighByte($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$),Cpu.registerL=splitLowByte($opcode$jscomp$4_registerHL2$jscomp$1_registerHL4_registerHL5_registerHL9$jscomp$1_registerHLA$jscomp$1_result$$),4;case 59:return Cpu.stackPointer=u16Portable(Cpu.stackPointer-1),8;case 60:return checkAndSetEightBitHalfCarryFlag(Cpu.registerA,
1),Cpu.registerA=u8Portable(Cpu.registerA+1),0===Cpu.registerA?setZeroFlag$$1(1):setZeroFlag$$1(0),setSubtractFlag(0),4;case 61:return checkAndSetEightBitHalfCarryFlag(Cpu.registerA,-1),Cpu.registerA=u8Portable(Cpu.registerA-1),0===Cpu.registerA?setZeroFlag$$1(1):setZeroFlag$$1(0),setSubtractFlag(1),4;case 62:return Cpu.registerA=getDataByteOne(),Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 63:return setSubtractFlag(0),setHalfCarryFlag(0),0<getCarryFlag$$1()?setCarryFlag(0):setCarryFlag(1),
4}return-1}
function handleOpcode4x($opcode$$){switch($opcode$$){case 64:return 4;case 65:return Cpu.registerB=Cpu.registerC,4;case 66:return Cpu.registerB=Cpu.registerD,4;case 67:return Cpu.registerB=Cpu.registerE,4;case 68:return Cpu.registerB=Cpu.registerH,4;case 69:return Cpu.registerB=Cpu.registerL,4;case 70:return Cpu.registerB=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL)),4;case 71:return Cpu.registerB=Cpu.registerA,4;case 72:return Cpu.registerC=Cpu.registerB,4;case 73:return 4;case 74:return Cpu.registerC=
Cpu.registerD,4;case 75:return Cpu.registerC=Cpu.registerE,4;case 76:return Cpu.registerC=Cpu.registerH,4;case 77:return Cpu.registerC=Cpu.registerL,4;case 78:return Cpu.registerC=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL)),4;case 79:return Cpu.registerC=Cpu.registerA,4}return-1}
function handleOpcode5x($opcode$$){switch($opcode$$){case 80:return Cpu.registerD=Cpu.registerB,4;case 81:return Cpu.registerD=Cpu.registerC,4;case 82:return 4;case 83:return Cpu.registerD=Cpu.registerE,4;case 84:return Cpu.registerD=Cpu.registerH,4;case 85:return Cpu.registerD=Cpu.registerL,4;case 86:return Cpu.registerD=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL)),4;case 87:return Cpu.registerD=Cpu.registerA,4;case 88:return Cpu.registerE=Cpu.registerB,4;case 89:return Cpu.registerE=
Cpu.registerC,4;case 90:return Cpu.registerE=Cpu.registerD,4;case 91:return 4;case 92:return Cpu.registerE=Cpu.registerH,4;case 93:return Cpu.registerE=Cpu.registerL,4;case 94:return Cpu.registerE=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL)),4;case 95:return Cpu.registerE=Cpu.registerA,4}return-1}
function handleOpcode6x($opcode$$){switch($opcode$$){case 96:return Cpu.registerH=Cpu.registerB,4;case 97:return Cpu.registerH=Cpu.registerC,4;case 98:return Cpu.registerH=Cpu.registerD,4;case 99:return Cpu.registerH=Cpu.registerE,4;case 100:return Cpu.registerH=Cpu.registerH,4;case 101:return Cpu.registerH=Cpu.registerL,4;case 102:return Cpu.registerH=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL)),4;case 103:return Cpu.registerH=Cpu.registerA,4;case 104:return Cpu.registerL=
Cpu.registerB,4;case 105:return Cpu.registerL=Cpu.registerC,4;case 106:return Cpu.registerL=Cpu.registerD,4;case 107:return Cpu.registerL=Cpu.registerE,4;case 108:return Cpu.registerL=Cpu.registerH,4;case 109:return Cpu.registerL=Cpu.registerL,4;case 110:return Cpu.registerL=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL)),4;case 111:return Cpu.registerL=Cpu.registerA,4}return-1}
function handleOpcode7x($opcode$$){switch($opcode$$){case 112:return eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL),Cpu.registerB),4;case 113:return eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL),Cpu.registerC),4;case 114:return eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL),Cpu.registerD),4;case 115:return eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL),Cpu.registerE),4;case 116:return eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH,
Cpu.registerL),Cpu.registerH),4;case 117:return eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL),Cpu.registerL),4;case 118:return Memory.isHblankHdmaActive||Cpu.enableHalt(),4;case 119:return eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL),Cpu.registerA),4;case 120:return Cpu.registerA=Cpu.registerB,4;case 121:return Cpu.registerA=Cpu.registerC,4;case 122:return Cpu.registerA=Cpu.registerD,4;case 123:return Cpu.registerA=Cpu.registerE,4;case 124:return Cpu.registerA=
Cpu.registerH,4;case 125:return Cpu.registerA=Cpu.registerL,4;case 126:return Cpu.registerA=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL)),4;case 127:return 4}return-1}
function handleOpcode8x($opcode$$){switch($opcode$$){case 128:return addARegister(Cpu.registerB),4;case 129:return addARegister(Cpu.registerC),4;case 130:return addARegister(Cpu.registerD),4;case 131:return addARegister(Cpu.registerE),4;case 132:return addARegister(Cpu.registerH),4;case 133:return addARegister(Cpu.registerL),4;case 134:return $opcode$$=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL)),addARegister($opcode$$),4;case 135:return addARegister(Cpu.registerA),4;case 136:return addAThroughCarryRegister(Cpu.registerB),
4;case 137:return addAThroughCarryRegister(Cpu.registerC),4;case 138:return addAThroughCarryRegister(Cpu.registerD),4;case 139:return addAThroughCarryRegister(Cpu.registerE),4;case 140:return addAThroughCarryRegister(Cpu.registerH),4;case 141:return addAThroughCarryRegister(Cpu.registerL),4;case 142:return $opcode$$=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL)),addAThroughCarryRegister($opcode$$),4;case 143:return addAThroughCarryRegister(Cpu.registerA),4}return-1}
function handleOpcode9x($opcode$jscomp$10_valueAtHL6$jscomp$1_valueAtHLE$$){switch($opcode$jscomp$10_valueAtHL6$jscomp$1_valueAtHLE$$){case 144:return subARegister(Cpu.registerB),4;case 145:return subARegister(Cpu.registerC),4;case 146:return subARegister(Cpu.registerD),4;case 147:return subARegister(Cpu.registerE),4;case 148:return subARegister(Cpu.registerH),4;case 149:return subARegister(Cpu.registerL),4;case 150:return $opcode$jscomp$10_valueAtHL6$jscomp$1_valueAtHLE$$=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,
Cpu.registerL)),subARegister($opcode$jscomp$10_valueAtHL6$jscomp$1_valueAtHLE$$),4;case 151:return subARegister(Cpu.registerA),4;case 152:return subAThroughCarryRegister(Cpu.registerB),4;case 153:return subAThroughCarryRegister(Cpu.registerC),4;case 154:return subAThroughCarryRegister(Cpu.registerD),4;case 155:return subAThroughCarryRegister(Cpu.registerE),4;case 156:return subAThroughCarryRegister(Cpu.registerH),4;case 157:return subAThroughCarryRegister(Cpu.registerL),4;case 158:return $opcode$jscomp$10_valueAtHL6$jscomp$1_valueAtHLE$$=
eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,Cpu.registerL)),subAThroughCarryRegister($opcode$jscomp$10_valueAtHL6$jscomp$1_valueAtHLE$$),4;case 159:return subAThroughCarryRegister(Cpu.registerA),4}return-1}
function handleOpcodeAx($opcode$jscomp$11_valueAtHL6$jscomp$2_valueAtHLE$$){switch($opcode$jscomp$11_valueAtHL6$jscomp$2_valueAtHLE$$){case 160:return andARegister(Cpu.registerB),4;case 161:return andARegister(Cpu.registerC),4;case 162:return andARegister(Cpu.registerD),4;case 163:return andARegister(Cpu.registerE),4;case 164:return andARegister(Cpu.registerH),4;case 165:return andARegister(Cpu.registerL),4;case 166:return $opcode$jscomp$11_valueAtHL6$jscomp$2_valueAtHLE$$=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,
Cpu.registerL)),andARegister($opcode$jscomp$11_valueAtHL6$jscomp$2_valueAtHLE$$),4;case 167:return andARegister(Cpu.registerA),4;case 168:return xorARegister(Cpu.registerB),4;case 169:return xorARegister(Cpu.registerC),4;case 170:return xorARegister(Cpu.registerD),4;case 171:return xorARegister(Cpu.registerE),4;case 172:return xorARegister(Cpu.registerH),4;case 173:return xorARegister(Cpu.registerL),4;case 174:return $opcode$jscomp$11_valueAtHL6$jscomp$2_valueAtHLE$$=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,
Cpu.registerL)),xorARegister($opcode$jscomp$11_valueAtHL6$jscomp$2_valueAtHLE$$),4;case 175:return xorARegister(Cpu.registerA),4}return-1}
function handleOpcodeBx($opcode$jscomp$12_valueAtHL6$jscomp$3_valueAtHLE$$){switch($opcode$jscomp$12_valueAtHL6$jscomp$3_valueAtHLE$$){case 176:return orARegister(Cpu.registerB),4;case 177:return orARegister(Cpu.registerC),4;case 178:return orARegister(Cpu.registerD),4;case 179:return orARegister(Cpu.registerE),4;case 180:return orARegister(Cpu.registerH),4;case 181:return orARegister(Cpu.registerL),4;case 182:return $opcode$jscomp$12_valueAtHL6$jscomp$3_valueAtHLE$$=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,
Cpu.registerL)),orARegister($opcode$jscomp$12_valueAtHL6$jscomp$3_valueAtHLE$$),4;case 183:return orARegister(Cpu.registerA),4;case 184:return cpARegister(Cpu.registerB),4;case 185:return cpARegister(Cpu.registerC),4;case 186:return cpARegister(Cpu.registerD),4;case 187:return cpARegister(Cpu.registerE),4;case 188:return cpARegister(Cpu.registerH),4;case 189:return cpARegister(Cpu.registerL),4;case 190:return $opcode$jscomp$12_valueAtHL6$jscomp$3_valueAtHLE$$=eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH,
Cpu.registerL)),cpARegister($opcode$jscomp$12_valueAtHL6$jscomp$3_valueAtHLE$$),4;case 191:return cpARegister(Cpu.registerA),4}return-1}
function handleOpcodeCx($cbCycles_opcode$$){switch($cbCycles_opcode$$){case 192:return 0===getZeroFlag$$1()?(Cpu.programCounter=sixteenBitLoadSyncCycles(Cpu.stackPointer),Cpu.stackPointer=u16Portable(Cpu.stackPointer+2),12):8;case 193:return $cbCycles_opcode$$=sixteenBitLoadSyncCycles(Cpu.stackPointer),Cpu.stackPointer=u16Portable(Cpu.stackPointer+2),Cpu.registerB=splitHighByte($cbCycles_opcode$$),Cpu.registerC=splitLowByte($cbCycles_opcode$$),4;case 194:if(0===getZeroFlag$$1())return Cpu.programCounter=
getConcatenatedDataByte(),8;Cpu.programCounter=u16Portable(Cpu.programCounter+2);return 12;case 195:return Cpu.programCounter=getConcatenatedDataByte(),8;case 196:if(0===getZeroFlag$$1())return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,u16Portable(Cpu.programCounter+2)),Cpu.programCounter=getConcatenatedDataByte(),8;Cpu.programCounter=u16Portable(Cpu.programCounter+2);return 12;case 197:return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,
concatenateBytes(Cpu.registerB,Cpu.registerC)),8;case 198:return addARegister(getDataByteOne()),Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 199:return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,Cpu.programCounter),Cpu.programCounter=0,8;case 200:return 1===getZeroFlag$$1()?(Cpu.programCounter=sixteenBitLoadSyncCycles(Cpu.stackPointer),Cpu.stackPointer=u16Portable(Cpu.stackPointer+2),12):8;case 201:return Cpu.programCounter=sixteenBitLoadSyncCycles(Cpu.stackPointer),
Cpu.stackPointer=u16Portable(Cpu.stackPointer+2),8;case 202:if(1===getZeroFlag$$1())return Cpu.programCounter=getConcatenatedDataByte(),8;Cpu.programCounter=u16Portable(Cpu.programCounter+2);return 12;case 203:return $cbCycles_opcode$$=handleCbOpcode(getDataByteOne()),Cpu.programCounter=u16Portable(Cpu.programCounter+1),$cbCycles_opcode$$;case 204:if(1===getZeroFlag$$1())return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,Cpu.programCounter+2),Cpu.programCounter=
getConcatenatedDataByte(),8;Cpu.programCounter=u16Portable(Cpu.programCounter+2);return 12;case 205:return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,u16Portable(Cpu.programCounter+2)),Cpu.programCounter=getConcatenatedDataByte(),8;case 206:return addAThroughCarryRegister(getDataByteOne()),Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 207:return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,
Cpu.programCounter),Cpu.programCounter=8}return-1}
function handleOpcodeDx($opcode$$){switch($opcode$$){case 208:return 0===getCarryFlag$$1()?(Cpu.programCounter=sixteenBitLoadSyncCycles(Cpu.stackPointer),Cpu.stackPointer=u16Portable(Cpu.stackPointer+2),12):8;case 209:return $opcode$$=sixteenBitLoadSyncCycles(Cpu.stackPointer),Cpu.stackPointer=u16Portable(Cpu.stackPointer+2),Cpu.registerD=splitHighByte($opcode$$),Cpu.registerE=splitLowByte($opcode$$),4;case 210:if(0===getCarryFlag$$1())return Cpu.programCounter=getConcatenatedDataByte(),8;Cpu.programCounter=
u16Portable(Cpu.programCounter+2);return 12;case 212:if(0===getCarryFlag$$1())return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,Cpu.programCounter+2),Cpu.programCounter=getConcatenatedDataByte(),8;Cpu.programCounter=u16Portable(Cpu.programCounter+2);return 12;case 213:return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,concatenateBytes(Cpu.registerD,Cpu.registerE)),8;case 214:return subARegister(getDataByteOne()),
Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 215:return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,Cpu.programCounter),Cpu.programCounter=16,8;case 216:return 1===getCarryFlag$$1()?(Cpu.programCounter=sixteenBitLoadSyncCycles(Cpu.stackPointer),Cpu.stackPointer=u16Portable(Cpu.stackPointer+2),12):8;case 217:return Cpu.programCounter=sixteenBitLoadSyncCycles(Cpu.stackPointer),setInterrupts(!0),Cpu.stackPointer=u16Portable(Cpu.stackPointer+
2),8;case 218:if(1===getCarryFlag$$1())return Cpu.programCounter=getConcatenatedDataByte(),8;Cpu.programCounter=u16Portable(Cpu.programCounter+2);return 12;case 220:if(1===getCarryFlag$$1())return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,u16Portable(Cpu.programCounter+2)),Cpu.programCounter=getConcatenatedDataByte(),8;Cpu.programCounter=u16Portable(Cpu.programCounter+2);return 12;case 222:return subAThroughCarryRegister(getDataByteOne()),Cpu.programCounter=
u16Portable(Cpu.programCounter+1),4;case 223:return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,Cpu.programCounter),Cpu.programCounter=24,8}return-1}
function handleOpcodeEx($largeDataByteOne_opcode$$){switch($largeDataByteOne_opcode$$){case 224:return $largeDataByteOne_opcode$$=getDataByteOne(),eightBitStoreSyncCycles(65280+$largeDataByteOne_opcode$$,Cpu.registerA),Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 225:return $largeDataByteOne_opcode$$=sixteenBitLoadSyncCycles(Cpu.stackPointer),Cpu.stackPointer=u16Portable(Cpu.stackPointer+2),Cpu.registerH=splitHighByte($largeDataByteOne_opcode$$),Cpu.registerL=splitLowByte($largeDataByteOne_opcode$$),
4;case 226:return eightBitStoreSyncCycles(65280+Cpu.registerC,Cpu.registerA),4;case 229:return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,concatenateBytes(Cpu.registerH,Cpu.registerL)),8;case 230:return andARegister(getDataByteOne()),Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 231:return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,Cpu.programCounter),Cpu.programCounter=32,8;case 232:return $largeDataByteOne_opcode$$=
i8Portable(getDataByteOne()),checkAndSetSixteenBitFlagsAddOverflow(Cpu.stackPointer,$largeDataByteOne_opcode$$,!0),Cpu.stackPointer=u16Portable(Cpu.stackPointer+$largeDataByteOne_opcode$$),setZeroFlag$$1(0),setSubtractFlag(0),Cpu.programCounter=u16Portable(Cpu.programCounter+1),12;case 233:return Cpu.programCounter=concatenateBytes(Cpu.registerH,Cpu.registerL),4;case 234:return eightBitStoreSyncCycles(getConcatenatedDataByte(),Cpu.registerA),Cpu.programCounter=u16Portable(Cpu.programCounter+2),4;
case 238:return xorARegister(getDataByteOne()),Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 239:return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,Cpu.programCounter),Cpu.programCounter=40,8}return-1}
function handleOpcodeFx($largeDataByteOne$jscomp$1_opcode$jscomp$16_registerAF1_registerHL$jscomp$2_signedDataByteOne$$){switch($largeDataByteOne$jscomp$1_opcode$jscomp$16_registerAF1_registerHL$jscomp$2_signedDataByteOne$$){case 240:return $largeDataByteOne$jscomp$1_opcode$jscomp$16_registerAF1_registerHL$jscomp$2_signedDataByteOne$$=getDataByteOne(),Cpu.registerA=u8Portable(eightBitLoadSyncCycles(65280+$largeDataByteOne$jscomp$1_opcode$jscomp$16_registerAF1_registerHL$jscomp$2_signedDataByteOne$$)),
Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 241:return $largeDataByteOne$jscomp$1_opcode$jscomp$16_registerAF1_registerHL$jscomp$2_signedDataByteOne$$=sixteenBitLoadSyncCycles(Cpu.stackPointer),Cpu.stackPointer=u16Portable(Cpu.stackPointer+2),Cpu.registerA=splitHighByte($largeDataByteOne$jscomp$1_opcode$jscomp$16_registerAF1_registerHL$jscomp$2_signedDataByteOne$$),Cpu.registerF=splitLowByte($largeDataByteOne$jscomp$1_opcode$jscomp$16_registerAF1_registerHL$jscomp$2_signedDataByteOne$$),
4;case 242:return Cpu.registerA=u8Portable(eightBitLoadSyncCycles(65280+Cpu.registerC)),4;case 243:return setInterrupts(!1),4;case 245:return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,concatenateBytes(Cpu.registerA,Cpu.registerF)),8;case 246:return orARegister(getDataByteOne()),Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 247:return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,Cpu.programCounter),
Cpu.programCounter=48,8;case 248:return $largeDataByteOne$jscomp$1_opcode$jscomp$16_registerAF1_registerHL$jscomp$2_signedDataByteOne$$=i8Portable(getDataByteOne()),setZeroFlag$$1(0),setSubtractFlag(0),checkAndSetSixteenBitFlagsAddOverflow(Cpu.stackPointer,$largeDataByteOne$jscomp$1_opcode$jscomp$16_registerAF1_registerHL$jscomp$2_signedDataByteOne$$,!0),$largeDataByteOne$jscomp$1_opcode$jscomp$16_registerAF1_registerHL$jscomp$2_signedDataByteOne$$=u16Portable(Cpu.stackPointer+$largeDataByteOne$jscomp$1_opcode$jscomp$16_registerAF1_registerHL$jscomp$2_signedDataByteOne$$),
Cpu.registerH=splitHighByte($largeDataByteOne$jscomp$1_opcode$jscomp$16_registerAF1_registerHL$jscomp$2_signedDataByteOne$$),Cpu.registerL=splitLowByte($largeDataByteOne$jscomp$1_opcode$jscomp$16_registerAF1_registerHL$jscomp$2_signedDataByteOne$$),Cpu.programCounter=u16Portable(Cpu.programCounter+1),8;case 249:return Cpu.stackPointer=concatenateBytes(Cpu.registerH,Cpu.registerL),8;case 250:return Cpu.registerA=eightBitLoadSyncCycles(getConcatenatedDataByte()),Cpu.programCounter=u16Portable(Cpu.programCounter+
2),4;case 251:return setInterrupts(!0),4;case 254:return cpARegister(getDataByteOne()),Cpu.programCounter=u16Portable(Cpu.programCounter+1),4;case 255:return Cpu.stackPointer=u16Portable(Cpu.stackPointer-2),sixteenBitStoreSyncCycles(Cpu.stackPointer,Cpu.programCounter),Cpu.programCounter=56,8}return-1}var Cycles=function(){function $Cycles$$(){}$Cycles$$.cyclesPerCycleSet=2E9;$Cycles$$.cycleSets=0;$Cycles$$.cycles=0;return $Cycles$$}();
function getCyclesPerCycleSet(){return Cycles.cyclesPerCycleSet}function getCycleSets(){return Cycles.cycleSets}function getCycles(){return Cycles.cycles}function trackCyclesRan($numberOfCycles$$){Cycles.cycles+=$numberOfCycles$$;Cycles.cycles>=Cycles.cyclesPerCycleSet&&(Cycles.cycleSets+=1,Cycles.cycles-=Cycles.cyclesPerCycleSet)}function resetCycles(){Cycles.cyclesPerCycleSet=2E9;Cycles.cycleSets=0;Cycles.cycles=0}
function syncCycles($numberOfCycles$$){0<Memory.DMACycles&&($numberOfCycles$$+=Memory.DMACycles,Memory.DMACycles=0);Cpu.currentCycles+=$numberOfCycles$$;Cpu.isStopped||(Config.graphicsBatchProcessing?(Graphics.currentCycles+=$numberOfCycles$$,batchProcessGraphics()):updateGraphics($numberOfCycles$$),Config.audioBatchProcessing?Sound.currentCycles+=$numberOfCycles$$:updateSound($numberOfCycles$$),updateSerial($numberOfCycles$$));Config.timersBatchProcessing?(Timers.currentCycles+=$numberOfCycles$$,
batchProcessTimers()):updateTimers($numberOfCycles$$);trackCyclesRan($numberOfCycles$$)}var Execute=function(){function $Execute$$(){}$Execute$$.stepsPerStepSet=2E9;$Execute$$.stepSets=0;$Execute$$.steps=0;$Execute$$.RESPONSE_CONDITION_ERROR=-1;$Execute$$.RESPONSE_CONDITION_FRAME=0;$Execute$$.RESPONSE_CONDITION_AUDIO=1;$Execute$$.RESPONSE_CONDITION_BREAKPOINT=2;return $Execute$$}();function getStepsPerStepSet(){return Execute.stepsPerStepSet}function getStepSets(){return Execute.stepSets}
function getSteps(){return Execute.steps}function trackStepsRan($steps$$){Execute.steps+=$steps$$;Execute.steps>=Execute.stepsPerStepSet&&(Execute.stepSets+=1,Execute.steps-=Execute.stepsPerStepSet)}function resetSteps(){Execute.stepsPerStepSet=2E9;Execute.stepSets=0;Execute.steps=0}
function executeMultipleFrames($numberOfFrames$$){for(var $frameResponse$$=0,$framesRun$$=0;$framesRun$$<$numberOfFrames$$&&0<=$frameResponse$$;)$frameResponse$$=executeFrame(),$framesRun$$+=1;return 0>$frameResponse$$?$frameResponse$$:0}function executeFrame(){return executeUntilCondition(!0,-1)}function executeFrameAndCheckAudio($maxAudioBuffer$$){void 0===$maxAudioBuffer$$&&($maxAudioBuffer$$=0);return executeUntilCondition(!0,$maxAudioBuffer$$)}
function executeUntilCondition($audioBufferSize_checkMaxCyclesPerFrame$$,$maxAudioBuffer$jscomp$1_numberOfCycles$$){void 0===$maxAudioBuffer$jscomp$1_numberOfCycles$$&&($maxAudioBuffer$jscomp$1_numberOfCycles$$=-1);$audioBufferSize_checkMaxCyclesPerFrame$$=1024;0<$maxAudioBuffer$jscomp$1_numberOfCycles$$?$audioBufferSize_checkMaxCyclesPerFrame$$=$maxAudioBuffer$jscomp$1_numberOfCycles$$:0>$maxAudioBuffer$jscomp$1_numberOfCycles$$&&($audioBufferSize_checkMaxCyclesPerFrame$$=-1);for(var $errorCondition$$=
!1,$frameCondition$$=!1,$audioBufferCondition$$=!1;!($errorCondition$$||$frameCondition$$||$audioBufferCondition$$||Breakpoints.reachedBreakpoint);)$maxAudioBuffer$jscomp$1_numberOfCycles$$=executeStep(),0>$maxAudioBuffer$jscomp$1_numberOfCycles$$?$errorCondition$$=!0:Cpu.currentCycles>=Cpu.MAX_CYCLES_PER_FRAME()?$frameCondition$$=!0:-1<$audioBufferSize_checkMaxCyclesPerFrame$$&&getNumberOfSamplesInAudioBuffer()>=$audioBufferSize_checkMaxCyclesPerFrame$$&&($audioBufferCondition$$=!0);if($frameCondition$$)return Cpu.currentCycles-=
Cpu.MAX_CYCLES_PER_FRAME(),Execute.RESPONSE_CONDITION_FRAME;if($audioBufferCondition$$)return Execute.RESPONSE_CONDITION_AUDIO;if(Breakpoints.reachedBreakpoint)return Breakpoints.reachedBreakpoint=!1,Execute.RESPONSE_CONDITION_BREAKPOINT;Cpu.programCounter=u16Portable(Cpu.programCounter-1);return-1}
function executeStep(){setHasCoreStarted(!0);if(Cpu.isHaltBug){var $haltBugCycles_haltBugOpcode_interruptCycles_numberOfCycles$jscomp$19_opcode$$=eightBitLoadFromGBMemory(Cpu.programCounter);$haltBugCycles_haltBugOpcode_interruptCycles_numberOfCycles$jscomp$19_opcode$$=executeOpcode$$1($haltBugCycles_haltBugOpcode_interruptCycles_numberOfCycles$jscomp$19_opcode$$);syncCycles($haltBugCycles_haltBugOpcode_interruptCycles_numberOfCycles$jscomp$19_opcode$$);Cpu.exitHaltAndStop()}$haltBugCycles_haltBugOpcode_interruptCycles_numberOfCycles$jscomp$19_opcode$$=
checkInterrupts();0<$haltBugCycles_haltBugOpcode_interruptCycles_numberOfCycles$jscomp$19_opcode$$&&syncCycles($haltBugCycles_haltBugOpcode_interruptCycles_numberOfCycles$jscomp$19_opcode$$);$haltBugCycles_haltBugOpcode_interruptCycles_numberOfCycles$jscomp$19_opcode$$=4;Cpu.isHalted()||Cpu.isStopped||($haltBugCycles_haltBugOpcode_interruptCycles_numberOfCycles$jscomp$19_opcode$$=eightBitLoadFromGBMemory(Cpu.programCounter),$haltBugCycles_haltBugOpcode_interruptCycles_numberOfCycles$jscomp$19_opcode$$=
executeOpcode$$1($haltBugCycles_haltBugOpcode_interruptCycles_numberOfCycles$jscomp$19_opcode$$));Cpu.registerF&=240;if(0>=$haltBugCycles_haltBugOpcode_interruptCycles_numberOfCycles$jscomp$19_opcode$$)return $haltBugCycles_haltBugOpcode_interruptCycles_numberOfCycles$jscomp$19_opcode$$;syncCycles($haltBugCycles_haltBugOpcode_interruptCycles_numberOfCycles$jscomp$19_opcode$$);trackStepsRan(1);Cpu.programCounter===Breakpoints.programCounter&&(Breakpoints.reachedBreakpoint=!0);return $haltBugCycles_haltBugOpcode_interruptCycles_numberOfCycles$jscomp$19_opcode$$}
memory.size()<WASMBOY_WASM_PAGES&&memory.grow(WASMBOY_WASM_PAGES-memory.size());var hasStarted=!1;function setHasCoreStarted($value$$){hasStarted=$value$$}function hasCoreStarted(){return hasStarted?1:0}
function config($enableBootRom$$,$useGbcWhenAvailable$$,$audioBatchProcessing$$,$graphicsBatchProcessing$$,$timersBatchProcessing$$,$graphicsDisableScanlineRendering$$,$audioAccumulateSamples$$,$tileRendering$$,$tileCaching$$,$enableAudioDebugging$$){Config.enableBootRom=0<$enableBootRom$$?!0:!1;Config.useGbcWhenAvailable=0<$useGbcWhenAvailable$$?!0:!1;Config.audioBatchProcessing=0<$audioBatchProcessing$$?!0:!1;Config.graphicsBatchProcessing=0<$graphicsBatchProcessing$$?!0:!1;Config.timersBatchProcessing=
0<$timersBatchProcessing$$?!0:!1;Config.graphicsDisableScanlineRendering=0<$graphicsDisableScanlineRendering$$?!0:!1;Config.audioAccumulateSamples=0<$audioAccumulateSamples$$?!0:!1;Config.tileRendering=0<$tileRendering$$?!0:!1;Config.tileCaching=0<$tileCaching$$?!0:!1;Config.enableAudioDebugging=0<$enableAudioDebugging$$?!0:!1;initialize()}
function initialize(){var $gbcType$$=eightBitLoadFromGBMemory(323);Cpu.GBCEnabled=192===$gbcType$$||Config.useGbcWhenAvailable&&128===$gbcType$$?!0:!1;initializeCpu();initializeCartridge();initializeDma();initializeGraphics();initializePalette();initializeSound();initializeInterrupts();initializeTimers();initializeSerial();Cpu.GBCEnabled?(eightBitStoreIntoGBMemory(65392,248),eightBitStoreIntoGBMemory(65359,254),eightBitStoreIntoGBMemory(65357,126),eightBitStoreIntoGBMemory(65280,207),eightBitStoreIntoGBMemory(65295,
225),eightBitStoreIntoGBMemory(65388,254),eightBitStoreIntoGBMemory(65397,143)):(eightBitStoreIntoGBMemory(65392,255),eightBitStoreIntoGBMemory(65359,255),eightBitStoreIntoGBMemory(65357,255),eightBitStoreIntoGBMemory(65280,207),eightBitStoreIntoGBMemory(65295,225));setHasCoreStarted(!1);resetCycles();resetSteps()}function isGBC(){return Cpu.GBCEnabled?1:0}function getSaveStateMemoryOffset($offset$$,$saveStateSlot$$){return WASMBOY_STATE_LOCATION+$offset$$+50*$saveStateSlot$$}
function saveState(){Cpu.saveState();Graphics.saveState();Interrupts.saveState();Joypad.saveState();Memory.saveState();Timers.saveState();Sound.saveState();Channel1.saveState();Channel2.saveState();Channel3.saveState();Channel4.saveState();setHasCoreStarted(!1)}
function loadState(){Cpu.loadState();Graphics.loadState();Interrupts.loadState();Joypad.loadState();Memory.loadState();Timers.loadState();Sound.loadState();Channel1.loadState();Channel2.loadState();Channel3.loadState();Channel4.loadState();setHasCoreStarted(!1);resetCycles();resetSteps()}function getRegisterA(){return Cpu.registerA}function getRegisterB(){return Cpu.registerB}function getRegisterC(){return Cpu.registerC}function getRegisterD(){return Cpu.registerD}
function getRegisterE(){return Cpu.registerE}function getRegisterH(){return Cpu.registerH}function getRegisterL(){return Cpu.registerL}function getRegisterF(){return Cpu.registerF}function getProgramCounter(){return Cpu.programCounter}function getStackPointer(){return Cpu.stackPointer}function getOpcodeAtProgramCounter(){return eightBitLoadFromGBMemory(Cpu.programCounter)}function getLY(){return Graphics.scanlineRegister}
function drawBackgroundMapToWasmMemory($showColor$$){var $tileDataMemoryLocation$$=Graphics.memoryLocationTileDataSelectZeroStart;Lcd.bgWindowTileDataSelect&&($tileDataMemoryLocation$$=Graphics.memoryLocationTileDataSelectOneStart);var $tileMapMemoryLocation$$=Graphics.memoryLocationTileMapSelectZeroStart;Lcd.bgTileMapDisplaySelect&&($tileMapMemoryLocation$$=Graphics.memoryLocationTileMapSelectOneStart);for(var $y$$=0;256>$y$$;$y$$++)for(var $x$$=0;256>$x$$;$x$$++){var $green$jscomp$6_pixelXInTile$jscomp$3_pixelYPositionInMap$$=
$y$$,$bgMapAttributes$jscomp$3_hexColor$jscomp$4_pixelXPositionInMap$jscomp$5_red$$=$x$$,$blue$jscomp$6_byteOneForLineOfTilePixels$jscomp$3_rgbColorPalette$jscomp$3_tileMapAddress$$=$tileMapMemoryLocation$$+32*($green$jscomp$6_pixelXInTile$jscomp$3_pixelYPositionInMap$$>>3)+($bgMapAttributes$jscomp$3_hexColor$jscomp$4_pixelXPositionInMap$jscomp$5_red$$>>3),$byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$=loadFromVramBank($blue$jscomp$6_byteOneForLineOfTilePixels$jscomp$3_rgbColorPalette$jscomp$3_tileMapAddress$$,
0);$byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$=getTileDataAddress($tileDataMemoryLocation$$,$byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$);var $paletteColorId$jscomp$3_pixelYInTile$$=$green$jscomp$6_pixelXInTile$jscomp$3_pixelYPositionInMap$$%8;$green$jscomp$6_pixelXInTile$jscomp$3_pixelYPositionInMap$$=$bgMapAttributes$jscomp$3_hexColor$jscomp$4_pixelXPositionInMap$jscomp$5_red$$%
8;$green$jscomp$6_pixelXInTile$jscomp$3_pixelYPositionInMap$$=7-$green$jscomp$6_pixelXInTile$jscomp$3_pixelYPositionInMap$$;$bgMapAttributes$jscomp$3_hexColor$jscomp$4_pixelXPositionInMap$jscomp$5_red$$=0;Cpu.GBCEnabled&&0<$showColor$$&&($bgMapAttributes$jscomp$3_hexColor$jscomp$4_pixelXPositionInMap$jscomp$5_red$$=loadFromVramBank($blue$jscomp$6_byteOneForLineOfTilePixels$jscomp$3_rgbColorPalette$jscomp$3_tileMapAddress$$,1));checkBitOnByte(6,$bgMapAttributes$jscomp$3_hexColor$jscomp$4_pixelXPositionInMap$jscomp$5_red$$)&&
($paletteColorId$jscomp$3_pixelYInTile$$=7-$paletteColorId$jscomp$3_pixelYInTile$$);var $vramBankId$$=0;checkBitOnByte(3,$bgMapAttributes$jscomp$3_hexColor$jscomp$4_pixelXPositionInMap$jscomp$5_red$$)&&($vramBankId$$=1);$blue$jscomp$6_byteOneForLineOfTilePixels$jscomp$3_rgbColorPalette$jscomp$3_tileMapAddress$$=loadFromVramBank($byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$+2*$paletteColorId$jscomp$3_pixelYInTile$$,$vramBankId$$);
$byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$=loadFromVramBank($byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$+2*$paletteColorId$jscomp$3_pixelYInTile$$+1,$vramBankId$$);$paletteColorId$jscomp$3_pixelYInTile$$=0;checkBitOnByte($green$jscomp$6_pixelXInTile$jscomp$3_pixelYPositionInMap$$,$byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$)&&
($paletteColorId$jscomp$3_pixelYInTile$$+=1,$paletteColorId$jscomp$3_pixelYInTile$$<<=1);checkBitOnByte($green$jscomp$6_pixelXInTile$jscomp$3_pixelYPositionInMap$$,$blue$jscomp$6_byteOneForLineOfTilePixels$jscomp$3_rgbColorPalette$jscomp$3_tileMapAddress$$)&&($paletteColorId$jscomp$3_pixelYInTile$$+=1);$byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$=3*(256*$y$$+$x$$);Cpu.GBCEnabled&&0<$showColor$$?($blue$jscomp$6_byteOneForLineOfTilePixels$jscomp$3_rgbColorPalette$jscomp$3_tileMapAddress$$=
getRgbColorFromPalette($bgMapAttributes$jscomp$3_hexColor$jscomp$4_pixelXPositionInMap$jscomp$5_red$$&7,$paletteColorId$jscomp$3_pixelYInTile$$,!1),$bgMapAttributes$jscomp$3_hexColor$jscomp$4_pixelXPositionInMap$jscomp$5_red$$=getColorComponentFromRgb(0,$blue$jscomp$6_byteOneForLineOfTilePixels$jscomp$3_rgbColorPalette$jscomp$3_tileMapAddress$$),$green$jscomp$6_pixelXInTile$jscomp$3_pixelYPositionInMap$$=getColorComponentFromRgb(1,$blue$jscomp$6_byteOneForLineOfTilePixels$jscomp$3_rgbColorPalette$jscomp$3_tileMapAddress$$),
$blue$jscomp$6_byteOneForLineOfTilePixels$jscomp$3_rgbColorPalette$jscomp$3_tileMapAddress$$=getColorComponentFromRgb(2,$blue$jscomp$6_byteOneForLineOfTilePixels$jscomp$3_rgbColorPalette$jscomp$3_tileMapAddress$$),$byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$=BACKGROUND_MAP_LOCATION+$byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$,store($byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$,
$bgMapAttributes$jscomp$3_hexColor$jscomp$4_pixelXPositionInMap$jscomp$5_red$$),store($byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$+1,$green$jscomp$6_pixelXInTile$jscomp$3_pixelYPositionInMap$$),store($byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$+2,$blue$jscomp$6_byteOneForLineOfTilePixels$jscomp$3_rgbColorPalette$jscomp$3_tileMapAddress$$)):($bgMapAttributes$jscomp$3_hexColor$jscomp$4_pixelXPositionInMap$jscomp$5_red$$=
getColorizedGbHexColorFromPalette($paletteColorId$jscomp$3_pixelYInTile$$,Graphics.memoryLocationBackgroundPalette),$byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$=BACKGROUND_MAP_LOCATION+$byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$,store($byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$+
0,getRedFromHexColor($bgMapAttributes$jscomp$3_hexColor$jscomp$4_pixelXPositionInMap$jscomp$5_red$$)),store($byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$+1,getGreenFromHexColor($bgMapAttributes$jscomp$3_hexColor$jscomp$4_pixelXPositionInMap$jscomp$5_red$$)),store($byteTwoForLineOfTilePixels$jscomp$3_offset$jscomp$36_pixelStart$jscomp$2_tileDataAddress$jscomp$3_tileIdFromTileMap$$+2,getBlueFromHexColor($bgMapAttributes$jscomp$3_hexColor$jscomp$4_pixelXPositionInMap$jscomp$5_red$$)))}}
function drawTileDataToWasmMemory(){for(var $tileDataMapGridY$$=0;23>$tileDataMapGridY$$;$tileDataMapGridY$$++)for(var $tileDataMapGridX$$=0;31>$tileDataMapGridX$$;$tileDataMapGridX$$++){var $vramBankId$$=0;15<$tileDataMapGridX$$&&($vramBankId$$=1);var $tileId$$=$tileDataMapGridY$$;15<$tileDataMapGridY$$&&($tileId$$-=15);$tileId$$<<=4;$tileId$$=15<$tileDataMapGridX$$?$tileId$$+($tileDataMapGridX$$-15):$tileId$$+$tileDataMapGridX$$;var $tileDataMemoryLocation$$=Graphics.memoryLocationTileDataSelectOneStart;
15<$tileDataMapGridY$$&&($tileDataMemoryLocation$$=Graphics.memoryLocationTileDataSelectZeroStart);for(var $paletteLocation$$=Graphics.memoryLocationBackgroundPalette,$bgMapAttributes$$=-1,$spriteAttributes$$=-1,$spriteRow_tileLineY$jscomp$2_tileMapMemoryLocation$$=0;8>$spriteRow_tileLineY$jscomp$2_tileMapMemoryLocation$$;$spriteRow_tileLineY$jscomp$2_tileMapMemoryLocation$$++)for(var $foundTileMapAddress_spriteColumn$$=0;5>$foundTileMapAddress_spriteColumn$$;$foundTileMapAddress_spriteColumn$$++){var $currentSpriteAttributes_spriteTableIndex$jscomp$1_x$$=
4*(8*$foundTileMapAddress_spriteColumn$$+$spriteRow_tileLineY$jscomp$2_tileMapMemoryLocation$$),$spriteTileId$jscomp$1_spriteVramBankId_y$$=eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable+$currentSpriteAttributes_spriteTableIndex$jscomp$1_x$$+2);$tileId$$===$spriteTileId$jscomp$1_spriteVramBankId_y$$&&($currentSpriteAttributes_spriteTableIndex$jscomp$1_x$$=eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable+$currentSpriteAttributes_spriteTableIndex$jscomp$1_x$$+
3),$spriteTileId$jscomp$1_spriteVramBankId_y$$=0,Cpu.GBCEnabled&&checkBitOnByte(3,$currentSpriteAttributes_spriteTableIndex$jscomp$1_x$$)&&($spriteTileId$jscomp$1_spriteVramBankId_y$$=1),$spriteTileId$jscomp$1_spriteVramBankId_y$$===$vramBankId$$&&($spriteAttributes$$=$currentSpriteAttributes_spriteTableIndex$jscomp$1_x$$,$spriteRow_tileLineY$jscomp$2_tileMapMemoryLocation$$=8,$foundTileMapAddress_spriteColumn$$=5,$paletteLocation$$=Graphics.memoryLocationSpritePaletteOne,checkBitOnByte(4,$spriteAttributes$$)&&
($paletteLocation$$=Graphics.memoryLocationSpritePaletteTwo)))}if(Cpu.GBCEnabled&&0>$spriteAttributes$$){$spriteRow_tileLineY$jscomp$2_tileMapMemoryLocation$$=Graphics.memoryLocationTileMapSelectZeroStart;Lcd.bgTileMapDisplaySelect&&($spriteRow_tileLineY$jscomp$2_tileMapMemoryLocation$$=Graphics.memoryLocationTileMapSelectOneStart);$foundTileMapAddress_spriteColumn$$=-1;for($currentSpriteAttributes_spriteTableIndex$jscomp$1_x$$=0;32>$currentSpriteAttributes_spriteTableIndex$jscomp$1_x$$;$currentSpriteAttributes_spriteTableIndex$jscomp$1_x$$++)for($spriteTileId$jscomp$1_spriteVramBankId_y$$=
0;32>$spriteTileId$jscomp$1_spriteVramBankId_y$$;$spriteTileId$jscomp$1_spriteVramBankId_y$$++){var $tileMapAddress$$=$spriteRow_tileLineY$jscomp$2_tileMapMemoryLocation$$+32*$spriteTileId$jscomp$1_spriteVramBankId_y$$+$currentSpriteAttributes_spriteTableIndex$jscomp$1_x$$,$tileIdFromTileMap$$=loadFromVramBank($tileMapAddress$$,0);$tileId$$===$tileIdFromTileMap$$&&($foundTileMapAddress_spriteColumn$$=$tileMapAddress$$,$spriteTileId$jscomp$1_spriteVramBankId_y$$=$currentSpriteAttributes_spriteTableIndex$jscomp$1_x$$=
32)}0<=$foundTileMapAddress_spriteColumn$$&&($bgMapAttributes$$=loadFromVramBank($foundTileMapAddress_spriteColumn$$,1))}for($spriteRow_tileLineY$jscomp$2_tileMapMemoryLocation$$=0;8>$spriteRow_tileLineY$jscomp$2_tileMapMemoryLocation$$;$spriteRow_tileLineY$jscomp$2_tileMapMemoryLocation$$++)drawPixelsFromLineOfTile($tileId$$,$tileDataMemoryLocation$$,$vramBankId$$,0,7,$spriteRow_tileLineY$jscomp$2_tileMapMemoryLocation$$,8*$tileDataMapGridX$$,8*$tileDataMapGridY$$+$spriteRow_tileLineY$jscomp$2_tileMapMemoryLocation$$,
248,TILE_DATA_LOCATION,!1,$paletteLocation$$,$bgMapAttributes$$,$spriteAttributes$$)}}
function drawOamToWasmMemory(){for(var $spriteRow$$=0;8>$spriteRow$$;$spriteRow$$++)for(var $spriteColumn$$=0;5>$spriteColumn$$;$spriteColumn$$++){var $spriteAttributes$jscomp$3_spriteTableIndex$$=4*(8*$spriteColumn$$+$spriteRow$$);eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable+$spriteAttributes$jscomp$3_spriteTableIndex$$);eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable+$spriteAttributes$jscomp$3_spriteTableIndex$$+1);var $spriteTileId$$=eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable+
$spriteAttributes$jscomp$3_spriteTableIndex$$+2),$tilesToDraw$$=1;Lcd.tallSpriteSize&&(1===$spriteTileId$$%2&&--$spriteTileId$$,$tilesToDraw$$+=1);$spriteAttributes$jscomp$3_spriteTableIndex$$=eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable+$spriteAttributes$jscomp$3_spriteTableIndex$$+3);var $vramBankId$$=0;Cpu.GBCEnabled&&checkBitOnByte(3,$spriteAttributes$jscomp$3_spriteTableIndex$$)&&($vramBankId$$=1);var $paletteLocation$$=Graphics.memoryLocationSpritePaletteOne;checkBitOnByte(4,
$spriteAttributes$jscomp$3_spriteTableIndex$$)&&($paletteLocation$$=Graphics.memoryLocationSpritePaletteTwo);for(var $i$$=0;$i$$<$tilesToDraw$$;$i$$++)for(var $tileLineY$$=0;8>$tileLineY$$;$tileLineY$$++)drawPixelsFromLineOfTile($spriteTileId$$+$i$$,Graphics.memoryLocationTileDataSelectOneStart,$vramBankId$$,0,7,$tileLineY$$,8*$spriteRow$$,16*$spriteColumn$$+$tileLineY$$+8*$i$$,64,OAM_TILES_LOCATION,!1,$paletteLocation$$,-1,$spriteAttributes$jscomp$3_spriteTableIndex$$)}}
function getDIV(){return Timers.dividerRegister}function getTIMA(){return Timers.timerCounter}function getTMA(){return Timers.timerModulo}function getTAC(){var $response$$=Timers.timerInputClock;Timers.timerEnabled&&($response$$=setBitOnByte(2,$response$$));return $response$$}function updateDebugGBMemory(){for(var $i$$=0;$i$$<DEBUG_GAMEBOY_MEMORY_SIZE;$i$$++)store(DEBUG_GAMEBOY_MEMORY_LOCATION+$i$$,eightBitLoadFromGBMemoryWithTraps($i$$));Breakpoints.reachedBreakpoint=!1}
var wasmMemorySize=WASMBOY_MEMORY_SIZE,wasmBoyInternalStateLocation=WASMBOY_STATE_LOCATION,wasmBoyInternalStateSize=WASMBOY_STATE_SIZE,gameBoyInternalMemoryLocation=GAMEBOY_INTERNAL_MEMORY_LOCATION,gameBoyInternalMemorySize=GAMEBOY_INTERNAL_MEMORY_SIZE,videoOutputLocation=GRAPHICS_OUTPUT_LOCATION,gameboyColorPaletteLocation=GBC_PALETTE_LOCATION,gameboyColorPaletteSize=GBC_PALETTE_SIZE,frameInProgressVideoOutputLocation=FRAME_LOCATION,backgroundMapLocation=BACKGROUND_MAP_LOCATION,tileDataMap=TILE_DATA_LOCATION,
soundOutputLocation=AUDIO_BUFFER_LOCATION,gameRamBanksLocation=CARTRIDGE_RAM_LOCATION,gameBytesLocation=CARTRIDGE_ROM_LOCATION,WasmBoyCore=Object.freeze({memory,config,hasCoreStarted,saveState,loadState,isGBC,getStepsPerStepSet,getStepSets,getSteps,executeMultipleFrames,executeFrame,executeFrameAndCheckAudio,executeUntilCondition,executeStep,getCyclesPerCycleSet,getCycleSets,getCycles,setJoypadState,getNumberOfSamplesInAudioBuffer,clearAudioBuffer,setManualColorizationPalette,WASMBOY_MEMORY_LOCATION,
WASMBOY_MEMORY_SIZE,WASMBOY_WASM_PAGES,ASSEMBLYSCRIPT_MEMORY_LOCATION,ASSEMBLYSCRIPT_MEMORY_SIZE,WASMBOY_STATE_LOCATION,WASMBOY_STATE_SIZE,GAMEBOY_INTERNAL_MEMORY_LOCATION,GAMEBOY_INTERNAL_MEMORY_SIZE,VIDEO_RAM_LOCATION,VIDEO_RAM_SIZE,WORK_RAM_LOCATION,WORK_RAM_SIZE,OTHER_GAMEBOY_INTERNAL_MEMORY_LOCATION,OTHER_GAMEBOY_INTERNAL_MEMORY_SIZE,GRAPHICS_OUTPUT_LOCATION,GRAPHICS_OUTPUT_SIZE,GBC_PALETTE_LOCATION,GBC_PALETTE_SIZE,BG_PRIORITY_MAP_LOCATION,BG_PRIORITY_MAP_SIZE,FRAME_LOCATION,FRAME_SIZE,BACKGROUND_MAP_LOCATION,
BACKGROUND_MAP_SIZE,TILE_DATA_LOCATION,TILE_DATA_SIZE,OAM_TILES_LOCATION,OAM_TILES_SIZE,AUDIO_BUFFER_LOCATION,AUDIO_BUFFER_SIZE,CHANNEL_1_BUFFER_LOCATION,CHANNEL_1_BUFFER_SIZE,CHANNEL_2_BUFFER_LOCATION,CHANNEL_2_BUFFER_SIZE,CHANNEL_3_BUFFER_LOCATION,CHANNEL_3_BUFFER_SIZE,CHANNEL_4_BUFFER_LOCATION,CHANNEL_4_BUFFER_SIZE,CARTRIDGE_RAM_LOCATION,CARTRIDGE_RAM_SIZE,CARTRIDGE_ROM_LOCATION,CARTRIDGE_ROM_SIZE,DEBUG_GAMEBOY_MEMORY_LOCATION,DEBUG_GAMEBOY_MEMORY_SIZE,getWasmBoyOffsetFromGameBoyOffset,setProgramCounterBreakpoint,
resetProgramCounterBreakpoint,setReadGbMemoryBreakpoint,resetReadGbMemoryBreakpoint,setWriteGbMemoryBreakpoint,resetWriteGbMemoryBreakpoint,getRegisterA,getRegisterB,getRegisterC,getRegisterD,getRegisterE,getRegisterH,getRegisterL,getRegisterF,getProgramCounter,getStackPointer,getOpcodeAtProgramCounter,getLY,drawBackgroundMapToWasmMemory,drawTileDataToWasmMemory,drawOamToWasmMemory,getDIV,getTIMA,getTMA,getTAC,updateDebugGBMemory,update:executeFrame,emulationStep:executeStep,getAudioQueueIndex:getNumberOfSamplesInAudioBuffer,
resetAudioQueue:clearAudioBuffer,wasmMemorySize,wasmBoyInternalStateLocation,wasmBoyInternalStateSize,gameBoyInternalMemoryLocation,gameBoyInternalMemorySize,videoOutputLocation,frameInProgressVideoOutputLocation,gameboyColorPaletteLocation,gameboyColorPaletteSize,backgroundMapLocation,tileDataMap,soundOutputLocation,gameBytesLocation,gameRamBanksLocation});const getWasmBoyTsCore=async()=>({instance:{exports:WasmBoyCore},byteMemory:memory.wasmByteMemory,type:"TypeScript"});module.exports=getWasmBoyTsCore;
